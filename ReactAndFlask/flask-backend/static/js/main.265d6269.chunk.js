(this.webpackJsonpreactfrontend=this.webpackJsonpreactfrontend||[]).push([[0],{117:function(e,t,a){e.exports=a(148)},122:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var s,n=a(0),i=a.n(n),r=a(18),o=a.n(r),l=(a(122),a(9)),c=a(7),d=a(10),u=a(11),h=a(4),m=a(12),p=a(15),v=a(187),g=a(196),b=a(213),f=a(13),w=a.n(f),E="http://localhost:4010/",S=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","W","X","Y","Z"],k=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60];function y(e,t){return E+e+t}!function(e){e.ADMIN="admin",e.USER="user"}(s||(s={}));var M,O,C=a(211),j=a(149),I=a(183),V=a(95),U=a.n(V),_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(I.a,{in:this.props.open},i.a.createElement(C.a,{severity:this.props.severity,action:i.a.createElement(j.a,{"aria-label":"close",color:"inherit",size:"small",onClick:this.props.closeStatus},i.a.createElement(U.a,{fontSize:"inherit"}))},this.props.message)))}}]),t}(i.a.Component),D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={hasError:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?i.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return"An unforseen error occurred. Please refresh the page and try again later."}}]),t}(i.a.Component),x=a(188),R=a(189),L=a(190),T=a(96),N=a.n(T),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:"",statusMessage:"",showStatus:!1,statusSeverity:"info"},a.closeShowStatus=a.closeShowStatus.bind(Object(h.a)(a)),a.submitCredentials=a.submitCredentials.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"submitCredentials",value:function(){var e=this;w.a.post(y("users/","authenticate"),{username:this.state.username,password:this.state.password}).then((function(t){"success"==t.data.message?(e.setState({message:""}),e.props.loginFunc(t.data.token,t.data.privilege)):e.setState({showStatus:!0,statusMessage:t.data.message})})),this.props.loginFunc("token",s.ADMIN)}},{key:"updateUsername",value:function(e){this.setState({username:e.target.value})}},{key:"updatePassword",value:function(e){this.setState({password:e.target.value})}},{key:"closeShowStatus",value:function(){this.setState({showStatus:!1})}},{key:"onKeyPressed",value:function(e){console.log("key down"),"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),this.submitCredentials())}},{key:"render",value:function(){var e,t=this;return i.a.createElement(v.a,{container:!0,spacing:5,direction:"column",justify:"flex-start",alignItems:"center",onKeyDown:function(e){return t.onKeyPressed(e)},style:(e={minHeight:"102vh",background:"#56ab2f"},Object(p.a)(e,"background","-webkit-linear-gradient(to top, #a8e063, #56ab2f)"),Object(p.a)(e,"background","linear-gradient(to top, #a8e063, #56ab2f)"),e)},i.a.createElement(v.a,{item:!0,xs:12},i.a.createElement("img",{src:N.a,style:{height:"200px",marginTop:"50px"}})),i.a.createElement(v.a,{item:!0,xs:12},i.a.createElement(x.a,{style:{minWidth:"20vw"}},i.a.createElement(R.a,null,i.a.createElement(v.a,{container:!0,spacing:1,direction:"column",justify:"center",alignItems:"center"},i.a.createElement(v.a,{container:!0,item:!0,alignItems:"flex-start",xs:12},i.a.createElement(L.a,{variant:"h4",color:"textPrimary",fontWeight:"fontWeightBold",gutterBottom:!0},"Login")),i.a.createElement(v.a,{item:!0,xs:12},i.a.createElement(b.a,{id:"outlined-basic",label:"Username",variant:"outlined",required:!0,ref:"username",onChange:this.updateUsername.bind(this),style:{minWidth:"15vw"}})),i.a.createElement(v.a,{item:!0,xs:12},i.a.createElement(b.a,{id:"outlined-basic",label:"Password",variant:"outlined",required:!0,ref:"password",type:"password",onChange:this.updatePassword.bind(this),style:{minWidth:"15vw"}})),i.a.createElement(v.a,{item:!0,xs:12},i.a.createElement(g.a,{onClick:this.submitCredentials,variant:"contained",color:"primary",style:{minWidth:"15vw"}},"Sign In")),i.a.createElement(v.a,{container:!0,item:!0,direciton:"row",justify:"center",alignItems:"center",xs:12},i.a.createElement("hr",{style:{width:"5vw"}}),i.a.createElement(L.a,{color:"textSecondary"},"Or"),i.a.createElement("hr",{style:{width:"5vw"}})),i.a.createElement(v.a,{item:!0,xs:12},i.a.createElement(g.a,{onClick:this.submitCredentials,variant:"contained",color:"primary"},"Sign In with NetID")))))),i.a.createElement(v.a,{item:!0,xs:12},i.a.createElement(_,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage})))}}]),t}(i.a.Component),F=a(206),P=a(209),B=a(207),H=a(70);!function(e){e.create="create/",e.delete="delete/",e.edit="edit/",e.view="view/",e.detailView="detailView/",e.search="search/",e.VENDOR_VALUES="assistedvendor/",e.UPLOAD_FILE="import/",e.EXPORT_FILE="export/"}(M||(M={})),function(e){e.Vendor="vendor",e.model_number="model_number",e.Height="height",e.display_color="display_color",e.ethernet_ports="ethernet_ports",e.power_ports="power_ports",e.CPU="cpu",e.Memory="memory",e.Storage="storage",e.Comment="comment"}(O||(O={}));var z,G,K=a(51),W=a.n(K),Q=a(52),X=a.n(Q),Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(g.a,{variant:"contained",color:"primary",startIcon:i.a.createElement(W.a,null),onClick:this.props.openImportModal},"Import"),i.a.createElement(g.a,{variant:"contained",color:"primary",startIcon:i.a.createElement(X.a,null),onClick:this.props.downloadTable},"Export"))}}]),t}(i.a.Component),J=a(53),q=a.n(J),Z=a(99),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={filters:{}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"updateSearchText",value:function(e){if(this.state.filters.hasOwnProperty(e.target.id))this.state.filters[e.target.id]=e.target.value,this.forceUpdate();else{null==e.target.value||e.target.value;this.state.filters[e.target.id]=e.target.value,this.forceUpdate()}}},{key:"search",value:function(){this.props.search(this.state.filters)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.filters.map((function(t,a){return i.a.createElement("div",null,i.a.createElement(q.a,null),i.a.createElement(Z.a,{placeholder:t+" filter",inputProps:{"aria-label":"search"},onChange:e.updateSearchText.bind(e),id:t}))})),i.a.createElement("div",null,i.a.createElement(g.a,{onClick:this.search.bind(this)},"Search")),"Click the search button to populate table. Searching with empty filters searches over all values. Click on row values to see detailed view.")}}]),t}(i.a.Component),ee=a(199),te=a(214),ae=a(197),se=a(198),ne=a(20),ie=a.n(ne),re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={showConfirmationBox:!1},a.closeModal=a.closeModal.bind(Object(h.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(h.a)(a)),a.deleteItem=a.deleteItem.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"confirmDelete",value:function(){this.setState({showConfirmationBox:!0})}},{key:"closeModal",value:function(){this.setState({showConfirmationBox:!1})}},{key:"deleteItem",value:function(){this.setState({showConfirmationBox:!1}),this.props.delete()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.showDetailedView?i.a.createElement(te.a,null,i.a.createElement(ae.a,{expandIcon:i.a.createElement(ie.a,null)},i.a.createElement(L.a,null,"Create")),i.a.createElement(se.a,null,this.props.loading?i.a.createElement(ee.a,null):i.a.createElement("div",null,this.props.inputs.map((function(t){return i.a.createElement(b.a,{name:t,disabled:e.props.disabled,id:"standard-basic",label:t,onChange:e.props.updateModelEdited,defaultValue:e.props.defaultValues[t]})})),this.props.disabled?null:i.a.createElement("div",null,i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.props.edit,disabled:this.state.showConfirmationBox},"Save"),i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.confirmDelete,disabled:this.state.showConfirmationBox},"Delete")),this.state.showConfirmationBox?i.a.createElement("div",null,"Are you sure you wish to delete?",i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.deleteItem},"Yes"),i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.closeModal},"No")):null))):null)}}]),t}(i.a.Component),oe=a(210),le=(a(78),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(te.a,{class:"create-expansion-tab"},i.a.createElement(ae.a,{expandIcon:i.a.createElement(ie.a,null)},i.a.createElement(L.a,null,"Create")),i.a.createElement(se.a,{class:"create-expansion-tab"},i.a.createElement("div",null,this.props.inputs.map((function(t,a){return 0===a&&e.props.useAutocomplete?i.a.createElement(oe.a,{id:"combo-box-demo",options:e.props.options,includeInputInList:!0,freeSolo:!0,renderInput:function(a){return i.a.createElement(b.a,Object.assign({},a,{label:t,name:t,onChange:e.props.updateModelCreator,onBlur:e.props.updateModelCreator,variant:"outlined",fullWidth:!0}))}}):i.a.createElement(b.a,{id:"standard-basic",variant:"outlined",label:t,name:t,onChange:e.props.updateModelCreator})})),i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.props.createModel},"Create")))))}}]),t}(i.a.Component)),ce=a(212),de=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(ce.a,{style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"#AAAAAA"},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.props.showImportModal,onClose:this.props.closeImportModal},i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("input",{type:"file",accept:".csv",onChange:this.props.chooseFile}),i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.props.uploadFile},"Upload")),i.a.createElement("p",{style:{color:"white"}},this.props.textDescription)))}}]),t}(i.a.Component),ue=a(201),he=a(205),me=a(204),pe=a(200),ve=a(202),ge=a(203),be=a(98),fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"showDetailedView",value:function(e){this.props.showDetailedView(e.target.id)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(pe.a,{component:be.a},i.a.createElement(ue.a,{className:{minWidth:650},"aria-label":"simple table"},i.a.createElement(ve.a,null,i.a.createElement(ge.a,null,this.props.columns.map((function(e){return i.a.createElement(me.a,null,i.a.createElement("span",{id:e},e))})))),i.a.createElement(he.a,null,this.props.vals.map((function(t,a){return i.a.createElement(ge.a,null,e.props.keys.map((function(s){return i.a.createElement(me.a,{scope:"row"},i.a.createElement("span",{id:a,onClick:e.showDetailedView.bind(e)},t[s]))})))}))))))}}]),t}(i.a.Component),we=["vendor","model_number","height","display_color","ethernet_ports","power_ports","cpu","memory","storage","comments"],Ee=["vendor","model_number","height"],Se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={showCreateModal:!1,showImportModal:!1,items:[],createdModel:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},createdVendor:"",createdModelNum:"",createdHeight:"",createdDispClr:"",createdEthPorts:"",createdPwrPorts:"",createdCPU:"",createdMem:"",createdStorage:"",createdComments:"",deleteVendor:"",deleteModel:"",viewVendor:"",viewModel:"",searchText:"",searchVendor:"",searchModelNum:"",searchHeight:"",csvData:"",importedFile:null,showDetailedView:!1,detailViewLoading:!1,detailedValues:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},originalVendor:"",originalModelNumber:"",originalHeight:"",showStatus:!1,statusSeverity:"",statusMessage:"",vendorsList:[],madeVendorQuery:!1},a.openCreateModal=a.openCreateModal.bind(Object(h.a)(a)),a.openImportModal=a.openImportModal.bind(Object(h.a)(a)),a.downloadTable=a.downloadTable.bind(Object(h.a)(a)),a.updateSearchText=a.updateSearchText.bind(Object(h.a)(a)),a.search=a.search.bind(Object(h.a)(a)),a.closeImportModal=a.closeImportModal.bind(Object(h.a)(a)),a.closeCreateModal=a.closeCreateModal.bind(Object(h.a)(a)),a.showDetailedView=a.showDetailedView.bind(Object(h.a)(a)),a.editModel=a.editModel.bind(Object(h.a)(a)),a.closeDetailedView=a.closeDetailedView.bind(Object(h.a)(a)),a.updateModelEdited=a.updateModelEdited.bind(Object(h.a)(a)),a.closeCreateModal=a.closeCreateModal.bind(Object(h.a)(a)),a.createModel=a.createModel.bind(Object(h.a)(a)),a.updateModelCreator=a.updateModelCreator.bind(Object(h.a)(a)),a.deleteModel=a.deleteModel.bind(Object(h.a)(a)),a.closeShowStatus=a.closeShowStatus.bind(Object(h.a)(a)),a.getVendorList=a.getVendorList.bind(Object(h.a)(a)),a.chooseFile=a.chooseFile.bind(Object(h.a)(a)),a.uploadFile=a.uploadFile.bind(Object(h.a)(a)),a.sendUploadedFile=a.sendUploadedFile.bind(Object(h.a)(a)),a.initialize=a.initialize.bind(Object(h.a)(a)),w.a.defaults.headers.common.token=a.props.token,w.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"createModel",value:function(){var e=this;w.a.post(y("models/",M.create),{vendor:this.state.createdModel[O.Vendor],model_number:this.state.createdModel[O.model_number],height:this.state.createdModel[O.Height],display_color:this.state.createdModel[O.display_color],ethernet_ports:this.state.createdModel[O.ethernet_ports],power_ports:this.state.createdModel[O.power_ports],cpu:this.state.createdModel[O.CPU],memory:this.state.createdModel[O.Memory],storage:this.state.createdModel[O.Storage],comment:this.state.createdModel[O.Comment]}).then((function(t){var a;"success"===t.data.message?(e.setState((a={showStatus:!0,statusMessage:"success"},Object(p.a)(a,"statusMessage","Successfully created model"),Object(p.a)(a,"statusSeverity","success"),Object(p.a)(a,"createdModel",{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""}),Object(p.a)(a,"showCreateModal",!1),a)),e.getVendorList(),e.searchModels()):e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}))}},{key:"editModel",value:function(){var e=this;w.a.post(y("models/",M.edit),{vendorOriginal:this.state.originalVendor,model_numberOriginal:this.state.originalModelNumber,heightOriginal:this.state.originalHeight,vendor:this.state.detailedValues[O.Vendor],model_number:this.state.detailedValues[O.model_number],height:this.state.detailedValues[O.Height],display_color:this.state.detailedValues[O.display_color],ethernet_ports:this.state.detailedValues[O.ethernet_ports],power_ports:this.state.detailedValues[O.power_ports],cpu:this.state.detailedValues[O.CPU],memory:this.state.detailedValues[O.Memory],storage:this.state.detailedValues[O.Storage],comment:this.state.detailedValues[O.Comment]}).then((function(t){"success"===t.data.message?(e.setState({showStatus:!0,statusSeverity:"success",statusMessage:"Successfully edited model",originalVendor:"",originalModelNumber:"",originalHeight:"",detailedValues:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},showDetailedView:!1}),e.getVendorList(),e.searchModels()):e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}))}},{key:"deleteModel",value:function(){var e=this;w.a.post(y("models/",M.delete),{vendor:this.state.originalVendor,model_number:this.state.originalModelNumber}).then((function(t){"success"===t.data.message?(e.setState({showStatus:!0,statusSeverity:"success",statusMessage:"Successfully deleted model",detailedValues:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},showDetailedView:!1}),e.getVendorList(),e.searchModels()):e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}))}},{key:"detailViewModel",value:function(e,t){var a=this;w.a.post(y("models/",M.detailView),{vendor:e,model_number:t},this.props.headers).then((function(e){return a.setState({detailedValues:e.data.models[0],detailViewLoading:!1})})),this.setState({viewVendor:"",viewModel:""})}},{key:"searchModels",value:function(){var e=this;w.a.post(y("models/",M.search),{filter:{vendor:this.state.searchVendor,model_number:this.state.searchModelNum,height:this.state.searchHeight}}).then((function(t){e.setState({items:t.data.models})})),this.setState({searchText:""})}},{key:"getVendorList",value:function(){var e=this;w.a.get(y("models/",M.VENDOR_VALUES),{}).then((function(t){return e.setState({vendorsList:t.data.results})})),this.setState({madeVendorQuery:!0})}},{key:"sendUploadedFile",value:function(e){var t=this;w.a.post(y("models/",M.UPLOAD_FILE),e).then((function(e){"success"===e.data.message?(t.setState({showStatus:!0,statusMessage:e.data.summary,statusSeverity:"success",showImportModal:!1}),t.searchModels()):t.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})}))}},{key:"downloadTable",value:function(){var e=this;w.a.post(y("models/",M.EXPORT_FILE),{filter:{vendor:this.state.searchVendor,model_number:this.state.searchModelNum,height:this.state.searchHeight}}).then((function(t){e.setState({csvData:t.data.csvData}),e.csvLink.link.click()}))}},{key:"search",value:function(e){this.setState({searchVendor:e.vendor,searchModelNum:e.model_number,searchHeight:e.height},this.searchModels)}},{key:"openCreateModal",value:function(){this.setState({showCreateModal:!0})}},{key:"openImportModal",value:function(){this.setState({showImportModal:!0})}},{key:"showDetailedView",value:function(e){this.setState({showDetailedView:!0,detailViewLoading:!0,originalHeight:this.state.items[e].height,originalModelNumber:this.state.items[e].model_number,originalVendor:this.state.items[e].vendor});var t=this.state.items[e].vendor,a=this.state.items[e].model_number;this.detailViewModel(t,a)}},{key:"closeCreateModal",value:function(){this.setState({showCreateModal:!1})}},{key:"closeImportModal",value:function(){this.setState({showImportModal:!1})}},{key:"closeDetailedView",value:function(){this.setState({showDetailedView:!1})}},{key:"updateModelCreator",value:function(e){this.state.createdModel[e.target.name]=e.target.value,this.forceUpdate()}},{key:"updateModelEdited",value:function(e){this.state.detailedValues[e.target.name]=e.target.value,this.forceUpdate()}},{key:"updateSearchText",value:function(e){this.setState({searchText:e.target.value})}},{key:"closeShowStatus",value:function(){this.setState({showStatus:!1})}},{key:"uploadFile",value:function(){var e=new FormData;e.append("file",this.state.importedFile),this.sendUploadedFile(e)}},{key:"chooseFile",value:function(e){this.setState({importedFile:e.target.files[0]})}},{key:"initialize",value:function(){this.searchModels(),this.getVendorList()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(D,null,this.state.madeVendorQuery?null:this.initialize(),i.a.createElement(_,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),this.props.privilege==s.ADMIN?i.a.createElement("div",null,i.a.createElement(Y,{openCreateModal:this.openCreateModal,openImportModal:this.openImportModal,downloadTable:this.downloadTable}),i.a.createElement(H.CSVLink,{data:this.state.csvData,filename:"models.csv",className:"hidden",ref:function(t){return e.csvLink=t},target:"_blank"}),i.a.createElement(le,{showCreateModal:this.state.showCreateModal,closeCreateModal:this.closeCreateModal,createModel:this.createModel,updateModelCreator:this.updateModelCreator,inputs:we,options:this.state.vendorsList,useAutocomplete:!0}),i.a.createElement(de,{showImportModal:this.state.showImportModal,closeImportModal:this.closeImportModal,uploadFile:this.uploadFile,chooseFile:this.chooseFile,textDescription:"The following format should be used for each row: vendor,model_number,height,display_color,ethernet_ports,power_ports,cpu,memory,storage,comment"})):null,i.a.createElement($,{updateSearchText:this.updateSearchText,search:this.search,filters:Ee}),i.a.createElement(fe,{columns:Ee,vals:this.state.items,keys:Ee,showDetailedView:this.showDetailedView,filters:Ee}),i.a.createElement(re,{showDetailedView:this.state.showDetailedView,closeDetailedView:this.closeDetailedView,inputs:we,updateModelEdited:this.updateModelEdited,defaultValues:this.state.detailedValues,loading:this.state.detailViewLoading,edit:this.editModel,delete:this.deleteModel,disabled:this.props.privilege==s.USER})))}}]),t}(i.a.Component);!function(e){e.create="create/",e.delete="delete/",e.edit="edit/",e.view="view/",e.detailView="detailView/",e.search="search/"}(z||(z={})),function(e){e.Username="username",e.Password="password",e.Email="email",e.display_name="display_name",e.Privilege="privilege"}(G||(G={}));i.a.Component;var ke,ye,Me=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={filters:{}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"updateSearchText",value:function(e){if(this.state.filters.hasOwnProperty(e.target.id))this.state.filters[e.target.id]=e.target.value,this.forceUpdate();else{null==e.target.value||e.target.value;this.state.filters[e.target.id]=e.target.value,this.forceUpdate()}}},{key:"search",value:function(){this.props.search(this.state.filters)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.filters.map((function(t,a){return i.a.createElement("div",null,i.a.createElement(q.a,null),i.a.createElement(Z.a,{placeholder:t+" filter",inputProps:{"aria-label":"search"},onChange:e.updateSearchText.bind(e),id:t}))})),i.a.createElement("div",null,i.a.createElement(g.a,{onClick:this.search.bind(this)},"Search")),"Click the search button to populate table. Searching with empty filters searches over all values. Click on row values to see detailed view.")}}]),t}(i.a.Component),Oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={showConfirmationBox:!1},a.closeModal=a.closeModal.bind(Object(h.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(h.a)(a)),a.deleteItem=a.deleteItem.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"confirmDelete",value:function(){this.setState({showConfirmationBox:!0})}},{key:"closeModal",value:function(){this.setState({showConfirmationBox:!1})}},{key:"deleteItem",value:function(){this.setState({showConfirmationBox:!1}),this.props.delete()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.showDetailedView?i.a.createElement(te.a,null,i.a.createElement(ae.a,{expandIcon:i.a.createElement(ie.a,null)},i.a.createElement(L.a,null,"Create")),i.a.createElement(se.a,null,this.props.loading?i.a.createElement(ee.a,null):i.a.createElement("div",null,this.props.inputs.map((function(t){return i.a.createElement(b.a,{name:t,disabled:e.props.disabled,id:"standard-basic",label:t,onChange:e.props.updateModelEdited,defaultValue:e.props.defaultValues[t]})})),this.props.disabled?null:i.a.createElement("div",null,i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.props.edit,disabled:this.state.showConfirmationBox},"Save"),i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.confirmDelete,disabled:this.state.showConfirmationBox},"Delete")),i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.props.closeDetailedView,disabled:this.state.showConfirmationBox},"Close"),this.state.showConfirmationBox?i.a.createElement("div",null,"Are you sure you wish to delete?",i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.deleteItem},"Yes"),i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.closeModal},"No")):null))):null)}}]),t}(i.a.Component),Ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(te.a,{class:"create-expansion-tab"},i.a.createElement(ae.a,{expandIcon:i.a.createElement(ie.a,null)},i.a.createElement(L.a,null,"Create")),i.a.createElement(se.a,{class:"create-expansion-tab"},i.a.createElement("div",null,this.props.inputs.map((function(t,a){return 0===a&&e.props.useAutocomplete?i.a.createElement(oe.a,{id:"combo-box-demo",options:e.props.options,includeInputInList:!0,freeSolo:!0,renderInput:function(a){return i.a.createElement(b.a,Object.assign({},a,{label:t,name:t,onChange:e.props.updateModelCreator,onBlur:e.props.updateModelCreator,variant:"outlined",fullWidth:!0}))}}):i.a.createElement(b.a,{id:"standard-basic",variant:"outlined",label:t,name:t,onChange:e.props.updateModelCreator})})),i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.props.createModel},"Create")))))}}]),t}(i.a.Component),je=["username","email","display_name","privilege","password"],Ie=["username","email","display_name","privilege"],Ve=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={showCreateModal:!1,showImportModal:!1,items:[],createdUser:{username:"",password:"",display_name:"",email:"",privilege:""},showStatus:!1,statusMessage:"",statusSeverity:"",searchUsernm:"",searchEml:"",searchDspNm:"",searchPriv:"",deleteUsername:"",viewUser:"",csvData:[],showDetailedView:!1,detailViewLoading:!1,detailedValues:{username:"",display_name:"",email:"",privilege:""},originalUsername:"",initialized:!1},a.createUser=a.createUser.bind(Object(h.a)(a)),a.editUser=a.editUser.bind(Object(h.a)(a)),a.deleteUser=a.deleteUser.bind(Object(h.a)(a)),a.detailViewUser=a.detailViewUser.bind(Object(h.a)(a)),a.searchUsers=a.searchUsers.bind(Object(h.a)(a)),a.search=a.search.bind(Object(h.a)(a)),a.openCreateModal=a.openCreateModal.bind(Object(h.a)(a)),a.openImportModal=a.openImportModal.bind(Object(h.a)(a)),a.showDetailedView=a.showDetailedView.bind(Object(h.a)(a)),a.closeCreateModal=a.closeCreateModal.bind(Object(h.a)(a)),a.closeImportModal=a.closeImportModal.bind(Object(h.a)(a)),a.closeDetailedView=a.closeDetailedView.bind(Object(h.a)(a)),a.updateUserCreator=a.updateUserCreator.bind(Object(h.a)(a)),a.updateUserEdited=a.updateUserEdited.bind(Object(h.a)(a)),a.closeShowStatus=a.closeShowStatus.bind(Object(h.a)(a)),a.initialized=a.initialized.bind(Object(h.a)(a)),w.a.defaults.headers.common.token=a.props.token,w.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"createUser",value:function(){var e=this;w.a.post(y("users/",z.create),{username:this.state.createdUser[G.Username],password:this.state.createdUser[G.Password],display_name:this.state.createdUser[G.display_name],email:this.state.createdUser[G.Email],privilege:this.state.createdUser[G.Privilege]}).then((function(t){"success"===t.data.message?(e.setState({showStatus:!0,statusMessage:"Successfully created user",statusSeverity:"success",createdUser:{username:"",password:"",display_name:"",email:"",privilege:""},showCreateModal:!1}),e.searchUsers()):e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}))}},{key:"editUser",value:function(){var e=this;w.a.post(y("users/",z.edit),{username_original:this.state.originalUsername,username:this.state.detailedValues[G.Username],display_name:this.state.detailedValues[G.display_name],email:this.state.detailedValues[G.Email],privilege:this.state.detailedValues[G.Privilege]}).then((function(t){"success"===t.data.message?(e.setState({showStatus:!0,statusMessage:"Successfully edited user",statusSeverity:"success",originalUsername:"",detailedValues:{username:"",display_name:"",email:"",privilege:""},showDetailedView:!1}),e.searchUsers()):e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}))}},{key:"deleteUser",value:function(){var e=this;w.a.post(y("users/",z.delete),{username:this.state.originalUsername}).then((function(t){"success"===t.data.message?(e.setState({showStatus:!0,statusMessage:"Successfully deleted user",statusSeverity:"success",deleteUsername:"",showDetailedView:!1}),e.searchUsers()):e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}))}},{key:"detailViewUser",value:function(e){var t=this;w.a.post(y("users/",z.detailView),{username:e}).then((function(e){return t.setState({detailedValues:e.data.user,detailViewLoading:!1})})),this.setState({viewUser:""})}},{key:"searchUsers",value:function(){var e=this;w.a.post(y("users/",z.search),{filter:{username:this.state.searchUsernm,email:this.state.searchEml,display_name:this.state.searchDspNm,privilege:this.state.searchPriv}}).then((function(t){return e.setState({items:null==t.data.users?[]:t.data.users})})),this.setState({initialized:!0})}},{key:"search",value:function(e){this.setState({searchUsernm:e.username,searchEml:e.email,searchDspNm:e.display_name,searchPriv:e.privilege},this.searchUsers)}},{key:"downloadTable",value:function(){this.csvLink.link.click()}},{key:"openCreateModal",value:function(){this.setState({showCreateModal:!0})}},{key:"openImportModal",value:function(){this.setState({showImportModal:!0})}},{key:"showDetailedView",value:function(e){this.setState({showDetailedView:!0,detailViewLoading:!0,originalUsername:this.state.items[e].username});var t=this.state.items[e].username;this.detailViewUser(t)}},{key:"closeCreateModal",value:function(){this.setState({showCreateModal:!1})}},{key:"closeImportModal",value:function(){this.setState({showImportModal:!1})}},{key:"closeDetailedView",value:function(){this.setState({showDetailedView:!1})}},{key:"updateUserCreator",value:function(e){this.state.createdUser[e.target.name]=e.target.value,this.forceUpdate()}},{key:"updateUserEdited",value:function(e){this.state.detailedValues[e.target.name]=e.target.value,this.forceUpdate()}},{key:"closeShowStatus",value:function(){this.setState({showStatus:!1})}},{key:"initialized",value:function(){this.searchUsers()}},{key:"render",value:function(){return i.a.createElement("div",null,this.state.initialized?null:this.initialized(),i.a.createElement(D,null,i.a.createElement(_,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),this.props.privilege==s.ADMIN?i.a.createElement("div",null,i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.openCreateModal},"Create"),i.a.createElement(Ce,{showCreateModal:this.state.showCreateModal,closeCreateModal:this.closeCreateModal,createModel:this.createUser,updateModelCreator:this.updateUserCreator,inputs:je,options:[],useAutocomplete:!1}),i.a.createElement(de,{showImportModal:this.state.showImportModal,closeImportModal:this.closeImportModal})):null,i.a.createElement(Me,{updateSearchText:this.updateSearchText,search:this.search,filters:Ie}),i.a.createElement(fe,{columns:Ie,vals:this.state.items,keys:Ie,showDetailedView:this.showDetailedView,filters:Ie}),i.a.createElement(Oe,{showDetailedView:this.state.showDetailedView,closeDetailedView:this.closeDetailedView,inputs:Ie,updateModelEdited:this.updateUserEdited,defaultValues:this.state.detailedValues,loading:this.state.detailViewLoading,edit:this.editUser,delete:this.deleteUser,disabled:this.props.privilege==s.USER})))}}]),t}(i.a.Component);!function(e){e.create="create/",e.delete="delete/",e.edit="edit/",e.view="view/",e.detailView="detailView/",e.search="search/",e.GET_ALL_MODELS="assistedmodel/",e.UPLOAD_FILE="import/",e.EXPORT_FILE="export/"}(ke||(ke={})),function(e){e.Model="model",e.Hostname="hostname",e.Rack="rack",e.RackU="rack_position",e.Owner="owner",e.Comment="comment"}(ye||(ye={}));var Ue,_e=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(g.a,{variant:"contained",color:"primary",startIcon:i.a.createElement(W.a,null),onClick:this.props.openImportModal},"Import"),i.a.createElement(g.a,{variant:"contained",color:"primary",startIcon:i.a.createElement(X.a,null),onClick:this.props.downloadTable},"Export"))}}]),t}(i.a.Component),De=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={filters:{}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"updateSearchText",value:function(e){if(this.state.filters.hasOwnProperty(e.target.id))this.state.filters[e.target.id]=e.target.value,this.forceUpdate();else{null==e.target.value||e.target.value;this.state.filters[e.target.id]=e.target.value,this.forceUpdate()}}},{key:"search",value:function(){this.props.search(this.state.filters)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.filters.map((function(t,a){return i.a.createElement("div",null,i.a.createElement(q.a,null),i.a.createElement(Z.a,{placeholder:t+" filter",inputProps:{"aria-label":"search"},onChange:e.updateSearchText.bind(e),id:t}))})),i.a.createElement("div",null,i.a.createElement(g.a,{onClick:this.search.bind(this)},"Search")),"Click the search button to populate table. Searching with empty filters searches over all values. Click on row values to see detailed view.")}}]),t}(i.a.Component),xe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={showConfirmationBox:!1},a.closeModal=a.closeModal.bind(Object(h.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(h.a)(a)),a.deleteItem=a.deleteItem.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"confirmDelete",value:function(){this.setState({showConfirmationBox:!0})}},{key:"closeModal",value:function(){this.setState({showConfirmationBox:!1})}},{key:"deleteItem",value:function(){this.setState({showConfirmationBox:!1}),this.props.delete()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.showDetailedView?i.a.createElement(te.a,null,i.a.createElement(ae.a,{expandIcon:i.a.createElement(ie.a,null)},i.a.createElement(L.a,null,"Create")),i.a.createElement(se.a,null,this.props.loading?i.a.createElement(ee.a,null):i.a.createElement("div",null,this.props.inputs.map((function(t){return i.a.createElement(b.a,{name:t,disabled:e.props.disabled,id:"standard-basic",label:t,onChange:e.props.updateModelEdited,defaultValue:e.props.defaultValues[t]})})),this.props.disabled?null:i.a.createElement("div",null,i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.props.edit,disabled:this.state.showConfirmationBox},"Save"),i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.confirmDelete,disabled:this.state.showConfirmationBox},"Delete")),this.state.showConfirmationBox?i.a.createElement("div",null,"Are you sure you wish to delete?",i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.deleteItem},"Yes"),i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.closeModal},"No")):null))):null)}}]),t}(i.a.Component),Re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(te.a,{class:"create-expansion-tab"},i.a.createElement(ae.a,{expandIcon:i.a.createElement(ie.a,null)},i.a.createElement(L.a,null,"Create")),i.a.createElement(se.a,{class:"create-expansion-tab"},i.a.createElement("div",null,this.props.inputs.map((function(t,a){return 0===a&&e.props.useAutocomplete?i.a.createElement(oe.a,{id:"combo-box-demo",options:e.props.options,includeInputInList:!0,freeSolo:!0,renderInput:function(a){return i.a.createElement(b.a,Object.assign({},a,{label:t,name:t,onChange:e.props.updateModelCreator,onBlur:e.props.updateModelCreator,variant:"outlined",fullWidth:!0}))}}):i.a.createElement(b.a,{id:"standard-basic",variant:"outlined",label:t,name:t,onChange:e.props.updateModelCreator})})),i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.props.createModel},"Create")))))}}]),t}(i.a.Component),Le=["model","hostname","rack","rack_position","owner","comment"],Te=["model","hostname","rack","rack_position"],Ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={showCreateModal:!1,showImportModal:!1,items:[],createdInstance:{model:"",hostname:"",rack:"",rack_position:"",owner:"",comment:""},showStatus:!1,statusMessage:"",statusSeverity:"",deleteInstanceRack:"",deleteInstancerack_position:"",viewInstanceRack:"",viewInstancerack_position:"",searchModel:"",searchHostname:"",searchRack:"",searchRackU:"",csvData:"",importedFile:null,showDetailedView:!1,detailViewLoading:!1,detailedValues:{model:"",hostname:"",rack:"",rack_position:"",owner:"",comment:""},originalRack:"",originalrack_position:"",modelList:[],madeModelQuery:!1},a.createInstance=a.createInstance.bind(Object(h.a)(a)),a.editInstance=a.editInstance.bind(Object(h.a)(a)),a.deleteInstance=a.deleteInstance.bind(Object(h.a)(a)),a.detailViewInstance=a.detailViewInstance.bind(Object(h.a)(a)),a.searchInstances=a.searchInstances.bind(Object(h.a)(a)),a.search=a.search.bind(Object(h.a)(a)),a.openCreateModal=a.openCreateModal.bind(Object(h.a)(a)),a.openImportModal=a.openImportModal.bind(Object(h.a)(a)),a.showDetailedView=a.showDetailedView.bind(Object(h.a)(a)),a.closeCreateModal=a.closeCreateModal.bind(Object(h.a)(a)),a.closeImportModal=a.closeImportModal.bind(Object(h.a)(a)),a.closeDetailedView=a.closeDetailedView.bind(Object(h.a)(a)),a.updateInstanceCreator=a.updateInstanceCreator.bind(Object(h.a)(a)),a.updateInstanceEdited=a.updateInstanceEdited.bind(Object(h.a)(a)),a.closeShowStatus=a.closeShowStatus.bind(Object(h.a)(a)),a.getModelList=a.getModelList.bind(Object(h.a)(a)),a.chooseFile=a.chooseFile.bind(Object(h.a)(a)),a.uploadFile=a.uploadFile.bind(Object(h.a)(a)),a.sendUploadedFile=a.sendUploadedFile.bind(Object(h.a)(a)),a.downloadTable=a.downloadTable.bind(Object(h.a)(a)),a.initialize=a.initialize.bind(Object(h.a)(a)),w.a.defaults.headers.common.token=a.props.token,w.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"createInstance",value:function(){var e=this;w.a.post(y("instances/",ke.create),{model:this.state.createdInstance[ye.Model],hostname:this.state.createdInstance[ye.Hostname],rack:this.state.createdInstance[ye.Rack],rack_position:this.state.createdInstance[ye.RackU],owner:this.state.createdInstance[ye.Owner],comment:this.state.createdInstance[ye.Comment]}).then((function(t){"success"===t.data.message?(e.setState({showStatus:!0,statusMessage:"Successfully created instance",statusSeverity:"success",createdInstance:{model:"",hostname:"",rack:"",rack_position:"",owner:"",comment:""},showCreateModal:!1}),e.searchInstances()):e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}))}},{key:"editInstance",value:function(){var e=this;w.a.post(y("instances/",ke.edit),{rackOriginal:this.state.originalRack,rack_positionOriginal:this.state.originalrack_position,model:this.state.detailedValues[ye.Model],hostname:this.state.detailedValues[ye.Hostname],rack:this.state.detailedValues[ye.Rack],rack_position:this.state.detailedValues[ye.RackU],owner:this.state.detailedValues[ye.Owner],comment:this.state.detailedValues[ye.Comment]}).then((function(t){"success"===t.data.message?(e.setState({showStatus:!0,statusMessage:"Successfully edited instance",statusSeverity:"success",detailedValues:{model:"",hostname:"",rack:"",rack_position:"",owner:"",comment:""},showDetailedView:!1}),e.searchInstances()):e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}))}},{key:"deleteInstance",value:function(){var e=this;w.a.post(y("instances/",ke.delete),{rack:this.state.originalRack,rack_position:this.state.originalrack_position}).then((function(t){"success"===t.data.message?(e.setState({showStatus:!0,statusMessage:"Successfully deleted instance",statusSeverity:"success",originalRack:"",originalrack_position:"",showDetailedView:!1}),e.searchInstances()):e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}))}},{key:"detailViewInstance",value:function(e,t){var a=this;w.a.post(y("instances/",ke.detailView),{rack:e,rack_position:t}).then((function(e){return a.setState({detailedValues:e.data.instances[0],detailViewLoading:!1})})),this.setState({viewInstanceRack:""})}},{key:"searchInstances",value:function(){var e=this;w.a.post(y("instances/",ke.search),{filter:{model:this.state.searchModel,hostname:this.state.searchHostname,rack:this.state.searchRack,rack_position:this.state.searchRackU}}).then((function(t){e.setState({items:t.data.instances})}))}},{key:"getModelList",value:function(){var e=this;w.a.get(y("instances/",ke.GET_ALL_MODELS),{}).then((function(t){return e.setState({modelList:t.data.results})})),this.setState({madeModelQuery:!0})}},{key:"sendUploadedFile",value:function(e){var t=this;w.a.post(y("instances/",ke.UPLOAD_FILE),e).then((function(e){"success"===e.data.message?(t.setState({showStatus:!0,statusMessage:e.data.summary,statusSeverity:"success",showImportModal:!1}),t.searchInstances()):t.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})}))}},{key:"search",value:function(e){this.setState({searchModel:e.model,searchHostname:e.hostname,searchRack:e.rack,searchRackU:e.rack_position},this.searchInstances)}},{key:"downloadTable",value:function(){var e=this;w.a.post(y("instances/",ke.EXPORT_FILE),{filter:{model:this.state.searchModel,hostname:this.state.searchHostname,rack:this.state.searchRack,rack_position:this.state.searchRackU}}).then((function(t){e.setState({csvData:t.data.csvData}),e.csvLink.link.click()}))}},{key:"openCreateModal",value:function(){this.getModelList(),this.setState({showCreateModal:!0})}},{key:"openImportModal",value:function(){this.setState({showImportModal:!0})}},{key:"showDetailedView",value:function(e){this.setState({showDetailedView:!0,detailViewLoading:!0,originalRack:this.state.items[e].rack,originalrack_position:this.state.items[e].rack_position});this.state.items[e].model,this.state.items[e].hostname;var t=this.state.items[e].rack,a=this.state.items[e].rack_position;this.detailViewInstance(t,a)}},{key:"closeCreateModal",value:function(){this.setState({showCreateModal:!1})}},{key:"closeImportModal",value:function(){this.setState({showImportModal:!1})}},{key:"closeDetailedView",value:function(){this.setState({showDetailedView:!1})}},{key:"updateInstanceCreator",value:function(e){this.state.createdInstance[e.target.name]=e.target.value,this.forceUpdate()}},{key:"updateInstanceEdited",value:function(e){this.state.detailedValues[e.target.name]=e.target.value,this.forceUpdate()}},{key:"closeShowStatus",value:function(){this.setState({showStatus:!1})}},{key:"uploadFile",value:function(){var e=new FormData;e.append("file",this.state.importedFile),this.sendUploadedFile(e)}},{key:"chooseFile",value:function(e){this.setState({importedFile:e.target.files[0]})}},{key:"initialize",value:function(){this.searchInstances(),this.getModelList()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(D,null,this.state.madeModelQuery?null:this.initialize(),i.a.createElement(_,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),this.props.privilege==s.ADMIN?i.a.createElement("div",null,i.a.createElement(_e,{openCreateModal:this.openCreateModal,openImportModal:this.openImportModal,downloadTable:this.downloadTable}),i.a.createElement(H.CSVLink,{data:this.state.csvData,filename:"instances.csv",className:"hidden",ref:function(t){return e.csvLink=t},target:"_blank"}),i.a.createElement(Re,{showCreateModal:this.state.showCreateModal,closeCreateModal:this.closeCreateModal,createModel:this.createInstance,updateModelCreator:this.updateInstanceCreator,inputs:Le,options:this.state.modelList,useAutocomplete:!0}),i.a.createElement(de,{showImportModal:this.state.showImportModal,closeImportModal:this.closeImportModal,uploadFile:this.uploadFile,chooseFile:this.chooseFile,textDescription:"The following format should be used for each row: hostname,rack,rack_position,vendor,model_number,owner,comment"})):null,i.a.createElement(De,{updateSearchText:this.updateSearchText,search:this.search,filters:Te}),i.a.createElement(fe,{columns:Te,vals:this.state.items,keys:Te,showDetailedView:this.showDetailedView,filters:Te}),i.a.createElement(xe,{showDetailedView:this.state.showDetailedView,closeDetailedView:this.closeDetailedView,inputs:Le,updateModelEdited:this.updateInstanceEdited,defaultValues:this.state.detailedValues,loading:this.state.detailViewLoading,edit:this.editInstance,delete:this.deleteInstance,disabled:this.props.privilege==s.USER})))}}]),t}(i.a.Component),Ae=a(208),Fe=a(195),Pe=a(193),Be=a(215);!function(e){e.GET_ALL_RACKS="all",e.CREATE_RACKS="create",e.DELETE_RACKS="delete",e.GET_RACK_DETAILS="details"}(Ue||(Ue={}));var He,ze=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={items:[],startingRackLetter:"",endingRackLetter:"",startingRackNumber:-1,endingRackNumber:-1,showStatus:!1,statusMessage:"",statusSeverity:"",showConfirmationBox:!1},a.getAllRacks=a.getAllRacks.bind(Object(h.a)(a)),a.updateRacks=a.updateRacks.bind(Object(h.a)(a)),a.createRacks=a.createRacks.bind(Object(h.a)(a)),a.deleteRacks=a.deleteRacks.bind(Object(h.a)(a)),a.viewRacks=a.viewRacks.bind(Object(h.a)(a)),a.changeStartingLetter=a.changeStartingLetter.bind(Object(h.a)(a)),a.changeEndingLetter=a.changeEndingLetter.bind(Object(h.a)(a)),a.changeStartingNum=a.changeStartingNum.bind(Object(h.a)(a)),a.changeEndingNum=a.changeEndingNum.bind(Object(h.a)(a)),a.closeShowStatus=a.closeShowStatus.bind(Object(h.a)(a)),w.a.defaults.headers.common.token=a.props.token,w.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getAllRacks",value:function(){var e=this;w.a.get(y("racks/",Ue.GET_ALL_RACKS)).then((function(t){"success"===t.data.message?e.setState({showStatus:!0,statusMessage:"Success"}):e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}))}},{key:"updateRacks",value:function(e){var t=this;w.a.post(y("racks/",e),{start_letter:this.state.startingRackLetter,stop_letter:this.state.endingRackLetter,start_number:this.state.startingRackNumber,stop_number:this.state.endingRackNumber}).then((function(a){if(console.log(a),"success"===a.data.message){if(t.setState({showStatus:!0,statusMessage:"Success",statusSeverity:"success",showConfirmationBox:!1}),e==Ue.GET_RACK_DETAILS){var s=window.open(a.data.link,"_blank");null!=s&&s.focus()}}else t.setState({showStatus:!0,statusMessage:a.data.message,statusSeverity:"error"})}))}},{key:"createRacks",value:function(){this.updateRacks(Ue.CREATE_RACKS)}},{key:"deleteRacks",value:function(){this.updateRacks(Ue.DELETE_RACKS)}},{key:"viewRacks",value:function(){this.updateRacks(Ue.GET_RACK_DETAILS)}},{key:"changeStartingLetter",value:function(e){this.setState({startingRackLetter:e.target.value})}},{key:"changeEndingLetter",value:function(e){this.setState({endingRackLetter:e.target.value})}},{key:"changeStartingNum",value:function(e){this.setState({startingRackNumber:e.target.value})}},{key:"changeEndingNum",value:function(e){this.setState({endingRackNumber:e.target.value})}},{key:"closeShowStatus",value:function(){this.setState({showStatus:!1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(D,null,i.a.createElement(_,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),i.a.createElement(Pe.a,null,i.a.createElement(Ae.a,{id:"starting-letter-selector",value:this.state.startingRackLetter,onChange:this.changeStartingLetter},S.map((function(e){return i.a.createElement(Be.a,{value:e},e)}))),i.a.createElement(Fe.a,null,"Starting Letter")),i.a.createElement(Pe.a,null,i.a.createElement(Ae.a,{id:"ending-letter-selector",value:this.state.endingRackLetter,onChange:this.changeEndingLetter},S.map((function(e){return i.a.createElement(Be.a,{value:e},e)}))),i.a.createElement(Fe.a,null,"Ending Letter")),i.a.createElement(Pe.a,null,i.a.createElement(Ae.a,{id:"starting-num-selector",value:this.state.startingRackNumber,onChange:this.changeStartingNum},k.map((function(e){return i.a.createElement(Be.a,{value:e},e)}))),i.a.createElement(Fe.a,null,"Starting Number")),i.a.createElement(Pe.a,null,i.a.createElement(Ae.a,{id:"ending-num-selector",value:this.state.endingRackNumber,onChange:this.changeEndingNum},k.map((function(e){return i.a.createElement(Be.a,{value:e},e)}))),i.a.createElement(Fe.a,null,"Ending Number")),i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.viewRacks,disabled:this.state.showConfirmationBox},"View"),this.props.privilege==s.ADMIN?i.a.createElement("div",null,i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.createRacks,disabled:this.state.showConfirmationBox},"Create"),i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(){return e.setState({showConfirmationBox:!0})},disabled:this.state.showConfirmationBox},"Delete")):null,this.state.showConfirmationBox?i.a.createElement("div",null,"Are you sure you wish to delete?",i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.deleteRacks},"Yes"),i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(){return e.setState({showConfirmationBox:!1})}},"No")):null,this.state.items.map((function(e){return i.a.createElement(te.a,null,i.a.createElement(ae.a,{expandIcon:i.a.createElement(ie.a,null)},i.a.createElement(L.a,null,e.label)),i.a.createElement(se.a,null,e))}))))}}]),t}(i.a.Component);function Ge(e){try{var t=JSON.parse(e)}catch(s){t=e}if(0===Object.entries(t).length&&t.constructor===Object)return[];var a=[];return Object.keys(t).map((function(e){var s=[];s.push(e),s.push(t[e]),a.push(s)})),a}!function(e){e.GENERATE_REPORT="generate-report",e.TEST="test"}(He||(He={}));var Ke={totalUsage:"Total Usage",spaceUsage:"Space Usage",vendorUsage:"Vendor Usage",modelUsage:"Model Usage",ownerUsage:"Owner Usage"},We={totalUsage:["Total","Usage"],spaceUsage:["Rack","Usage"],vendorUsage:["Vendor","Usage"],modelUsage:["Model","Usage"],ownerUsage:["Ownder","Usage"]},Qe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={tableValues:{totalUsage:[],spaceUsage:[],vendorUsage:[],modelUsage:[],ownerUsage:[]},totalUsage:[],spaceUsage:[],vendorUsage:[],modelUsage:[],ownerUsage:[],showStatus:!1,statusMessage:"",statusSeverity:""},a.closeShowStatus=a.closeShowStatus.bind(Object(h.a)(a)),a.generateReport=a.generateReport.bind(Object(h.a)(a)),w.a.defaults.headers.common.token=a.props.token,w.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"generateReport",value:function(){var e=this;w.a.get(y("stats/",He.GENERATE_REPORT)).then((function(t){try{var a=t.data,s=[],n=["Total Usage"];n.push(a.totalUsage),s.push(n);var i=Ge(a.spaceUsage);0==i.length&&i.push(["No space is currently being used",[]]);var r=Ge(a.vendorUsage);0==r.length&&r.push(["No vendors currently using space",[]]);var o=Ge(a.modelUsage);0==o.length&&o.push(["No models currently using space",[]]);var l=Ge(a.ownerUsage);0==l.length&&l.push(["No owners currently using space",[]]),e.setState({showStatus:!0,statusSeverity:"success",statusMessage:"Success",tableValues:{totalUsage:s,spaceUsage:i,vendorUsage:r,modelUsage:o,ownerUsage:l}})}catch(c){e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}}))}},{key:"closeShowStatus",value:function(){this.setState({showStatus:!1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(D,null,i.a.createElement(_,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),i.a.createElement("div",null,i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.generateReport},"Generate New Report")),Object.keys(Ke).map((function(t){return i.a.createElement(te.a,null,i.a.createElement(ae.a,{expandIcon:i.a.createElement(ie.a,null)},i.a.createElement(L.a,null,Ke[t])),i.a.createElement(se.a,null,i.a.createElement(pe.a,{component:be.a},i.a.createElement(ue.a,null,i.a.createElement(ve.a,null,i.a.createElement(ge.a,null,We[t].map((function(e){return i.a.createElement(me.a,null,i.a.createElement("span",{id:e},e))})))),i.a.createElement(he.a,null,e.state.tableValues[t].map((function(e){return i.a.createElement(ge.a,null,e.map((function(e){return i.a.createElement(me.a,null,i.a.createElement("span",{id:e},e+(isNaN(e)?"":"%")))})))})))))))}))))}}]),t}(i.a.Component),Xe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={currentTabID:0},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e,t){this.setState({currentTabID:t})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(D,null,i.a.createElement(F.a,{position:"static"},i.a.createElement(P.a,{value:this.state.currentTabID,onChange:this.handleChange},i.a.createElement(B.a,{value:0,style:{flexGrow:1},label:"Models"}," "),i.a.createElement(B.a,{value:1,style:{flexGrow:1},label:"Instances"}),this.props.privilege==s.ADMIN?i.a.createElement(B.a,{value:2,style:{flexGrow:1},label:"Users"}):null,i.a.createElement(B.a,{value:3,style:{flexGrow:1},label:"Racks"}),i.a.createElement(B.a,{value:4,style:{flexGrow:1},label:"Statistics"}),i.a.createElement(g.a,{style:{flexGrow:1},variant:"contained",color:"secondary",onClick:this.props.logout},"Logout"))),i.a.createElement(L.a,{component:"div",role:"tabpanel",hidden:0!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},i.a.createElement(Se,{token:this.props.token,privilege:this.props.privilege})),i.a.createElement(L.a,{component:"div",role:"tabpanel",hidden:1!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},i.a.createElement(Ne,{token:this.props.token,privilege:this.props.privilege})),i.a.createElement(L.a,{component:"div",role:"tabpanel",hidden:2!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},i.a.createElement(Ve,{token:this.props.token,privilege:this.props.privilege})),i.a.createElement(L.a,{component:"div",role:"tabpanel",hidden:3!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},i.a.createElement(ze,{token:this.props.token,privilege:this.props.privilege})),i.a.createElement(L.a,{component:"div",role:"tabpanel",hidden:4!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},i.a.createElement(Qe,{token:this.props.token,privilege:this.props.privilege}))))}}]),t}(i.a.Component),Ye="token",Je="privilege",qe="loggedIn",Ze=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={token:sessionStorage.getItem(Ye)||"",privilege:sessionStorage.getItem(Je)||"",loggedIn:sessionStorage.getItem(qe)||""},a.login=a.login.bind(Object(h.a)(a)),a.logout=a.logout.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"login",value:function(e,t){sessionStorage.setItem(Ye,e),sessionStorage.setItem(Je,t),sessionStorage.setItem(qe,!0),this.setState({token:e,privilege:t,loggedIn:!0})}},{key:"logout",value:function(){w.a.get(y("users/","logout")),this.setState({token:"",privilege:"",loggedIn:!1}),sessionStorage.removeItem(Ye),sessionStorage.removeItem(Je),sessionStorage.removeItem(qe),window.location.reload()}},{key:"render",value:function(){return i.a.createElement("div",null,this.state.loggedIn?i.a.createElement(Xe,{token:this.state.token,privilege:this.state.privilege,logout:this.logout}):i.a.createElement(A,{loginFunc:this.login}))}}]),t}(i.a.Component);o.a.render(i.a.createElement(Ze,null),document.getElementById("root"))},78:function(e,t,a){},96:function(e,t,a){e.exports=a.p+"static/media/logo.df79d0ea.png"}},[[117,1,2]]]);
//# sourceMappingURL=main.265d6269.chunk.js.map
