(this.webpackJsonpreactfrontend=this.webpackJsonpreactfrontend||[]).push([[0],{173:function(e,t,a){},200:function(e,t,a){e.exports=a(395)},205:function(e,t,a){},392:function(e,t,a){},393:function(e,t,a){},394:function(e,t,a){},395:function(e,t,a){"use strict";a.r(t);var s,r=a(0),n=a.n(r),o=a(19),i=a.n(o),l=(a(205),a(8)),c=a(6),u=a(9),d=a(10),m=a(17),p=a(11),h=a(439),g=a(459),v=a(12),S=a.n(v),f="http://localhost:4010/",b=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","W","X","Y","Z"];function w(e,t){return f+e+t}!function(e){e.ADMIN="admin",e.USER="user"}(s||(s={}));var E,y,M=a(397),C=a(175),k=a.n(C),O=a(458),V=a(455),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(O.a,{open:this.props.open,autoHideDuration:12e3,onClose:this.props.closeStatus},n.a.createElement(V.a,{elevation:6,variant:"filled",severity:this.props.severity},n.a.createElement("div",null,this.props.message,n.a.createElement(M.a,{"aria-label":"close",color:"inherit",size:"small",onClick:this.props.closeStatus},n.a.createElement(k.a,{fontSize:"inherit"}))))))}}]),t}(n.a.Component),_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={hasError:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?n.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return"An unforseen error occurred. Please refresh the page and try again later."}}]),t}(n.a.Component),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={username:"",password:"",statusMessage:"",showStatus:!1,statusSeverity:""},a.closeShowStatus=a.closeShowStatus.bind(Object(m.a)(a)),a.submitCredentials=a.submitCredentials.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"submitCredentials",value:function(){var e=this;S.a.post(w("users/","authenticate"),{username:this.state.username,password:this.state.password}).then((function(t){"success"==t.data.message?(e.setState({message:""}),e.props.loginFunc(t.data.token,e.state.username,t.data.privilege)):e.setState({showStatus:!0,statusMessage:t.data.message})}))}},{key:"updateUsername",value:function(e){this.setState({username:e.target.value})}},{key:"updatePassword",value:function(e){this.setState({password:e.target.value})}},{key:"closeShowStatus",value:function(){this.setState({showStatus:!1})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(_,null,n.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),n.a.createElement(g.a,{id:"outlined-basic",label:"Username",variant:"outlined",required:"true",ref:"username",onChange:this.updateUsername.bind(this)}),n.a.createElement(g.a,{id:"outlined-basic",label:"Password",variant:"outlined",required:"true",ref:"password",type:"password",onChange:this.updatePassword.bind(this)}),n.a.createElement(h.a,{onClick:this.submitCredentials,variant:"contained",color:"primary"},"Sign In")))}}]),t}(n.a.Component),U=a(450),D=a(452),R=a(451),L=a(441),x=a(178),T=a(461),N=a(177),P=a.n(N),A=a(15),F=a(98);!function(e){e.create="create/",e.delete="delete/",e.edit="edit/",e.view="view/",e.detailView="detailView/",e.search="search/",e.VENDOR_VALUES="assistedvendor/",e.UPLOAD_FILE="import/",e.EXPORT_FILE="export/"}(E||(E={})),function(e){e.Vendor="vendor",e.model_number="model_number",e.Height="height",e.display_color="display_color",e.ethernet_ports="ethernet_ports",e.power_ports="power_ports",e.CPU="cpu",e.Memory="memory",e.Storage="storage",e.Comment="comment"}(y||(y={}));var B=a(65),H=a.n(B),G=a(66),z=a.n(G),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(h.a,{variant:"contained",color:"primary",startIcon:n.a.createElement(H.a,null),onClick:this.props.openImportModal},"Import"),n.a.createElement(h.a,{variant:"contained",color:"primary",startIcon:n.a.createElement(z.a,null),onClick:this.props.downloadTable},"Export"))}}]),t}(n.a.Component),Q=a(67),W=a.n(Q),X=a(179),Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={filters:{}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"updateSearchText",value:function(e){if(this.state.filters.hasOwnProperty(e.target.id))this.state.filters[e.target.id]=e.target.value,this.forceUpdate();else{null==e.target.value||e.target.value;this.state.filters[e.target.id]=e.target.value,this.forceUpdate()}}},{key:"search",value:function(){this.props.search(this.state.filters)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.props.filters.map((function(t,a){return n.a.createElement("div",null,n.a.createElement(W.a,null),n.a.createElement(X.a,{placeholder:t+" filter",inputProps:{"aria-label":"search"},onChange:e.updateSearchText.bind(e),id:t}))})),n.a.createElement("div",null,n.a.createElement(h.a,{onClick:this.search.bind(this)},"Search")),"Click the search button to populate table. Searching with empty filters searches over all values. Click on row values to see detailed view.")}}]),t}(n.a.Component),J=a(443),q=a(457),Z=a(440),$=a(442),ee=a(24),te=a.n(ee),ae=a(453),se=a(99);function re(e,t){return{label:t,name:e}}var ne={vendor:re("vendor","Vendor"),modelNumber:re("model_number","Model Number"),height:re("height","Height"),displayColor:re("display_color","Display Color"),powerPorts:re("power_ports","Power Ports"),cpu:re("cpu","CPU"),memory:re("memory","Memory"),storage:re("storage","Storage"),comments:re("comments","Comments")},oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).updateColor=function(e){a.setState({color:e}),a.props.updateModelColorDetails(e.hex)},a.state={showConfirmationBox:!1,color:null},a.closeModal=a.closeModal.bind(Object(m.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(m.a)(a)),a.deleteItem=a.deleteItem.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"confirmDelete",value:function(){this.setState({showConfirmationBox:!0})}},{key:"closeModal",value:function(){this.setState({showConfirmationBox:!1})}},{key:"deleteItem",value:function(){this.setState({showConfirmationBox:!1}),this.props.delete()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.props.showDetailedView?n.a.createElement(q.a,null,n.a.createElement(Z.a,{expandIcon:n.a.createElement(te.a,null)},n.a.createElement(L.a,null,"Model Details")),n.a.createElement($.a,null,n.a.createElement(I,{open:this.props.statusOpen,severity:this.props.statusSeverity,closeStatus:this.props.statusClose,message:this.props.statusMessage,autoHideDuration:6e3}),this.props.loading?n.a.createElement(J.a,null):n.a.createElement("div",null,n.a.createElement(ae.a,{id:"select-vendor",options:this.props.options,includeInputInList:!0,freeSolo:!0,defaultValue:this.props.defaultValues[ne.vendor.name],renderInput:function(t){return n.a.createElement(g.a,Object.assign({},t,{label:ne.vendor.label,name:ne.vendor.name,onChange:e.props.updateModelCreator,onBlur:e.props.updateModelCreator,variant:"outlined",fullWidth:!0,disabled:e.props.disabled}))}}),n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:ne.modelNumber.label,name:ne.modelNumber.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[ne.modelNumber.name]}),n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:ne.height.label,name:ne.height.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[ne.height.name]}),n.a.createElement(se.CompactPicker,{color:this.state.color||this.props.defaultValues.display_color,onChange:this.updateColor}),n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:ne.powerPorts.label,name:ne.powerPorts.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[ne.powerPorts.name]}),n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:ne.cpu.label,name:ne.cpu.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[ne.cpu.name]}),n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:ne.memory.label,name:ne.memory.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[ne.memory.name]}),n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:ne.storage.label,name:ne.storage.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[ne.storage.name]}),n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:ne.comments.label,name:ne.comments.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[ne.comments.name]}),this.props.disabled?null:n.a.createElement("div",null,n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.props.edit,disabled:this.state.showConfirmationBox},"Save"),n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.confirmDelete,disabled:this.state.showConfirmationBox},"Delete")),this.state.showConfirmationBox?n.a.createElement("div",null,"Are you sure you wish to delete?",n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.deleteItem},"Yes"),n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.closeModal},"No")):null))):null)}}]),t}(n.a.Component);a(392);function ie(e,t){return{label:t,name:e}}var le,ce,ue={vendor:ie("vendor","Vendor"),modelNumber:ie("model_number","Model Number"),height:ie("height","Height"),displayColor:ie("display_color","Display Color"),powerPorts:ie("power_ports","Power Ports"),cpu:ie("cpu","CPU"),memory:ie("memory","Memory"),storage:ie("storage","Storage"),comments:ie("comments","Comments")},de=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).updateColor=function(e){console.log(e),a.setState({color:e}),a.props.updateModelColor(e.hex),console.log("state: "+a.state.color)},a.state={color:"#000"},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(q.a,null,n.a.createElement(Z.a,{expandIcon:n.a.createElement(te.a,null)},n.a.createElement(L.a,null,"Create Model")),n.a.createElement($.a,null,n.a.createElement(I,{open:this.props.statusOpen,severity:this.props.statusSeverity,closeStatus:this.props.statusClose,message:this.props.statusMessage}),n.a.createElement("div",null,n.a.createElement(ae.a,{id:"select-vendor",options:this.props.options,includeInputInList:!0,freeSolo:!0,renderInput:function(t){return n.a.createElement(g.a,Object.assign({},t,{label:ue.vendor.label,name:ue.vendor.name,onChange:e.props.updateModelCreator,onBlur:e.props.updateModelCreator,variant:"outlined",fullWidth:!0}))}}),n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:ue.modelNumber.label,name:ue.modelNumber.name,onChange:this.props.updateModelCreator}),n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:ue.height.label,name:ue.height.name,onChange:this.props.updateModelCreator}),n.a.createElement(se.CompactPicker,{color:this.state.color,onChange:this.updateColor}),n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:ue.powerPorts.label,name:ue.powerPorts.name,onChange:this.props.updateModelCreator}),n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:ue.cpu.label,name:ue.cpu.name,onChange:this.props.updateModelCreator}),n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:ue.memory.label,name:ue.memory.name,onChange:this.props.updateModelCreator}),n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:ue.storage.label,name:ue.storage.name,onChange:this.props.updateModelCreator}),n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:ue.comments.label,name:ue.comments.name,onChange:this.props.updateModelCreator}),n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.props.createModel},"Create")))))}}]),t}(n.a.Component),me=a(456),pe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(me.a,{style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"#AAAAAA"},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.props.showImportModal,onClose:this.props.closeImportModal},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("input",{type:"file",accept:".csv",onChange:this.props.chooseFile}),n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.props.uploadFile},"Upload")),n.a.createElement("p",{style:{color:"white"}},this.props.textDescription)))}}]),t}(n.a.Component),he=a(445),ge=a(449),ve=a(448),Se=a(444),fe=a(446),be=a(447),we=a(396),Ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"showDetailedView",value:function(e){this.props.showDetailedView(e.target.id)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(Se.a,{component:we.a},n.a.createElement(he.a,{className:{minWidth:650},"aria-label":"simple table"},n.a.createElement(fe.a,null,n.a.createElement(be.a,null,this.props.columns.map((function(e){return n.a.createElement(ve.a,null,n.a.createElement("span",{id:e},e))})))),n.a.createElement(ge.a,null,this.props.vals.map((function(t,a){return n.a.createElement(be.a,null,e.props.keys.map((function(s){return n.a.createElement(ve.a,{scope:"row"},n.a.createElement("span",{id:a,onClick:e.showDetailedView.bind(e)},t[s]))})))}))))))}}]),t}(n.a.Component),ye="There was an error in the backend. Could not perform the given model operation at this time.",Me=["vendor","model_number","height"],Ce="models/",ke=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).createModel=function(){S.a.post(w(Ce,E.create),{vendor:a.state.createdModel[y.Vendor],model_number:a.state.createdModel[y.model_number],height:a.state.createdModel[y.Height],display_color:a.state.createdModel[y.display_color],ethernet_ports:a.state.createdModel[y.ethernet_ports],power_ports:a.state.createdModel[y.power_ports],cpu:a.state.createdModel[y.CPU],memory:a.state.createdModel[y.Memory],storage:a.state.createdModel[y.Storage],comment:a.state.createdModel[y.Comment]}).then((function(e){var t;"success"===e.data.message?(a.setState((t={showStatus:!0,statusMessage:"success"},Object(A.a)(t,"statusMessage","Successfully created model"),Object(A.a)(t,"statusSeverity","success"),Object(A.a)(t,"createdModel",{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""}),Object(A.a)(t,"showCreateModal",!1),t)),a.getVendorList(),a.searchModels()):a.setState({createStatusOpen:!0,createStatusMessage:e.data.message,createStatusSeverity:"error"})})).catch(a.setState({createStatusOpen:!0,createStatusMessage:ye,createStatusSeverity:"error"}))},a.editModel=function(){S.a.post(w(Ce,E.edit),{vendorOriginal:a.state.originalVendor,model_numberOriginal:a.state.originalModelNumber,heightOriginal:a.state.originalHeight,vendor:a.state.detailedValues[y.Vendor],model_number:a.state.detailedValues[y.model_number],height:a.state.detailedValues[y.Height],display_color:a.state.detailedValues[y.display_color],ethernet_ports:a.state.detailedValues[y.ethernet_ports],power_ports:a.state.detailedValues[y.power_ports],cpu:a.state.detailedValues[y.CPU],memory:a.state.detailedValues[y.Memory],storage:a.state.detailedValues[y.Storage],comment:a.state.detailedValues[y.Comment]}).then((function(e){"success"===e.data.message?(a.setState({showStatus:!0,statusSeverity:"success",statusMessage:"Successfully edited model",originalVendor:"",originalModelNumber:"",originalHeight:"",detailedValues:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},showDetailedView:!1}),a.getVendorList(),a.searchModels()):a.setState({detailStatusOpen:!0,detailStatusMessage:e.data.message,detailStatusSeverity:"error"})})).catch(a.setState({detailStatusOpen:!0,detailStatusMessage:ye,detailStatusSeverity:"error"}))},a.deleteModel=function(){S.a.post(w(Ce,E.delete),{vendor:a.state.originalVendor,model_number:a.state.originalModelNumber}).then((function(e){"success"===e.data.message?(a.setState({showStatus:!0,statusSeverity:"success",statusMessage:"Successfully deleted model",detailedValues:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},showDetailedView:!1}),a.getVendorList(),a.searchModels()):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})})).catch(a.setState({showStatus:!0,statusMessage:ye,statusSeverity:"error"}))},a.detailViewModel=function(e,t){S.a.post(w(Ce,E.detailView),{vendor:e,model_number:t}).then((function(e){a.setState({detailedValues:e.data.models[0],detailViewLoading:!1})})).catch((function(e){console.log(e),this.setState({showStatus:!0,statusMessage:ye,statusSeverity:"error"})})),a.setState({viewVendor:"",viewModel:""})},a.searchModels=function(){S.a.post(w(Ce,E.search),{filter:{vendor:a.state.searchVendor,model_number:a.state.searchModelNum,height:a.state.searchHeight}}).then((function(e){a.setState({items:e.data.models})})),a.setState({searchText:""})},a.getVendorList=function(){S.a.get(w(Ce,E.VENDOR_VALUES),{}).then((function(e){return a.setState({vendorsList:e.data.results})})),a.setState({madeVendorQuery:!0})},a.sendUploadedFile=function(e){S.a.post(w(Ce,E.UPLOAD_FILE),e).then((function(e){"success"===e.data.message?(a.setState({showStatus:!0,statusMessage:e.data.summary,statusSeverity:"success",showImportModal:!1}),a.searchModels()):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})}))},a.downloadTable=function(){S.a.post(w(Ce,E.EXPORT_FILE),{filter:{vendor:a.state.searchVendor,model_number:a.state.searchModelNum,height:a.state.searchHeight}}).then((function(e){a.setState({csvData:e.data.csvData}),a.csvLink.link.click()}))},a.search=function(e){a.setState({searchVendor:e.vendor,searchModelNum:e.model_number,searchHeight:e.height},a.searchModels)},a.openCreateModal=function(){a.setState({showCreateModal:!0})},a.openImportModal=function(){a.setState({showImportModal:!0})},a.showDetailedView=function(e){a.setState({showDetailedView:!0,detailViewLoading:!0,originalHeight:a.state.items[e].height,originalModelNumber:a.state.items[e].model_number,originalVendor:a.state.items[e].vendor});var t=a.state.items[e].vendor,s=a.state.items[e].model_number;a.detailViewModel(t,s)},a.closeCreateModal=function(){a.setState({showCreateModal:!1})},a.closeImportModal=function(){a.setState({showImportModal:!1})},a.closeDetailedView=function(){a.setState({showDetailedView:!1})},a.updateModelCreator=function(e){a.state.createdModel[e.target.name]=e.target.value,a.forceUpdate()},a.updateModelColor=function(e){console.log("updating color to "+e),a.state.createdModel.display_color=e,a.forceUpdate()},a.updateModelColorDetails=function(e){console.log("updating color to "+e),a.state.detailedValues.display_color=e,a.forceUpdate()},a.updateModelEdited=function(e){a.state.detailedValues[e.target.name]=e.target.value,a.forceUpdate()},a.updateSearchText=function(e){a.setState({searchText:e.target.value})},a.closeShowStatus=function(e,t){"clickaway"!==t&&a.setState({showStatus:!1})},a.createStatusClose=function(e,t){"clickaway"!==t&&a.setState({createStatusOpen:!1})},a.detailStatusClose=function(e,t){"clickaway"!==t&&a.setState({detailStatusOpen:!1})},a.uploadFile=function(){var e=new FormData;e.append("file",a.state.importedFile),a.sendUploadedFile(e)},a.chooseFile=function(e){a.setState({importedFile:e.target.files[0]})},a.initialize=function(){a.searchModels(),a.getVendorList()},a.state={showCreateModal:!1,showImportModal:!1,items:[],createdModel:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},createdVendor:"",createdModelNum:"",createdHeight:"",createdDispClr:"",createdEthPorts:"",createdPwrPorts:"",createdCPU:"",createdMem:"",createdStorage:"",createdComments:"",deleteVendor:"",deleteModel:"",viewVendor:"",viewModel:"",searchText:"",searchVendor:"",searchModelNum:"",searchHeight:"",csvData:"",importedFile:null,showDetailedView:!1,detailViewLoading:!1,detailedValues:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},originalVendor:"",originalModelNumber:"",originalHeight:"",statusOpen:!1,statusSeverity:"",statusMessage:"",detailStatusOpen:!1,detailStatusSeverity:"",detailStatusMessage:"",createStatusOpen:!1,createStatusSeverity:"",createStatusMessage:"",vendorsList:[],madeVendorQuery:!1},S.a.defaults.headers.common.token=a.props.token,S.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(_,null,this.state.madeVendorQuery?null:this.initialize(),n.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage,autoHideDuration:6e3}),this.props.privilege==s.ADMIN?n.a.createElement("div",null,n.a.createElement(K,{openCreateModal:this.openCreateModal,openImportModal:this.openImportModal,downloadTable:this.downloadTable}),n.a.createElement(F.CSVLink,{data:this.state.csvData,filename:"models.csv",className:"hidden",ref:function(t){return e.csvLink=t},target:"_blank"}),n.a.createElement(de,{statusOpen:this.state.createStatusOpen,statusSeverity:this.state.createStatusSeverity,statusClose:this.createStatusClose,statusMessage:this.state.createStatusMessage,showCreateModal:this.state.showCreateModal,closeCreateModal:this.closeCreateModal,createModel:this.createModel,updateModelCreator:this.updateModelCreator,options:this.state.vendorsList,useAutocomplete:!0,updateModelColor:this.updateModelColor}),n.a.createElement(pe,{showImportModal:this.state.showImportModal,closeImportModal:this.closeImportModal,uploadFile:this.uploadFile,chooseFile:this.chooseFile,textDescription:"The following format should be used for each row: vendor,model_number,height,display_color,ethernet_ports,power_ports,cpu,memory,storage,comment"})):null,n.a.createElement(Y,{updateSearchText:this.updateSearchText,search:this.search,filters:Me}),n.a.createElement(Ee,{columns:Me,vals:this.state.items,keys:Me,showDetailedView:this.showDetailedView,filters:Me}),n.a.createElement(oe,{statusOpen:this.state.detailStatusOpen,statusSeverity:this.state.detailStatusSeverity,statusClose:this.detailStatusClose,statusMessage:this.state.detailStatusMessage,showDetailedView:this.state.showDetailedView,closeDetailedView:this.closeDetailedView,updateModelEdited:this.updateModelEdited,defaultValues:this.state.detailedValues,loading:this.state.detailViewLoading,edit:this.editModel,delete:this.deleteModel,disabled:this.props.privilege==s.USER,options:this.state.vendorsList,useAutocomplete:!0,updateModelColorDetails:this.updateModelColorDetails})))}}]),t}(n.a.Component);!function(e){e.create="create/",e.delete="delete/",e.edit="edit/",e.view="view/",e.detailView="detailView/",e.search="search/"}(le||(le={})),function(e){e.Username="username",e.Password="password",e.Email="email",e.display_name="display_name",e.Privilege="privilege"}(ce||(ce={}));n.a.Component;var Oe,Ve,Ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={filters:{}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"updateSearchText",value:function(e){if(this.state.filters.hasOwnProperty(e.target.id))this.state.filters[e.target.id]=e.target.value,this.forceUpdate();else{null==e.target.value||e.target.value;this.state.filters[e.target.id]=e.target.value,this.forceUpdate()}}},{key:"search",value:function(){this.props.search(this.state.filters)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.props.filters.map((function(t,a){return n.a.createElement("div",null,n.a.createElement(W.a,null),n.a.createElement(X.a,{placeholder:t+" filter",inputProps:{"aria-label":"search"},onChange:e.updateSearchText.bind(e),id:t}))})),n.a.createElement("div",null,n.a.createElement(h.a,{onClick:this.search.bind(this)},"Search")),"Click the search button to populate table. Searching with empty filters searches over all values. Click on row values to see detailed view.")}}]),t}(n.a.Component),_e=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={showConfirmationBox:!1},a.closeModal=a.closeModal.bind(Object(m.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(m.a)(a)),a.deleteItem=a.deleteItem.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"confirmDelete",value:function(){this.setState({showConfirmationBox:!0})}},{key:"closeModal",value:function(){this.setState({showConfirmationBox:!1})}},{key:"deleteItem",value:function(){this.setState({showConfirmationBox:!1}),this.props.delete()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.props.showDetailedView?n.a.createElement(q.a,null,n.a.createElement(Z.a,{expandIcon:n.a.createElement(te.a,null)},n.a.createElement(L.a,null,"Create")),n.a.createElement($.a,null,n.a.createElement(I,{open:this.props.statusOpen,severity:this.props.statusSeverity,closeStatus:this.props.statusClose,message:this.props.statusMessage}),this.props.loading?n.a.createElement(J.a,null):n.a.createElement("div",null,this.props.inputs.map((function(t){return n.a.createElement(g.a,{name:t,disabled:e.props.disabled,id:"standard-basic",label:t,onChange:e.props.updateModelEdited,defaultValue:e.props.defaultValues[t]})})),this.props.disabled?null:n.a.createElement("div",null,n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.props.edit,disabled:this.state.showConfirmationBox},"Save"),n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.confirmDelete,disabled:this.state.showConfirmationBox},"Delete")),n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.props.closeDetailedView,disabled:this.state.showConfirmationBox},"Close"),this.state.showConfirmationBox?n.a.createElement("div",null,"Are you sure you wish to delete?",n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.deleteItem},"Yes"),n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.closeModal},"No")):null))):null)}}]),t}(n.a.Component),je=(a(173),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(q.a,{class:"create-expansion-tab"},n.a.createElement(Z.a,{expandIcon:n.a.createElement(te.a,null)},n.a.createElement(L.a,null,"Create User")),n.a.createElement($.a,{class:"create-expansion-tab"},n.a.createElement("div",null,n.a.createElement(I,{open:this.props.statusOpen,severity:this.props.statusSeverity,closeStatus:this.props.statusClose,message:this.props.statusMessage}),this.props.inputs.map((function(t,a){return 0===a&&e.props.useAutocomplete?n.a.createElement(ae.a,{id:"combo-box-demo",options:e.props.options,includeInputInList:!0,freeSolo:!0,renderInput:function(a){return n.a.createElement(g.a,Object.assign({},a,{label:t,name:t,onChange:e.props.updateModelCreator,onBlur:e.props.updateModelCreator,variant:"outlined",fullWidth:!0}))}}):n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:t,name:t,onChange:e.props.updateModelCreator})})),n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.props.createModel},"Create")))))}}]),t}(n.a.Component)),Ue="There was an error in the backend. Could not perform the given user operation at this time.",De=["username","email","display_name","privilege","password"],Re=["username","email","display_name","privilege"],Le="users/",xe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).createUser=function(){S.a.post(w(Le,le.create),{username:a.state.createdUser[ce.Username],password:a.state.createdUser[ce.Password],display_name:a.state.createdUser[ce.display_name],email:a.state.createdUser[ce.Email],privilege:a.state.createdUser[ce.Privilege]}).then((function(e){"success"===e.data.message?(a.setState({createStatusOpen:!0,createStatusMessage:"Successfully created user",createStatusSeverity:"success",createdUser:{username:"",password:"",display_name:"",email:"",privilege:""},showCreateModal:!1}),a.searchUsers()):a.setState({createStatusOpen:!0,createStatusMessage:e.data.message,createStatusSeverity:"error"})})).catch(a.setState({createStatusOpen:!0,createStatusMessage:Ue,createStatusSeverity:"error"}))},a.editUser=function(){S.a.post(w(Le,le.edit),{username_original:a.state.originalUsername,username:a.state.detailedValues[ce.Username],display_name:a.state.detailedValues[ce.display_name],email:a.state.detailedValues[ce.Email],privilege:a.state.detailedValues[ce.Privilege]}).then((function(e){"success"===e.data.message?(a.setState({detailStatusOpen:!0,detailStatusMessage:"Successfully edited user",detailStatusSeverity:"success",originalUsername:"",detailedValues:{username:"",display_name:"",email:"",privilege:""},showDetailedView:!1}),a.searchUsers()):a.setState({detailStatusOpen:!0,detailStatusMessage:e.data.message,detailStatusSeverity:"error"})})).catch(a.setState({detailStatusOpen:!0,detailStatusMessage:Ue,detailStatusSeverity:"error"}))},a.deleteUser=function(){S.a.post(w(Le,le.delete),{username:a.state.originalUsername}).then((function(e){"success"===e.data.message?(a.setState({statusOpen:!0,statusMessage:"Successfully deleted user",statusSeverity:"success",deleteUsername:"",showDetailedView:!1}),a.searchUsers()):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})})).catch(a.setState({showStatus:!0,statusMessage:Ue,statusSeverity:"error"}))},a.detailViewUser=function(e){S.a.post(w(Le,le.detailView),{username:e}).then((function(e){return a.setState({detailedValues:e.data.user,detailViewLoading:!1})})).catch(a.setState({showStatus:!0,statusMessage:Ue,statusSeverity:"error"})),a.setState({viewUser:""})},a.searchUsers=function(){S.a.post(w(Le,le.search),{filter:{username:a.state.searchUsernm,email:a.state.searchEml,display_name:a.state.searchDspNm,privilege:a.state.searchPriv}}).then((function(e){return a.setState({items:null==e.data.users?[]:e.data.users})})),a.setState({initialized:!0})},a.search=function(e){a.setState({searchUsernm:e.username,searchEml:e.email,searchDspNm:e.display_name,searchPriv:e.privilege},a.searchUsers)},a.downloadTable=function(){a.csvLink.link.click()},a.openCreateModal=function(){a.setState({showCreateModal:!0})},a.openImportModal=function(){a.setState({showImportModal:!0})},a.showDetailedView=function(e){a.setState({showDetailedView:!0,detailViewLoading:!0,originalUsername:a.state.items[e].username});var t=a.state.items[e].username;a.detailViewUser(t)},a.closeCreateModal=function(){a.setState({showCreateModal:!1})},a.closeImportModal=function(){a.setState({showImportModal:!1})},a.closeDetailedView=function(){a.setState({showDetailedView:!1})},a.updateUserCreator=function(e){a.state.createdUser[e.target.name]=e.target.value,a.forceUpdate()},a.updateUserEdited=function(e){a.state.detailedValues[e.target.name]=e.target.value,a.forceUpdate()},a.closeShowStatus=function(){a.setState({showStatus:!1})},a.createStatusClose=function(){a.setState({createStatusOpen:!1})},a.detailStatusClose=function(){a.setState({detailStatusOpen:!1})},a.initialized=function(){a.searchUsers()},a.state={showCreateModal:!1,showImportModal:!1,items:[],createdUser:{username:"",password:"",display_name:"",email:"",privilege:""},statusOpen:!1,statusSeverity:"",statusMessage:"",detailStatusOpen:!1,detailStatusSeverity:"",detailStatusMessage:"",createStatusOpen:!1,createStatusSeverity:"",createStatusMessage:"",searchUsernm:"",searchEml:"",searchDspNm:"",searchPriv:"",deleteUsername:"",viewUser:"",csvData:[],showDetailedView:!1,detailViewLoading:!1,detailedValues:{username:"",display_name:"",email:"",privilege:""},originalUsername:"",initialized:!1},S.a.defaults.headers.common.token=a.props.token,S.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,this.state.initialized?null:this.initialized(),n.a.createElement(_,null,n.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),this.props.privilege==s.ADMIN?n.a.createElement("div",null,n.a.createElement(je,{statusOpen:this.state.createStatusOpen,statusSeverity:this.state.createStatusSeverity,statusClose:this.createStatusClose,statusMessage:this.state.createStatusMessage,showStatus:this.state.createStatus,showCreateModal:this.state.showCreateModal,closeCreateModal:this.closeCreateModal,createModel:this.createUser,updateModelCreator:this.updateUserCreator,inputs:De,options:[],useAutocomplete:!1}),n.a.createElement(pe,{showImportModal:this.state.showImportModal,closeImportModal:this.closeImportModal})):null,n.a.createElement(Ie,{updateSearchText:this.updateSearchText,search:this.search,filters:Re}),n.a.createElement(Ee,{columns:Re,vals:this.state.items,keys:Re,showDetailedView:this.showDetailedView,filters:Re}),n.a.createElement(_e,{statusOpen:this.state.detailStatusOpen,statusSeverity:this.state.detailStatusSeverity,statusClose:this.detailStatusClose,statusMessage:this.state.detailStatusMessage,showDetailedView:this.state.showDetailedView,closeDetailedView:this.closeDetailedView,inputs:Re,updateModelEdited:this.updateUserEdited,defaultValues:this.state.detailedValues,loading:this.state.detailViewLoading,edit:this.editUser,delete:this.deleteUser,disabled:this.props.privilege==s.USER})))}}]),t}(n.a.Component);!function(e){e.create="create/",e.delete="delete/",e.edit="edit/",e.view="view/",e.detailView="detailView/",e.search="search/",e.GET_ALL_MODELS="assistedmodel/",e.UPLOAD_FILE="import/",e.EXPORT_FILE="export/"}(Oe||(Oe={})),function(e){e.Model="model",e.Hostname="hostname",e.Rack="rack",e.RackU="rack_position",e.Owner="owner",e.Comment="comment"}(Ve||(Ve={}));var Te,Ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(h.a,{variant:"contained",color:"primary",startIcon:n.a.createElement(H.a,null),onClick:this.props.openImportModal},"Import"),n.a.createElement(h.a,{variant:"contained",color:"primary",startIcon:n.a.createElement(z.a,null),onClick:this.props.downloadTable},"Export"))}}]),t}(n.a.Component),Pe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={filters:{}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"updateSearchText",value:function(e){if(this.state.filters.hasOwnProperty(e.target.id))this.state.filters[e.target.id]=e.target.value,this.forceUpdate();else{null==e.target.value||e.target.value;this.state.filters[e.target.id]=e.target.value,this.forceUpdate()}}},{key:"search",value:function(){this.props.search(this.state.filters)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.props.filters.map((function(t,a){return n.a.createElement("div",null,n.a.createElement(W.a,null),n.a.createElement(X.a,{placeholder:t+" filter",inputProps:{"aria-label":"search"},onChange:e.updateSearchText.bind(e),id:t}))})),n.a.createElement("div",null,n.a.createElement(h.a,{onClick:this.search.bind(this)},"Search")),"Click the search button to populate table. Searching with empty filters searches over all values. Click on row values to see detailed view.")}}]),t}(n.a.Component),Ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={showConfirmationBox:!1},a.closeModal=a.closeModal.bind(Object(m.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(m.a)(a)),a.deleteItem=a.deleteItem.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"confirmDelete",value:function(){this.setState({showConfirmationBox:!0})}},{key:"closeModal",value:function(){this.setState({showConfirmationBox:!1})}},{key:"deleteItem",value:function(){this.setState({showConfirmationBox:!1}),this.props.delete()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.props.showDetailedView?n.a.createElement(q.a,null,n.a.createElement(Z.a,{expandIcon:n.a.createElement(te.a,null)},n.a.createElement(L.a,null,"Create")),n.a.createElement($.a,null,n.a.createElement(I,{open:this.props.statusOpen,severity:this.props.statusSeverity,closeStatus:this.props.statusClose,message:this.props.statusMessage}),this.props.loading?n.a.createElement(J.a,null):n.a.createElement("div",null,this.props.inputs.map((function(t){return n.a.createElement(g.a,{name:t,disabled:e.props.disabled,id:"standard-basic",label:t,onChange:e.props.updateModelEdited,defaultValue:e.props.defaultValues[t]})})),this.props.disabled?null:n.a.createElement("div",null,n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.props.edit,disabled:this.state.showConfirmationBox},"Save"),n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.confirmDelete,disabled:this.state.showConfirmationBox},"Delete")),this.state.showConfirmationBox?n.a.createElement("div",null,"Are you sure you wish to delete?",n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.deleteItem},"Yes"),n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.closeModal},"No")):null))):null)}}]),t}(n.a.Component),Fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(q.a,{class:"create-expansion-tab"},n.a.createElement(Z.a,{expandIcon:n.a.createElement(te.a,null)},n.a.createElement(L.a,null,"Create")),n.a.createElement($.a,{class:"create-expansion-tab"},n.a.createElement(I,{open:this.props.statusOpen,severity:this.props.statusSeverity,closeStatus:this.props.statusClose,message:this.props.statusMessage}),n.a.createElement("div",null,this.props.inputs.map((function(t,a){return 0===a&&e.props.useAutocomplete?n.a.createElement(ae.a,{id:"combo-box-demo",options:e.props.options,includeInputInList:!0,freeSolo:!0,renderInput:function(a){return n.a.createElement(g.a,Object.assign({},a,{label:t,name:t,onChange:e.props.updateModelCreator,onBlur:e.props.updateModelCreator,variant:"outlined",fullWidth:!0}))}}):n.a.createElement(g.a,{id:"standard-basic",variant:"outlined",label:t,name:t,onChange:e.props.updateModelCreator})})),n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.props.createModel},"Create")))))}}]),t}(n.a.Component),Be="There was an error in the backend. Could not perform the given instance operation at this time.",He=["model","hostname","rack","rack_position","owner","comment"],Ge=["model","hostname","rack","rack_position"],ze="instances/",Ke=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).createInstance=function(){S.a.post(w(ze,Oe.create),{model:a.state.createdInstance[Ve.Model],hostname:a.state.createdInstance[Ve.Hostname],rack:a.state.createdInstance[Ve.Rack],rack_position:a.state.createdInstance[Ve.RackU],owner:a.state.createdInstance[Ve.Owner],comment:a.state.createdInstance[Ve.Comment]}).then((function(e){"success"===e.data.message?(a.setState({showStatus:!0,statusMessage:"Successfully created instance",statusSeverity:"success",createdInstance:{model:"",hostname:"",rack:"",rack_position:"",owner:"",comment:""},showCreateModal:!1}),a.searchInstances()):a.setState({createStatusOpen:!0,createStatusMessage:e.data.message,createStatusSeverity:"error"})})).catch(a.setState({createStatusOpen:!0,createStatusMessage:Be,createStatusSeverity:"error"}))},a.editInstance=function(){S.a.post(w(ze,Oe.edit),{rackOriginal:a.state.originalRack,rack_positionOriginal:a.state.originalrack_position,model:a.state.detailedValues[Ve.Model],hostname:a.state.detailedValues[Ve.Hostname],rack:a.state.detailedValues[Ve.Rack],rack_position:a.state.detailedValues[Ve.RackU],owner:a.state.detailedValues[Ve.Owner],comment:a.state.detailedValues[Ve.Comment]}).then((function(e){"success"===e.data.message?(a.setState({showStatus:!0,statusMessage:"Successfully edited instance",statusSeverity:"success",detailedValues:{model:"",hostname:"",rack:"",rack_position:"",owner:"",comment:""},showDetailedView:!1}),a.searchInstances()):a.setState({detailStatusOpen:!0,detailStatusMessage:e.data.message,detailStatusSeverity:"error"})})).catch(a.setState({detailStatusOpen:!0,detailStatusMessage:Be,detailStatusSeverity:"error"}))},a.deleteInstance=function(){S.a.post(w(ze,Oe.delete),{rack:a.state.originalRack,rack_position:a.state.originalrack_position}).then((function(e){"success"===e.data.message?(a.setState({showStatus:!0,statusMessage:"Successfully deleted instance",statusSeverity:"success",originalRack:"",originalrack_position:"",showDetailedView:!1}),a.searchInstances()):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})})).catch(a.setState({showStatus:!0,statusMessage:Be,statusSeverity:"error"}))},a.detailViewInstance=function(e,t){S.a.post(w(ze,Oe.detailView),{rack:e,rack_position:t}).then((function(e){return a.setState({detailedValues:e.data.instances[0],detailViewLoading:!1})})).catch(a.setState({showStatus:!0,statusMessage:Be,statusSeverity:"error"})),a.setState({viewInstanceRack:""})},a.searchInstances=function(){S.a.post(w(ze,Oe.search),{filter:{model:a.state.searchModel,hostname:a.state.searchHostname,rack:a.state.searchRack,rack_position:a.state.searchRackU}}).then((function(e){a.setState({items:e.data.instances})}))},a.getModelList=function(){S.a.get(w(ze,Oe.GET_ALL_MODELS),{}).then((function(e){return a.setState({modelList:e.data.results})})),a.setState({madeModelQuery:!0})},a.sendUploadedFile=function(e){S.a.post(w(ze,Oe.UPLOAD_FILE),e).then((function(e){"success"===e.data.message?(a.setState({showStatus:!0,statusMessage:e.data.summary,statusSeverity:"success",showImportModal:!1}),a.searchInstances()):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})}))},a.search=function(e){a.setState({searchModel:e.model,searchHostname:e.hostname,searchRack:e.rack,searchRackU:e.rack_position},a.searchInstances)},a.downloadTable=function(){S.a.post(w(ze,Oe.EXPORT_FILE),{filter:{model:a.state.searchModel,hostname:a.state.searchHostname,rack:a.state.searchRack,rack_position:a.state.searchRackU}}).then((function(e){a.setState({csvData:e.data.csvData}),a.csvLink.link.click()}))},a.openCreateModal=function(){a.getModelList(),a.setState({showCreateModal:!0})},a.openImportModal=function(){a.setState({showImportModal:!0})},a.showDetailedView=function(e){a.setState({showDetailedView:!0,detailViewLoading:!0,originalRack:a.state.items[e].rack,originalrack_position:a.state.items[e].rack_position});a.state.items[e].model,a.state.items[e].hostname;var t=a.state.items[e].rack,s=a.state.items[e].rack_position;a.detailViewInstance(t,s)},a.closeCreateModal=function(){a.setState({showCreateModal:!1})},a.closeImportModal=function(){a.setState({showImportModal:!1})},a.closeDetailedView=function(){a.setState({showDetailedView:!1})},a.updateInstanceCreator=function(e){a.state.createdInstance[e.target.name]=e.target.value,a.forceUpdate()},a.updateInstanceEdited=function(e){a.state.detailedValues[e.target.name]=e.target.value,a.forceUpdate()},a.closeShowStatus=function(){a.setState({showStatus:!1})},a.createStatusClose=function(){a.setState({createStatusOpen:!1})},a.detailStatusClose=function(){a.setState({detailStatusOpen:!1})},a.uploadFile=function(){var e=new FormData;e.append("file",a.state.importedFile),a.sendUploadedFile(e)},a.chooseFile=function(e){a.setState({importedFile:e.target.files[0]})},a.initialize=function(){a.searchInstances(),a.getModelList()},a.state={showCreateModal:!1,showImportModal:!1,items:[],createdInstance:{model:"",hostname:"",rack:"",rack_position:"",owner:"",comment:""},statusOpen:!1,statusSeverity:"",statusMessage:"",detailStatusOpen:!1,detailStatusSeverity:"",detailStatusMessage:"",createStatusOpen:!1,createStatusSeverity:"",createStatusMessage:"",deleteInstanceRack:"",deleteInstancerack_position:"",viewInstanceRack:"",viewInstancerack_position:"",searchModel:"",searchHostname:"",searchRack:"",searchRackU:"",csvData:"",importedFile:null,showDetailedView:!1,detailViewLoading:!1,detailedValues:{model:"",hostname:"",rack:"",rack_position:"",owner:"",comment:""},originalRack:"",originalrack_position:"",modelList:[],madeModelQuery:!1},S.a.defaults.headers.common.token=a.props.token,S.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(_,null,this.state.madeModelQuery?null:this.initialize(),n.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),this.props.privilege==s.ADMIN?n.a.createElement("div",null,n.a.createElement(Ne,{openCreateModal:this.openCreateModal,openImportModal:this.openImportModal,downloadTable:this.downloadTable}),n.a.createElement(F.CSVLink,{data:this.state.csvData,filename:"instances.csv",className:"hidden",ref:function(t){return e.csvLink=t},target:"_blank"}),n.a.createElement(Fe,{statusOpen:this.state.createStatusOpen,statusSeverity:this.state.createStatusSeverity,statusClose:this.createStatusClose,statusMessage:this.state.createStatusMessage,showCreateModal:this.state.showCreateModal,closeCreateModal:this.closeCreateModal,createModel:this.createInstance,updateModelCreator:this.updateInstanceCreator,inputs:He,options:this.state.modelList,useAutocomplete:!0}),n.a.createElement(pe,{showImportModal:this.state.showImportModal,closeImportModal:this.closeImportModal,uploadFile:this.uploadFile,chooseFile:this.chooseFile,textDescription:"The following format should be used for each row: hostname,rack,rack_position,vendor,model_number,owner,comment"})):null,n.a.createElement(Pe,{updateSearchText:this.updateSearchText,search:this.search,filters:Ge}),n.a.createElement(Ee,{columns:Ge,vals:this.state.items,keys:Ge,showDetailedView:this.showDetailedView,filters:Ge}),n.a.createElement(Ae,{statusOpen:this.state.detailStatusOpen,statusSeverity:this.state.detailStatusSeverity,statusClose:this.detailStatusClose,statusMessage:this.state.detailStatusMessage,showDetailedView:this.state.showDetailedView,closeDetailedView:this.closeDetailedView,inputs:He,updateModelEdited:this.updateInstanceEdited,defaultValues:this.state.detailedValues,loading:this.state.detailViewLoading,edit:this.editInstance,delete:this.deleteInstance,disabled:this.props.privilege==s.USER})))}}]),t}(n.a.Component),Qe=a(454),We=a(438),Xe=a(436);!function(e){e.GET_ALL_RACKS="all",e.CREATE_RACKS="create",e.DELETE_RACKS="delete",e.GET_RACK_DETAILS="details"}(Te||(Te={}));a(393);var Ye,Je="racks/",qe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getAllRacks=function(){S.a.get(w(Je,Te.GET_ALL_RACKS)).then((function(e){"success"===e.data.message?a.setState({showStatus:!0,statusMessage:"Success",statusSeverity:"success",racksList:e.data.racks}):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})}))},a.createRacks=function(){a.updateRacks(Te.CREATE_RACKS)},a.deleteRacks=function(){a.updateRacks(Te.DELETE_RACKS)},a.viewRacks=function(){a.updateRacks(Te.GET_RACK_DETAILS)},a.changeStartingLetter=function(e){a.setState({startingRackLetter:e.target.value})},a.changeEndingLetter=function(e){a.setState({endingRackLetter:e.target.value})},a.changeStartingNum=function(e){a.setState({startingRackNumber:e.target.value})},a.changeEndingNum=function(e){a.setState({endingRackNumber:e.target.value})},a.closeShowStatus=function(){a.setState({showStatus:!1})},a.initialize=function(){a.getAllRacks(),a.setState({madeRacksQuery:!0})},a.state={items:[],startingRackLetter:"A",endingRackLetter:"A",startingRackNumber:1,endingRackNumber:1,showStatus:!1,statusMessage:"",statusSeverity:"",showConfirmationBox:!1,racksList:[],madeRacksQuery:!1},S.a.defaults.headers.common.token=a.props.token,S.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"updateRacks",value:function(e){var t=this;S.a.post(w(Je,e),{start_letter:this.state.startingRackLetter,stop_letter:this.state.endingRackLetter,start_number:this.state.startingRackNumber,stop_number:this.state.endingRackNumber}).then((function(a){if(console.log(a),"success"===a.data.message){if(t.setState({showStatus:!0,statusMessage:"Success",statusSeverity:"success",showConfirmationBox:!1}),e==Te.GET_RACK_DETAILS){var s=window.open(a.data.link,"_blank");null!=s&&s.focus()}}else t.setState({showStatus:!0,statusMessage:a.data.message,statusSeverity:"error"})}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{class:"root"},n.a.createElement(_,null,n.a.createElement(we.a,{elevation:3},this.state.madeRacksQuery?null:this.initialize(),n.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),n.a.createElement(Xe.a,null,n.a.createElement("div",{class:"select-letter"},n.a.createElement(Qe.a,{id:"starting-letter-selector",value:this.state.startingRackLetter,onChange:this.changeStartingLetter},b.map((function(e){return n.a.createElement(T.a,{value:e},e)}))),n.a.createElement(We.a,null,"Starting Letter"))),n.a.createElement(Xe.a,null,n.a.createElement("div",{class:"select-letter"},n.a.createElement(Qe.a,{id:"ending-letter-selector",value:this.state.endingRackLetter,onChange:this.changeEndingLetter},b.map((function(e){return n.a.createElement(T.a,{value:e},e)}))),n.a.createElement(We.a,null,"Ending Letter"))),n.a.createElement(Xe.a,null,n.a.createElement("div",{class:"select-number"},n.a.createElement(g.a,{id:"starting-num-selector",type:"number",value:this.state.startingRackNumber,onChange:this.changeStartingNum,InputProps:{inputProps:{min:1}}}),n.a.createElement(We.a,null,"Starting Number"))),n.a.createElement(Xe.a,null,n.a.createElement("div",{class:"select-number"},n.a.createElement(g.a,{id:"ending-num-selector",type:"number",value:this.state.endingRackNumber,onChange:this.changeEndingNum,InputProps:{inputProps:{min:1}}}),n.a.createElement(We.a,null,"Ending Number"))),n.a.createElement("div",{class:"buttons"},n.a.createElement("span",{class:"button"},n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.viewRacks,disabled:this.state.showConfirmationBox},"View")),n.a.createElement("span",{class:"button"},this.props.privilege==s.ADMIN?n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.createRacks,disabled:this.state.showConfirmationBox},"Create"):null),n.a.createElement("span",{class:"button"},this.props.privilege==s.ADMIN?n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return e.setState({showConfirmationBox:!0})},disabled:this.state.showConfirmationBox},"Delete"):null)),this.state.showConfirmationBox?n.a.createElement("div",null,"Are you sure you wish to delete?",n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.deleteRacks},"Yes"),n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return e.setState({showConfirmationBox:!1})}},"No")):null)))}}]),t}(n.a.Component);function Ze(e){try{var t=JSON.parse(e)}catch(s){t=e}if(0===Object.entries(t).length&&t.constructor===Object)return[];var a=[];return Object.keys(t).map((function(e){var s=[];s.push(e),s.push(t[e]),a.push(s)})),a}!function(e){e.GENERATE_REPORT="generate-report",e.TEST="test"}(Ye||(Ye={}));var $e={totalUsage:"Total Usage",spaceUsage:"Space Usage",vendorUsage:"Vendor Usage",modelUsage:"Model Usage",ownerUsage:"Owner Usage"},et={totalUsage:["Total","Usage"],spaceUsage:["Rack","Usage"],vendorUsage:["Vendor","Usage"],modelUsage:["Model","Usage"],ownerUsage:["Ownder","Usage"]},tt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={tableValues:{totalUsage:[],spaceUsage:[],vendorUsage:[],modelUsage:[],ownerUsage:[]},totalUsage:[],spaceUsage:[],vendorUsage:[],modelUsage:[],ownerUsage:[],showStatus:!1,statusMessage:"",statusSeverity:""},a.closeShowStatus=a.closeShowStatus.bind(Object(m.a)(a)),a.generateReport=a.generateReport.bind(Object(m.a)(a)),S.a.defaults.headers.common.token=a.props.token,S.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"generateReport",value:function(){var e=this;S.a.get(w("stats/",Ye.GENERATE_REPORT)).then((function(t){try{var a=t.data,s=[],r=["Total Usage"];r.push(a.totalUsage),s.push(r);var n=Ze(a.spaceUsage);0==n.length&&n.push(["No space is currently being used",[]]);var o=Ze(a.vendorUsage);0==o.length&&o.push(["No vendors currently using space",[]]);var i=Ze(a.modelUsage);0==i.length&&i.push(["No models currently using space",[]]);var l=Ze(a.ownerUsage);0==l.length&&l.push(["No owners currently using space",[]]),e.setState({showStatus:!0,statusSeverity:"success",statusMessage:"Success",tableValues:{totalUsage:s,spaceUsage:n,vendorUsage:o,modelUsage:i,ownerUsage:l}})}catch(c){e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}}))}},{key:"closeShowStatus",value:function(){this.setState({showStatus:!1})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(_,null,n.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),n.a.createElement("div",null,n.a.createElement(h.a,{variant:"contained",color:"primary",onClick:this.generateReport},"Generate New Report")),Object.keys($e).map((function(t){return n.a.createElement(q.a,null,n.a.createElement(Z.a,{expandIcon:n.a.createElement(te.a,null)},n.a.createElement(L.a,null,$e[t])),n.a.createElement($.a,null,n.a.createElement(Se.a,{component:we.a},n.a.createElement(he.a,null,n.a.createElement(fe.a,null,n.a.createElement(be.a,null,et[t].map((function(e){return n.a.createElement(ve.a,null,n.a.createElement("span",{id:e},e))})))),n.a.createElement(ge.a,null,e.state.tableValues[t].map((function(e){return n.a.createElement(be.a,null,e.map((function(e){return n.a.createElement(ve.a,null,n.a.createElement("span",{id:e},e+(isNaN(e)?"":"%")))})))})))))))}))))}}]),t}(n.a.Component),at=(a(394),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleProfileMenuOpen=function(e){a.setState({anchorEl:e.currentTarget,isMenuOpen:!0})},a.handleMenuClose=function(){a.setState({anchorEl:null,isMenuOpen:!1})},a.state={currentTabID:0,anchorEl:null,isMenuOpen:!1},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e,t){this.setState({currentTabID:t})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(_,null,n.a.createElement(U.a,{position:"static"},n.a.createElement("div",{class:"root"},n.a.createElement(L.a,{class:"title",variant:"h3"},"Hyposoft Server Management"),n.a.createElement("span",{class:"grow"}),n.a.createElement(M.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:this.handleProfileMenuOpen},n.a.createElement(P.a,null)),n.a.createElement(x.a,{anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:this.state.isMenuOpen,onClose:this.handleMenuClose},n.a.createElement(T.a,null,"Username: "+this.props.username),n.a.createElement(T.a,null,"Privilege: "+this.props.privilege),n.a.createElement(T.a,{onClick:this.props.logout},"LOGOUT")))),n.a.createElement(D.a,{value:this.state.currentTabID,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},n.a.createElement(R.a,{value:0,style:{flexGrow:1},label:"Models"}," "),n.a.createElement(R.a,{value:1,style:{flexGrow:1},label:"Instances"}),this.props.privilege==s.ADMIN?n.a.createElement(R.a,{value:2,style:{flexGrow:1},label:"Users"}):null,n.a.createElement(R.a,{value:3,style:{flexGrow:1},label:"Racks"}),n.a.createElement(R.a,{value:4,style:{flexGrow:1},label:"Statistics"})),n.a.createElement(L.a,{component:"div",role:"tabpanel",hidden:0!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},n.a.createElement(ke,{token:this.props.token,privilege:this.props.privilege})),n.a.createElement(L.a,{component:"div",role:"tabpanel",hidden:1!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},n.a.createElement(Ke,{token:this.props.token,privilege:this.props.privilege})),n.a.createElement(L.a,{component:"div",role:"tabpanel",hidden:2!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},n.a.createElement(xe,{token:this.props.token,privilege:this.props.privilege})),n.a.createElement(L.a,{component:"div",role:"tabpanel",hidden:3!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},n.a.createElement(qe,{token:this.props.token,privilege:this.props.privilege})),n.a.createElement(L.a,{component:"div",role:"tabpanel",hidden:4!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},n.a.createElement(tt,{token:this.props.token,privilege:this.props.privilege}))))}}]),t}(n.a.Component)),st="token",rt="privilege",nt="loggedIn",ot="username",it=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={token:sessionStorage.getItem(st)||"",privilege:sessionStorage.getItem(rt)||"",loggedIn:sessionStorage.getItem(nt)||"",username:sessionStorage.getItem(ot)||""},a.login=a.login.bind(Object(m.a)(a)),a.logout=a.logout.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"login",value:function(e,t,a){sessionStorage.setItem(st,e),sessionStorage.setItem(rt,a),sessionStorage.setItem(nt,!0),sessionStorage.setItem(ot,t),this.setState({token:e,privilege:a,loggedIn:!0,username:t})}},{key:"logout",value:function(){S.a.get(w("users/","logout")),this.setState({token:"",privilege:"",loggedIn:!1,username:""}),sessionStorage.removeItem(st),sessionStorage.removeItem(rt),sessionStorage.removeItem(nt),sessionStorage.removeItem(ot),window.location.reload()}},{key:"render",value:function(){return n.a.createElement("div",null,this.state.loggedIn?n.a.createElement(at,{token:this.state.token,username:this.state.username,privilege:this.state.privilege,logout:this.logout}):n.a.createElement(j,{loginFunc:this.login}))}}]),t}(n.a.Component);i.a.render(n.a.createElement(it,null),document.getElementById("root"))}},[[200,1,2]]]);
//# sourceMappingURL=main.65fd746d.chunk.js.map
