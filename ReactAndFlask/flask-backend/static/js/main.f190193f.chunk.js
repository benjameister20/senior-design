(this.webpackJsonpreactfrontend=this.webpackJsonpreactfrontend||[]).push([[0],{101:function(e,t,a){e.exports=a.p+"static/media/logo.df79d0ea.png"},211:function(e,t,a){e.exports=a(410)},216:function(e,t,a){},405:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){},409:function(e,t,a){},410:function(e,t,a){"use strict";a.r(t);var n,s=a(0),r=a.n(s),i=a(18),o=a.n(i),l=(a(216),a(11)),c=a(9),u=a(12),d=a(13),m=a(19),p=a(14),h=a(8),g=a(459),E=a(464),f=a(463),b=a(7),v=a.n(b),w="http://localhost:4010/",S=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","W","X","Y","Z"],C="instances/",y="models/",k="users/",M="datacenters/",O="ParselTonguesUserAuth",_="https://oauth.oit.duke.edu/oauth/authorize.php?client_id="+encodeURIComponent(O)+"&client_secret="+encodeURIComponent("LpUwB*eiK4Iw#1gaCu5jYp1u5uRF3ERsdmuNUGoKYNzn7rHm7b")+"&redirect_uri="+encodeURIComponent("http://localhost:3000/")+"&response_type=token&state=1129&scope="+encodeURIComponent("basic");function x(e,t){return w+e+t}!function(e){e.ADMIN="admin",e.USER="user"}(n||(n={}));var N,j,I=a(412),A=a(194),U=a.n(A),D=a(485),L=a(483),T=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,{open:this.props.open,autoHideDuration:12e3,onClose:this.props.closeStatus},r.a.createElement(L.a,{elevation:6,variant:"filled",severity:this.props.severity},r.a.createElement("div",null,this.props.message,r.a.createElement(I.a,{"aria-label":"close",color:"inherit",size:"small",onClick:this.props.closeStatus},r.a.createElement(U.a,{fontSize:"inherit"}))))))}}]),t}(r.a.Component),V=a(460),R=a(461),P=a(462),B=a(101),W=a.n(B),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={username:"",password:"",statusMessage:"",showStatus:!1,statusSeverity:"info"},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(g.a,{container:!0,spacing:5,direction:"column",justify:"flex-start",alignItems:"center",onKeyDown:function(t){return e.onKeyPressed(t)},style:{minHeight:"102vh",background:"linear-gradient(to top, #a8e063, #56ab2f)"}},r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement("img",{src:W.a,alt:"",style:{height:"200px",marginTop:"50px"}})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(V.a,{style:{minWidth:"20vw"}},r.a.createElement(R.a,null,r.a.createElement(g.a,{container:!0,spacing:1,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(g.a,{container:!0,item:!0,alignItems:"flex-start",xs:12},r.a.createElement(P.a,{variant:"h6",color:"textPrimary",fontWeight:"fontWeightBold",gutterBottom:!0},"Please wait while we log you in...")))))),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(T,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage})))}}]),t}(r.a.Component),F="users/",G=a(238),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getDukeCredentials=function(e){v.a.get("https://api.colab.duke.edu/identity/v1/",{headers:{"x-api-key":O,Authorization:"Bearer ".concat(e)}}).then((function(t){console.log(t),v.a.post(x(F,"oauth"),{username:t.data.netid,email:t.data.mail,display_name:t.data.displayName,client_id:O,token:e}).then((function(e){"success"===e.data.message?(a.setState({message:""}),a.props.loginFunc(e.data.token,a.state.username,e.data.privilege)):a.setState({showStatus:!0,statusMessage:e.data.message})}))}))},a.loginWithOAuth=function(){window.location=_},a.state={username:"",password:"",statusMessage:"",showStatus:!1,statusSeverity:"info",initialized:!1,oauth:!1},a.closeShowStatus=a.closeShowStatus.bind(Object(m.a)(a)),a.submitCredentials=a.submitCredentials.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.shib);try{var e=G.parse(window.location.hash.substring(1));null!=e.access_token&&(this.getDukeCredentials(e.access_token),this.setState({oauth:!0})),console.log(e)}catch(t){console.log("tried:")}this.setState({initialized:!0})}},{key:"submitCredentials",value:function(){var e=this;v.a.post(x(F,"authenticate"),{usernameKey:this.state.username,passwordKey:this.state.password}).then((function(t){"success"===t.data.message?(e.setState({message:""}),e.props.loginFunc(t.data.token,e.state.username,t.data.privilege)):e.setState({showStatus:!0,statusMessage:t.data.message})})),this.props.loginFunc("token","Administrator",n.ADMIN)}},{key:"updateUsername",value:function(e){this.setState({username:e.target.value})}},{key:"updatePassword",value:function(e){this.setState({password:e.target.value})}},{key:"closeShowStatus",value:function(){this.setState({showStatus:!1})}},{key:"onKeyPressed",value:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),this.submitCredentials())}},{key:"render",value:function(){var e,t=this;return r.a.createElement("div",null,this.state.oauth?r.a.createElement(H,null):r.a.createElement(g.a,{container:!0,spacing:5,direction:"column",justify:"flex-start",alignItems:"center",onKeyDown:function(e){return t.onKeyPressed(e)},style:(e={minHeight:"102vh",background:"#56ab2f"},Object(h.a)(e,"background","-webkit-linear-gradient(to top, #a8e063, #56ab2f)"),Object(h.a)(e,"background","linear-gradient(to top, #a8e063, #56ab2f)"),e)},r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement("img",{src:W.a,style:{height:"200px",marginTop:"50px"},alt:"Hyposoft"})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(V.a,{style:{minWidth:"20vw"}},r.a.createElement(R.a,null,r.a.createElement(g.a,{container:!0,spacing:1,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(g.a,{container:!0,item:!0,alignItems:"flex-start",xs:12},r.a.createElement(P.a,{variant:"h4",color:"textPrimary",fontWeight:"fontWeightBold",gutterBottom:!0},"Login")),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(f.a,{id:"username-input",label:"Username",variant:"outlined",required:!0,ref:"username",onChange:this.updateUsername.bind(this),style:{minWidth:"15vw"}})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(f.a,{id:"password-input",label:"Password",variant:"outlined",required:!0,ref:"password",type:"password",onChange:this.updatePassword.bind(this),style:{minWidth:"15vw"}})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(E.a,{onClick:this.submitCredentials,variant:"contained",color:"primary",style:{minWidth:"15vw"}},"Sign In")),r.a.createElement(g.a,{container:!0,item:!0,direciton:"row",justify:"center",alignItems:"center",xs:12},r.a.createElement("hr",{style:{width:"5vw"}}),r.a.createElement(P.a,{color:"textSecondary"},"Or"),r.a.createElement("hr",{style:{width:"5vw"}})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(E.a,{onClick:this.loginWithOAuth,variant:"contained",color:"primary"},"Sign In with NetID")))))),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(T,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}))))}}]),t}(r.a.Component),q=a(477),z=a(481),J=a(478),X=a(479),Y=a(197),Q=a(487),Z=a(196),$=a.n(Z),ee=a(5),te=a(480),ae=a(105);!function(e){e.create="create/",e.delete="delete/",e.edit="edit/",e.view="view/",e.detailView="detailView/",e.search="search/",e.VENDOR_VALUES="assistedvendor/",e.UPLOAD_FILE="import/",e.EXPORT_FILE="export/"}(N||(N={})),function(e){e.Vendor="vendor",e.model_number="model_number",e.Height="height",e.display_color="display_color",e.ethernet_ports="ethernet_ports",e.power_ports="power_ports",e.CPU="cpu",e.Memory="memory",e.Storage="storage",e.Comment="comment"}(j||(j={}));var ne=a(106),se=a.n(ne),re=a(107),ie=a.n(re),oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(E.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(se.a,null),onClick:this.props.openImportModal},"Import"),r.a.createElement(E.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(ie.a,null),onClick:this.props.downloadTable},"Export"))}}]),t}(r.a.Component),le=a(137),ce=a.n(le),ue=a(200),de=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={filters:{}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"updateSearchText",value:function(e){if(this.state.filters.hasOwnProperty(e.target.id)){var t=this.state.filters;t[e.target.id]=e.target.value,this.setState({filters:t}),this.forceUpdate()}else{var a=this.state.filters;a[e.target.id]=e.target.value,this.setState({filters:a}),this.forceUpdate()}}},{key:"search",value:function(){this.props.search(this.state.filters)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.filters.map((function(t,a){return r.a.createElement("div",null,r.a.createElement(ce.a,null),r.a.createElement(ue.a,{placeholder:t+" filter",inputProps:{"aria-label":"search"},onChange:e.updateSearchText.bind(e),id:t}))})),r.a.createElement("div",null,r.a.createElement(E.a,{onClick:this.search.bind(this)},"Search")),"Click the search button to populate table. Searching with empty filters searches over all values. Click on row values to see detailed view.")}}]),t}(r.a.Component),me=a(467),pe=a(486),he=a(465),ge=a(466),Ee=a(41),fe=a.n(Ee),be=a(482),ve=a(108);function we(e,t){return{label:t,name:e}}var Se={vendor:we("vendor","Vendor"),modelNumber:we("model_number","Model Number"),height:we("height","Height"),displayColor:we("display_color","Display Color"),powerPorts:we("power_ports","Power Ports"),cpu:we("cpu","CPU"),memory:we("memory","Memory"),storage:we("storage","Storage"),comments:we("comments","Comments")},Ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).updateColor=function(e){a.setState({color:e}),a.props.updateModelColorDetails(e.hex)},a.state={showConfirmationBox:!1,color:null},a.closeModal=a.closeModal.bind(Object(m.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(m.a)(a)),a.deleteItem=a.deleteItem.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"confirmDelete",value:function(){this.setState({showConfirmationBox:!0})}},{key:"closeModal",value:function(){this.setState({showConfirmationBox:!1})}},{key:"deleteItem",value:function(){this.setState({showConfirmationBox:!1}),this.props.delete()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.showDetailedView?r.a.createElement(pe.a,null,r.a.createElement(he.a,{expandIcon:r.a.createElement(fe.a,null)},r.a.createElement(P.a,null,"Model Details")),r.a.createElement(ge.a,null,r.a.createElement(T,{open:this.props.statusOpen,severity:this.props.statusSeverity,closeStatus:this.props.statusClose,message:this.props.statusMessage,autoHideDuration:6e3}),this.props.loading?r.a.createElement(me.a,null):r.a.createElement("div",null,r.a.createElement(be.a,{id:"select-vendor",options:this.props.options,includeInputInList:!0,freeSolo:!0,defaultValue:this.props.defaultValues[Se.vendor.name],renderInput:function(t){return r.a.createElement(f.a,Object.assign({},t,{label:Se.vendor.label,name:Se.vendor.name,onChange:e.props.updateModelCreator,onBlur:e.props.updateModelCreator,variant:"outlined",fullWidth:!0,disabled:e.props.disabled}))}}),r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:Se.modelNumber.label,name:Se.modelNumber.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[Se.modelNumber.name]}),r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:Se.height.label,name:Se.height.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[Se.height.name]}),r.a.createElement(ve.CompactPicker,{color:this.state.color||this.props.defaultValues.display_color,onChange:this.updateColor}),r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:Se.powerPorts.label,name:Se.powerPorts.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[Se.powerPorts.name]}),r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:Se.cpu.label,name:Se.cpu.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[Se.cpu.name]}),r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:Se.memory.label,name:Se.memory.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[Se.memory.name]}),r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:Se.storage.label,name:Se.storage.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[Se.storage.name]}),r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:Se.comments.label,name:Se.comments.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[Se.comments.name]}),this.props.disabled?null:r.a.createElement("div",null,r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.props.edit,disabled:this.state.showConfirmationBox},"Save"),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.confirmDelete,disabled:this.state.showConfirmationBox},"Delete")),this.state.showConfirmationBox?r.a.createElement("div",null,"Are you sure you wish to delete?",r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.deleteItem},"Yes"),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.closeModal},"No")):null))):null)}}]),t}(r.a.Component),ye=a(198),ke=(a(405),a(484)),Me=a(468),Oe=a(419);function _e(e,t){return{label:t,name:e}}var xe,Ne,je={vendor:_e("vendor","Vendor"),modelNumber:_e("model_number","Model Number"),height:_e("height","Height"),displayColor:_e("display_color","Display Color"),powerPorts:_e("power_ports","Power Ports"),cpu:_e("cpu","CPU"),memory:_e("memory","Memory"),storage:_e("storage","Storage"),comments:_e("comments","Comments")},Ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).updateColor=function(e){console.log(e),a.setState({color:e}),a.props.updateModelColor(e.hex),console.log("state: "+a.state.color)},a.showModal=function(){a.setState({showModal:!0})},a.closeModal=function(){a.setState({showModal:!1})},a.state={color:"#000",showModal:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ye.a,{elevation:3},r.a.createElement(g.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"center",style:{margin:"0px"}},r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(P.a,{variant:"h6"},"Add new model")),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(){e.showModal()}},"Create")))),r.a.createElement(ke.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",style:{display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"80%",margin:"0 auto"},open:this.state.showModal,onClose:this.closeModal,closeAfterTransition:!0,BackdropComponent:Me.a,BackdropProps:{timeout:500}},r.a.createElement(Oe.a,{in:this.state.showModal},r.a.createElement(be.a,{id:"select-vendor",options:this.props.options,includeInputInList:!0,freeSolo:!0,renderInput:function(t){return r.a.createElement(f.a,Object.assign({},t,{label:je.vendor.label,name:je.vendor.name,onChange:e.props.updateModelCreator,onBlur:e.props.updateModelCreator,variant:"outlined",fullWidth:!0}))}}),r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:je.modelNumber.label,name:je.modelNumber.name,onChange:this.props.updateModelCreator}),r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:je.height.label,name:je.height.name,onChange:this.props.updateModelCreator}),r.a.createElement(ve.CompactPicker,{color:this.state.color,onChange:this.updateColor}),r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:je.powerPorts.label,name:je.powerPorts.name,onChange:this.props.updateModelCreator}),r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:je.cpu.label,name:je.cpu.name,onChange:this.props.updateModelCreator}),r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:je.memory.label,name:je.memory.name,onChange:this.props.updateModelCreator}),r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:je.storage.label,name:je.storage.name,onChange:this.props.updateModelCreator}),r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:je.comments.label,name:je.comments.name,onChange:this.props.updateModelCreator}),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.props.createModel},"Create"))))}}]),t}(r.a.Component),Ae=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(ke.a,{style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"#AAAAAA"},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.props.showImportModal,onClose:this.props.closeImportModal},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("input",{type:"file",accept:".csv",onChange:this.props.chooseFile}),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.props.uploadFile},"Upload")),r.a.createElement("p",{style:{color:"white"}},this.props.textDescription)))}}]),t}(r.a.Component),Ue=a(470),De=a(474),Le=a(473),Te=a(469),Ve=a(471),Re=a(472),Pe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"showDetailedView",value:function(e){this.props.showDetailedView(e.target.id)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Te.a,{component:ye.a},r.a.createElement(Ue.a,{style:{minWidth:650},"aria-label":"simple table"},r.a.createElement(Ve.a,null,r.a.createElement(Re.a,null,this.props.columns.map((function(e){return r.a.createElement(Le.a,null,r.a.createElement("span",{id:e},e))})))),r.a.createElement(De.a,null,this.props.vals.map((function(t,a){return r.a.createElement(Re.a,null,e.props.keys.map((function(n){return r.a.createElement(Le.a,{scope:"row"},r.a.createElement("span",{id:a,onClick:e.showDetailedView.bind(e)},t[n]))})))}))))))}}]),t}(r.a.Component),Be="There was an error in the backend. Could not perform the given model operation at this time.",We=["Vendor","Model Number","Height"],He="models/",Fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).createModel=function(){v.a.post(x(He,N.create),{vendor:a.state.createdModel[j.Vendor],model_number:a.state.createdModel[j.model_number],height:a.state.createdModel[j.Height],display_color:a.state.createdModel[j.display_color],ethernet_ports:a.state.createdModel[j.ethernet_ports],power_ports:a.state.createdModel[j.power_ports],cpu:a.state.createdModel[j.CPU],memory:a.state.createdModel[j.Memory],storage:a.state.createdModel[j.Storage],comment:a.state.createdModel[j.Comment]}).then((function(e){"success"===e.data.message?(a.setState({showStatus:!0,statusMessage:"Successfully created model",statusSeverity:"success",createdModel:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},showCreateModal:!1}),a.getVendorList(),a.searchModels()):a.setState({createStatusOpen:!0,createStatusMessage:e.data.message,createStatusSeverity:"error"})})).catch(a.setState({createStatusOpen:!0,createStatusMessage:Be,createStatusSeverity:"error"}))},a.editModel=function(){v.a.post(x(He,N.edit),{vendorOriginal:a.state.originalVendor,model_numberOriginal:a.state.originalModelNumber,heightOriginal:a.state.originalHeight,vendor:a.state.detailedValues[j.Vendor],model_number:a.state.detailedValues[j.model_number],height:a.state.detailedValues[j.Height],display_color:a.state.detailedValues[j.display_color],ethernet_ports:a.state.detailedValues[j.ethernet_ports],power_ports:a.state.detailedValues[j.power_ports],cpu:a.state.detailedValues[j.CPU],memory:a.state.detailedValues[j.Memory],storage:a.state.detailedValues[j.Storage],comment:a.state.detailedValues[j.Comment]}).then((function(e){"success"===e.data.message?(a.setState({showStatus:!0,statusSeverity:"success",statusMessage:"Successfully edited model",originalVendor:"",originalModelNumber:"",originalHeight:"",detailedValues:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},showDetailedView:!1}),a.getVendorList(),a.searchModels()):a.setState({detailStatusOpen:!0,detailStatusMessage:e.data.message,detailStatusSeverity:"error"})})).catch(a.setState({detailStatusOpen:!0,detailStatusMessage:Be,detailStatusSeverity:"error"}))},a.deleteModel=function(){v.a.post(x(He,N.delete),{vendor:a.state.originalVendor,model_number:a.state.originalModelNumber}).then((function(e){"success"===e.data.message?(a.setState({showStatus:!0,statusSeverity:"success",statusMessage:"Successfully deleted model",detailedValues:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},showDetailedView:!1}),a.getVendorList(),a.searchModels()):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})})).catch(a.setState({showStatus:!0,statusMessage:Be,statusSeverity:"error"}))},a.detailViewModel=function(e,t){v.a.post(x(He,N.detailView),{vendor:e,model_number:t}).then((function(e){a.setState({detailedValues:e.data.models[0],detailViewLoading:!1})})).catch((function(e){console.log(e),this.setState({showStatus:!0,statusMessage:Be,statusSeverity:"error"})})),a.setState({viewVendor:"",viewModel:""})},a.searchModels=function(){v.a.post(x(He,N.search),{filter:{vendor:a.state.searchVendor,model_number:a.state.searchModelNum,height:a.state.searchHeight}}).then((function(e){var t=void 0===e.data.models?[]:e.data.models;console.log(t),a.setState({items:t})})),a.setState({searchText:""})},a.getVendorList=function(){v.a.get(x(He,N.VENDOR_VALUES),{}).then((function(e){return a.setState({vendorsList:e.data.results})})),a.setState({madeVendorQuery:!0})},a.sendUploadedFile=function(e){v.a.post(x(He,N.UPLOAD_FILE),e).then((function(e){"success"===e.data.message?(a.setState({showStatus:!0,statusMessage:e.data.summary,statusSeverity:"success",showImportModal:!1}),a.searchModels()):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})}))},a.downloadTable=function(){v.a.post(x(He,N.EXPORT_FILE),{filter:{vendor:a.state.searchVendor,model_number:a.state.searchModelNum,height:a.state.searchHeight}}).then((function(e){a.setState({csvData:e.data.csvData}),a.csvLink.link.click()}))},a.search=function(e){a.setState({searchVendor:e.vendor,searchModelNum:e.model_number,searchHeight:e.height},a.searchModels)},a.openCreateModal=function(){a.setState({showCreateModal:!0})},a.openImportModal=function(){a.setState({showImportModal:!0})},a.showDetailedView=function(e){a.setState({showDetailedView:!0,detailViewLoading:!0,originalHeight:a.state.items[e].height,originalModelNumber:a.state.items[e].model_number,originalVendor:a.state.items[e].vendor});var t=a.state.items[e].vendor,n=a.state.items[e].model_number;a.detailViewModel(t,n)},a.closeCreateModal=function(){a.setState({showCreateModal:!1})},a.closeImportModal=function(){a.setState({showImportModal:!1})},a.closeDetailedView=function(){a.setState({showDetailedView:!1})},a.updateModelCreator=function(e){a.state.createdModel[e.target.name]=e.target.value,a.forceUpdate()},a.updateModelColor=function(e){console.log("updating color to "+e),a.state.createdModel.display_color=e,a.forceUpdate()},a.updateModelColorDetails=function(e){console.log("updating color to "+e),a.state.detailedValues.display_color=e,a.forceUpdate()},a.updateModelEdited=function(e){a.state.detailedValues[e.target.name]=e.target.value,a.forceUpdate()},a.updateSearchText=function(e){a.setState({searchText:e.target.value})},a.closeShowStatus=function(e,t){"clickaway"!==t&&a.setState({showStatus:!1})},a.createStatusClose=function(e,t){"clickaway"!==t&&a.setState({createStatusOpen:!1})},a.detailStatusClose=function(e,t){"clickaway"!==t&&a.setState({detailStatusOpen:!1})},a.uploadFile=function(){var e=new FormData;e.append("file",a.state.importedFile),a.sendUploadedFile(e)},a.chooseFile=function(e){a.setState({importedFile:e.target.files[0]})},a.state={showCreateModal:!1,showImportModal:!1,items:[],createdModel:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},createdVendor:"",createdModelNum:"",createdHeight:"",createdDispClr:"",createdEthPorts:"",createdPwrPorts:"",createdCPU:"",createdMem:"",createdStorage:"",createdComments:"",deleteVendor:"",deleteModel:"",viewVendor:"",viewModel:"",searchText:"",searchVendor:"",searchModelNum:"",searchHeight:"",csvData:"",importedFile:null,showDetailedView:!1,detailViewLoading:!1,detailedValues:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},originalVendor:"",originalModelNumber:"",originalHeight:"",statusOpen:!1,statusSeverity:"",statusMessage:"",detailStatusOpen:!1,detailStatusSeverity:"",detailStatusMessage:"",createStatusOpen:!1,createStatusSeverity:"",createStatusMessage:"",vendorsList:[],madeVendorQuery:!1},v.a.defaults.headers.common.token=a.props.token,v.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.searchModels(),this.getVendorList()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(g.a,{container:!0,spacing:5,direction:"row",justify:"flex-start",alignItems:"center",style:{margin:"0px",maxWidth:"95vw"}},r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(P.a,{variant:"h4"},"Models")),r.a.createElement(g.a,{item:!0,xs:12,sm:6,md:4,lg:3},this.props.privilege==n.ADMIN?r.a.createElement("div",null,r.a.createElement(Ie,{statusOpen:this.state.createStatusOpen,statusSeverity:this.state.createStatusSeverity,statusClose:this.createStatusClose,statusMessage:this.state.createStatusMessage,showCreateModal:this.state.showCreateModal,closeCreateModal:this.closeCreateModal,createModel:this.createModel,updateModelCreator:this.updateModelCreator,options:this.state.vendorsList,useAutocomplete:!0,updateModelColor:this.updateModelColor})):null),r.a.createElement(g.a,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(de,{updateSearchText:this.updateSearchText,search:this.search,filters:We})),r.a.createElement(g.a,{item:!0,xs:12,sm:6,md:4,lg:3},this.props.privilege===n.ADMIN?r.a.createElement("div",null,r.a.createElement(oe,{openCreateModal:this.openCreateModal,openImportModal:this.openImportModal,downloadTable:this.downloadTable}),r.a.createElement(ae.CSVLink,{data:this.state.csvData,filename:"models.csv",className:"hidden",ref:function(t){return e.csvLink=t},target:"_blank"}),r.a.createElement(Ae,{showImportModal:this.state.showImportModal,closeImportModal:this.closeImportModal,uploadFile:this.uploadFile,chooseFile:this.chooseFile,textDescription:"The following format should be used for each row: vendor,model_number,height,display_color,ethernet_ports,power_ports,cpu,memory,storage,comment"})):null),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(Pe,{columns:We,vals:this.state.items,keys:We,showDetailedView:this.showDetailedView,filters:We})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(Ce,{statusOpen:this.state.detailStatusOpen,statusSeverity:this.state.detailStatusSeverity,statusClose:this.detailStatusClose,statusMessage:this.state.detailStatusMessage,showDetailedView:this.state.showDetailedView,closeDetailedView:this.closeDetailedView,updateModelEdited:this.updateModelEdited,defaultValues:this.state.detailedValues,loading:this.state.detailViewLoading,edit:this.editModel,delete:this.deleteModel,disabled:this.props.privilege===n.USER,options:this.state.vendorsList,useAutocomplete:!0,updateModelColorDetails:this.updateModelColorDetails}))))}}]),t}(r.a.Component);!function(e){e.create="create/",e.delete="delete/",e.edit="edit/",e.view="view/",e.detailView="detailView/",e.search="search/"}(xe||(xe={})),function(e){e.Username="username",e.Password="password",e.Email="email",e.display_name="display_name",e.Privilege="privilege"}(Ne||(Ne={}));var Ge,Ke=a(420),qe=a(422),ze=a(415),Je=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={filters:{}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"updateSearchText",value:function(e){this.state.filters.hasOwnProperty(e.target.id),this.state.filters[e.target.id]=e.target.value,this.forceUpdate()}},{key:"search",value:function(){this.props.search(this.state.filters)}},{key:"render",value:function(){return r.a.createElement(pe.a,null,r.a.createElement(he.a,{expandIcon:r.a.createElement(fe.a,null)},r.a.createElement(P.a,null,"Filter")),r.a.createElement(ge.a,null,r.a.createElement(g.a,{container:!0,spacing:1,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(f.a,{id:"username",inputProps:{"aria-label":"search"},variant:"outlined",label:"Username",placeholder:"Username",name:"username",onChange:this.updateSearchText.bind(this)})),r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:"Display Name",name:"display_name",onChange:this.props.updateModelCreator})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:"Email",name:"email",onChange:this.props.updateModelCreator,style:{width:"100%"}})),r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(ze.a,{style:{minWidth:"200px"}},r.a.createElement(qe.a,{id:"privilege-select"},"Privilege"),r.a.createElement(Ke.a,{id:"privilege-select",onChange:this.props.updateModelCreator},r.a.createElement(Q.a,{value:"admin"},"Administrator"),r.a.createElement(Q.a,{value:"user"},"User")))),r.a.createElement(g.a,{container:!0,item:!0,direction:"column",justify:"center",alignItems:"center",xs:12},r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.search.bind(this),style:{width:"100%",marginTop:"20px"}},"Search")))))}}]),t}(r.a.Component),Xe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={showConfirmationBox:!1},a.closeModal=a.closeModal.bind(Object(m.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(m.a)(a)),a.deleteItem=a.deleteItem.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"confirmDelete",value:function(){this.setState({showConfirmationBox:!0})}},{key:"closeModal",value:function(){this.setState({showConfirmationBox:!1})}},{key:"deleteItem",value:function(){this.setState({showConfirmationBox:!1}),this.props.delete()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.showDetailedView?r.a.createElement(pe.a,null,r.a.createElement(he.a,{expandIcon:r.a.createElement(fe.a,null)},r.a.createElement(P.a,null,"Create")),r.a.createElement(ge.a,null,r.a.createElement(T,{open:this.props.statusOpen,severity:this.props.statusSeverity,closeStatus:this.props.statusClose,message:this.props.statusMessage}),this.props.loading?r.a.createElement(me.a,null):r.a.createElement("div",null,this.props.inputs.map((function(t){return r.a.createElement(f.a,{name:t,disabled:e.props.disabled,id:"standard-basic",label:t,onChange:e.props.updateModelEdited,defaultValue:e.props.defaultValues[t]})})),this.props.disabled?null:r.a.createElement("div",null,r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.props.edit,disabled:this.state.showConfirmationBox},"Save"),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.confirmDelete,disabled:this.state.showConfirmationBox},"Delete")),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.props.closeDetailedView,disabled:this.state.showConfirmationBox},"Close"),this.state.showConfirmationBox?r.a.createElement("div",null,"Are you sure you wish to delete?",r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.deleteItem},"Yes"),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.closeModal},"No")):null))):null)}}]),t}(r.a.Component),Ye=(a(406),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(pe.a,null,r.a.createElement(he.a,{expandIcon:r.a.createElement(fe.a,null)},r.a.createElement(P.a,null,"Create User")),r.a.createElement(ge.a,null,r.a.createElement(g.a,{container:!0,spacing:1,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:"Username",name:"username",onChange:this.props.updateModelCreator})),r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:"Display Name",name:"display_name",onChange:this.props.updateModelCreator})),r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:"Password",name:"password",type:"password",onChange:this.props.updateModelCreator})),r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:"Email",name:"email",type:"email",onChange:this.props.updateModelCreator})),r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(ze.a,{style:{minWidth:"200px"},gutterbottom:"true"},r.a.createElement(qe.a,{id:"privilege-select"},"Privilege"),r.a.createElement(Ke.a,{id:"privilege-select",onChange:this.props.updateModelCreator},r.a.createElement(Q.a,{value:"admin"},"Administrator"),r.a.createElement(Q.a,{value:"user"},"User")))),r.a.createElement(g.a,{container:!0,item:!0,direction:"column",justify:"center",alignItems:"center",xs:12},r.a.createElement(E.a,{variant:"contained",onClick:this.props.createModel,style:{width:"100%",marginTop:"20px",backgroundColor:"green",color:"white"}},"Create")))))}}]),t}(r.a.Component)),Qe="There was an error in the backend. Could not perform the given user operation at this time.",Ze=["username","email","display_name","privilege","password"],$e=["Username","Email","Display Name","Privilege"],et="users/",tt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).createUser=function(){v.a.post(x(et,xe.create),{username:a.state.createdUser[Ne.Username],password:a.state.createdUser[Ne.Password],display_name:a.state.createdUser[Ne.display_name],email:a.state.createdUser[Ne.Email],privilege:a.state.createdUser[Ne.Privilege]}).then((function(e){"success"===e.data.message?(a.setState({createStatusOpen:!0,createStatusMessage:"Successfully created user",createStatusSeverity:"success",createdUser:{username:"",password:"",display_name:"",email:"",privilege:""},showCreateModal:!1}),a.searchUsers()):a.setState({createStatusOpen:!0,createStatusMessage:e.data.message,createStatusSeverity:"error"})})).catch(a.setState({createStatusOpen:!0,createStatusMessage:Qe,createStatusSeverity:"error"}))},a.editUser=function(){v.a.post(x(et,xe.edit),{username_original:a.state.originalUsername,username:a.state.detailedValues[Ne.Username],display_name:a.state.detailedValues[Ne.display_name],email:a.state.detailedValues[Ne.Email],privilege:a.state.detailedValues[Ne.Privilege]}).then((function(e){"success"===e.data.message?(a.setState({detailStatusOpen:!0,detailStatusMessage:"Successfully edited user",detailStatusSeverity:"success",originalUsername:"",detailedValues:{username:"",display_name:"",email:"",privilege:""},showDetailedView:!1}),a.searchUsers()):a.setState({detailStatusOpen:!0,detailStatusMessage:e.data.message,detailStatusSeverity:"error"})})).catch(a.setState({detailStatusOpen:!0,detailStatusMessage:Qe,detailStatusSeverity:"error"}))},a.deleteUser=function(){v.a.post(x(et,xe.delete),{username:a.state.originalUsername}).then((function(e){"success"===e.data.message?(a.setState({statusOpen:!0,statusMessage:"Successfully deleted user",statusSeverity:"success",deleteUsername:"",showDetailedView:!1}),a.searchUsers()):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})})).catch(a.setState({showStatus:!0,statusMessage:Qe,statusSeverity:"error"}))},a.detailViewUser=function(e){v.a.post(x(et,xe.detailView),{username:e}).then((function(e){return a.setState({detailedValues:e.data.user,detailViewLoading:!1})})).catch(a.setState({showStatus:!0,statusMessage:Qe,statusSeverity:"error"})),a.setState({viewUser:""})},a.searchUsers=function(){v.a.post(x(et,xe.search),{filter:{username:a.state.searchUsernm,email:a.state.searchEml,display_name:a.state.searchDspNm,privilege:a.state.searchPriv}}).then((function(e){return a.setState({items:null===e.data.users?[]:e.data.users})})),a.setState({initialized:!0})},a.search=function(e){a.setState({searchUsernm:e.username,searchEml:e.email,searchDspNm:e.display_name,searchPriv:e.privilege},a.searchUsers)},a.downloadTable=function(){a.csvLink.link.click()},a.openCreateModal=function(){a.setState({showCreateModal:!0})},a.openImportModal=function(){a.setState({showImportModal:!0})},a.showDetailedView=function(e){a.setState({showDetailedView:!0,detailViewLoading:!0,originalUsername:a.state.items[e].username});var t=a.state.items[e].username;a.detailViewUser(t)},a.closeCreateModal=function(){a.setState({showCreateModal:!1})},a.closeImportModal=function(){a.setState({showImportModal:!1})},a.closeDetailedView=function(){a.setState({showDetailedView:!1})},a.updateUserCreator=function(e){var t=a.state.createdUser;t[e.target.name]=e.target.value,a.setState({createdUser:t}),a.forceUpdate()},a.updateUserEdited=function(e){var t=a.state.detailedValues;t[e.target.name]=e.target.value,a.setState({detailedValues:t}),a.forceUpdate()},a.closeShowStatus=function(){a.setState({showStatus:!1})},a.createStatusClose=function(){a.setState({createStatusOpen:!1})},a.detailStatusClose=function(){a.setState({detailStatusOpen:!1})},a.state={showCreateModal:!1,showImportModal:!1,items:[],createdUser:{username:"",password:"",display_name:"",email:"",privilege:""},statusOpen:!1,statusSeverity:"",statusMessage:"",detailStatusOpen:!1,detailStatusSeverity:"",detailStatusMessage:"",createStatusOpen:!1,createStatusSeverity:"",createStatusMessage:"",searchUsernm:"",searchEml:"",searchDspNm:"",searchPriv:"",deleteUsername:"",viewUser:"",csvData:[],showDetailedView:!1,detailViewLoading:!1,detailedValues:{username:"",display_name:"",email:"",privilege:""},originalUsername:"",initialized:!1},v.a.defaults.headers.common.token=a.props.token,v.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.searchUsers()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),r.a.createElement(g.a,{container:!0,spacing:5,direction:"row",justify:"flex-start",alignItems:"center",style:{margin:"0px",maxWidth:"95vw"}},r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(P.a,{variant:"h4"},"Users")),r.a.createElement(g.a,{item:!0,xs:12,sm:6,md:4,lg:3},this.props.privilege===n.ADMIN?r.a.createElement("div",null,r.a.createElement(Ye,{showCreateModal:this.state.showCreateModal,closeCreateModal:this.closeCreateModal,createModel:this.createUser,updateModelCreator:this.updateUserCreator,inputs:Ze,options:[],useAutocomplete:!1})):null),r.a.createElement(g.a,{item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(Je,{updateSearchText:this.updateSearchText,search:this.search,filters:$e})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(Pe,{columns:$e,vals:this.state.items,keys:$e,showDetailedView:this.showDetailedView,filters:$e})),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(Xe,{showDetailedView:this.state.showDetailedView,closeDetailedView:this.closeDetailedView,inputs:$e,updateModelEdited:this.updateUserEdited,defaultValues:this.state.detailedValues,loading:this.state.detailViewLoading,edit:this.editUser,delete:this.deleteUser,disabled:this.props.privilege===n.USER}))))}}]),t}(r.a.Component);!function(e){e.create="create/",e.delete="delete/",e.edit="edit/",e.view="view/",e.detailView="detailView/",e.search="search/",e.GET_ALL_MODELS="assistedmodel/",e.GET_ALL_OWNERS="assistedowner/",e.GET_ALL_DATACENTERS="assisteddatacenter/",e.GET_ALL_HOSTNAME="assistedhostname/",e.UPLOAD_FILE="import/",e.EXPORT_FILE="export/",e.GET_NEXT_ASSET_NUM="nextAssetNumber/"}(Ge||(Ge={}));var at,nt="instances/",st="success",rt="error",it=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).sendUploadedFile=function(e){v.a.post(x(nt,Ge.UPLOAD_FILE),e).then((function(e){e.data.message===st?a.setState({showStatus:!0,statusMessage:e.data.summary,statusSeverity:st,showImport:!1}):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:rt})}))},a.downloadTable=function(){v.a.post(x(nt,Ge.EXPORT_FILE),{filter:a.props.filters}).then((function(e){a.setState({csvData:e.data.csvData}),a.csvLink.link.click()}))},a.openImportModal=function(){a.setState({showImport:!0})},a.closeImportModal=function(){a.setState({showImport:!1})},a.uploadFile=function(){var e=new FormData;e.append("file",a.state.importedFile),a.sendUploadedFile(e),a.setState({showImport:!1})},a.chooseFile=function(e){a.setState({importedFile:e.target.files[0]})},a.state={csvData:"",importedFile:null,showImport:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("span",null,r.a.createElement(g.a,{container:!0,spacing:3},r.a.createElement(g.a,{item:!0,xs:2},r.a.createElement(E.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(se.a,null),onClick:function(){e.openImportModal()}},"Import")),r.a.createElement(g.a,{item:!0,xs:2},r.a.createElement(E.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(ie.a,null),onClick:function(){e.downloadTable()}},"Export"))),r.a.createElement(ae.CSVLink,{data:this.state.csvData,filename:"assets.csv",className:"hidden",ref:function(t){return e.csvLink=t},target:"_blank"}),r.a.createElement(ke.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:this.state.showImport,onClose:this.closeImportModal,closeAfterTransition:!0,BackdropComponent:Me.a,BackdropProps:{timeout:500}},r.a.createElement(Oe.a,{in:this.state.showImport},r.a.createElement("div",{className:t.paper},r.a.createElement("input",{type:"file",accept:".csv",onChange:this.chooseFile}),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(){e.uploadFile()},className:t.button},"Upload"),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(){e.uploadFile()}},"Cancel")))))}}]),t}(r.a.Component),ot=Object(ee.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},button:{margin:e.spacing(2,4,3)}}}))(it),lt=a(475),ct=a(489);function ut(e,t,a,n){return{label:t,name:e,showTooltip:a,description:n}}!function(e){e.MODEL="model",e.HOSTNAME="hostname",e.RACK="rack",e.RACK_U="rack_position",e.RACK_ORIGINAL="rackOriginal",e.RACK_U_ORIGINAL="rack_positionOriginal",e.OWNER="owner",e.COMMENT="comment",e.DATACENTER="datacenter_id",e.TAGS="tags",e.MAC_ADDRESS="mac_address",e.NETWORK_CONNECTIONS="network_connections",e.POWER_CONNECTIONS="power_connections",e.ASSET_NUMBER="asset_number"}(at||(at={}));var dt={filters:{}},mt="search/",pt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getModelList=function(){v.a.get(x(y,mt),dt).then((function(e){var t=e.data.results,n=[],s={},r={};t.map((function(e){var t=e.vendor+" "+e.model_number;n.push(t),s[t]=e.ethernet_ports,r[t]=parseInt(e.power_ports)})),a.setState({loadingModels:!1,modelList:n,networkList:s,powerPortList:r})}))},a.getOwnerList=function(){v.a.get(x(k,mt),dt).then((function(e){a.setState({loadingOwners:!1,ownerList:e.data.results})}))},a.getDatacenterList=function(){v.a.get(x(M,"all/")).then((function(e){return a.setState({loadingDatacenters:!1,datacenterList:e.data.results})}))},a.getNextAssetNum=function(){v.a.get(x(C,Ge.GET_NEXT_ASSET_NUM)).then((function(e){return a.setState({loadingAssetNumber:!1,asset_number:e.data.asset_number})}))},a.getAssetList=function(){v.a.get(x(C,mt),dt).then((function(e){var t=e.data.results,n=[],s={};t.map((function(e){n.push(e.asset_number),s[e.asset_number]=e.model})),a.setState({loadingHostnames:!1,assetNumList:n,assetNumToModelList:s})}))},a.createAsset=function(){v.a.post(x(nt,Ge.create),a.createJSON()).then((function(e){e.data.message===st?a.setState({statusOpen:!0,statusMessage:"Successfully created asset",statusSeverity:st,showModal:!1,model:"",hostname:"",rack:"",rackU:-1,owner:"",comment:"",datacenter_id:"",tags:[],network_connections:[],power_connections:[],asset_number:-1},a.props.search()):a.setState({statusOpen:!0,statusMessage:e.data.message,statusSeverity:rt})}))},a.updateModel=function(e,t){a.setState({model:t})},a.updateHostname=function(e,t){a.setState({hostname:t})},a.updateRack=function(e,t){a.setState({rack:t})},a.updateRackU=function(e,t){a.setState({rackU:t})},a.updateOwner=function(e,t){a.setState({owner:t})},a.updateComment=function(e,t){a.setState({comment:t})},a.updateDatacenter=function(e,t){a.setState({datacenter_id:t})},a.updateTags=function(e,t){a.setState({tags:t})},a.updateNetworkMac=function(e,t){a.setState((function(t){var a=Object.assign({},t.port);return a.mac_address=e.target.value,{port:a}}))},a.updateNetworkPort=function(e,t){a.setState((function(t){var a=Object.assign({},t.port);return a.connection_port=e.target.value,{port:a}}))},a.updateNetworkHostname=function(e,t){a.setState((function(t){var a=Object.assign({},t.port);return a.connection_hostname=e.target.value,{port:a}}))},a.updatePowerConnections=function(e,t){a.setState({power_connections:t})},a.updateAssetNumber=function(e,t){a.setState({asset_number:t})},a.createJSON=function(){return{model:a.state.model,hostname:a.state.hostname,rack:a.state.rack,rackU:a.state.rackU,owner:a.state.owner,comment:a.state.comment,datacenter_id:a.state.datacenter_id,tags:a.state.tags,network_connections:a.state.network_connections,power_connections:a.state.power_connections,asset_number:a.state.asset_number}},a.showModal=function(){a.setState({showModal:!0})},a.closeModal=function(){a.setState({showModal:!1})},a.state={loadingAssetNumber:!0,loadingModels:!0,modelList:[],networkList:null,powerPortList:null,loadingOwners:!0,ownerList:[],loadingDatacenters:!0,datacenterList:[],loadingHostnames:!0,assetNumList:[],assetNumToModelList:null,model:"",hostname:"",rack:"",rackU:-1,owner:"",comment:"",datacenter_id:"",tags:[],network_connections:null,power_connections:[],asset_number:1,selectedConnection:null,statusOpen:!1,statusMessage:"",statusSeverity:"",showModal:!1,inputs:{model:ut(at.MODEL,"Model",!1,"A reference to an existing model"),hostname:ut(at.HOSTNAME,"Hostname",!1,"A short string compliant with RFC 1034\u2019s definition of 'label'"),rack:ut(at.RACK,"Rack",!1,"The rack the equipment is installed in, written as a row letter and rack number, e.g. 'B12'"),rackU:ut(at.RACK_U,"Rack U",!1,"An integer indicating the vertical location of the bottom of the equipment (e.g. '5')"),owner:ut(at.OWNER,"Owner",!1,"A reference to an existing user on the system who owns this equipment"),comment:ut(at.COMMENT,"Comment",!1,"Any additional information associated with this asset"),datacenter:ut(at.DATACENTER,"Datacenter",!1,"A reference to an existing datacenter"),macAddress:ut(at.MAC_ADDRESS,"Mac Address",!1,"A 6-byte hexadecimal string per network port shown canonically in lower case with colon delimiters (e.g., '00:1e:c9:ac:78:aa')"),networkConnections:ut(at.NETWORK_CONNECTIONS,"Port Name",!1,"For each network port, a reference to another network port on another piece of gear"),powerConnections:ut(at.POWER_CONNECTIONS,"Power Connections",!1,"Choice of PDU port number (0 means not plugged in)"),assetNum:ut(at.ASSET_NUMBER,"Asset Number",!1,"A six-digit serial number unique associated with an asset.")}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getModelList(),this.getOwnerList(),this.getDatacenterList(),this.getNextAssetNum(),this.getAssetList()}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("span",null,r.a.createElement(T,{open:this.statusOpen,severity:this.statusSeverity,closeStatus:this.statusClose,message:this.statusMessage}),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(){e.showModal()}},"Create Asset"),r.a.createElement(ke.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:this.state.showModal,onClose:this.closeModal,closeAfterTransition:!0,BackdropComponent:Me.a,BackdropProps:{timeout:500}},r.a.createElement(Oe.a,{in:this.state.showModal},r.a.createElement("div",{className:t.paper},(this.state.loadingAssetNumber||this.state.loadingDatacenters||this.state.loadingModels||this.state.loadingHostnames||this.state.loadingOwners,r.a.createElement("form",null,r.a.createElement(g.a,{container:!0,spacing:3},r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.model.Tooltip,title:this.state.inputs.model.description},r.a.createElement(be.a,{id:"select-model",options:this.state.modelList,includeInputInList:!0,renderInput:function(t){return r.a.createElement(f.a,Object.assign({},t,{label:e.state.inputs.model.label,name:e.state.inputs.model.name,onBlur:function(){return e.updateModel},variant:"outlined",fullWidth:!0,required:!0}))}}))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.owner.Tooltip,title:this.state.inputs.owner.description},r.a.createElement(be.a,{id:"select-owner",options:this.state.ownerList,includeInputInList:!0,renderInput:function(t){return r.a.createElement(f.a,Object.assign({},t,{label:e.state.inputs.owner.label,name:e.state.inputs.owner.name,onBlur:function(){return e.updateOwner},variant:"outlined",fullWidth:!0,required:!0}))}}))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.datacenter.Tooltip,title:this.state.inputs.datacenter.description},r.a.createElement(be.a,{id:"input-datacenter",options:this.state.datacenterList,includeInputInList:!0,renderInput:function(t){return r.a.createElement(f.a,Object.assign({},t,{label:e.state.inputs.datacenter.label,name:e.state.inputs.datacenter.name,onChange:e.updateDatacenter,onBlur:e.updateDatacenter,required:!0,variant:"outlined",fullWidth:!0}))}}))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.rack.Tooltip,title:this.state.inputs.rack.description},r.a.createElement(f.a,{id:"input-rack",variant:"outlined",label:this.state.inputs.rack.label,name:this.state.inputs.rack.name,onChange:function(){return e.updateRack},required:!0,fullWidth:!0}))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.rackU.Tooltip,title:this.state.inputs.rackU.description},r.a.createElement(f.a,{id:"input-rackU",variant:"outlined",type:"number",InputProps:{inputProps:{min:1,max:42}},label:this.state.inputs.rackU.label,name:this.state.inputs.rackU.name,onChange:this.updateRackU,required:!0,fullWidth:!0}))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.assetNum.Tooltip,title:this.state.inputs.assetNum.description},r.a.createElement(f.a,{id:"input-asset-number",variant:"outlined",type:"number",InputProps:{inputProps:{min:1e5,max:999999}},label:this.state.inputs.assetNum.label,name:this.state.inputs.assetNum.name,onChange:this.updateAssetNumber,value:this.state.nextAssetNum,required:!0,fullWidth:!0}))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.hostname.Tooltip,title:this.state.inputs.hostname.description},r.a.createElement(f.a,{id:"input-hostname",variant:"outlined",label:this.state.inputs.hostname.label,name:this.state.inputs.hostname.name,onChange:this.updateHostname,fullWidth:!0}))),r.a.createElement(g.a,{item:!0,xs:12},this.state.networkList&&this.state.networkList[this.state.model]&&""!==this.state.hostname?this.state.networkList[this.state.model].map((function(t){return r.a.createElement(g.a,{container:!0,spacing:3},r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(P.a,null,t+": ")),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(f.a,{id:"input-mac-address",variant:"outlined",label:e.state.inputs.macAddress.label,name:e.state.inputs.macAddress.name,onChange:function(){return e.updateNetworkMac(t)},fullWidth:!0})),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(be.a,{id:"input-network-ports",options:e.state.assetNumList,includeInputInList:!0,renderInput:function(a){return r.a.createElement(f.a,Object.assign({},a,{label:"Connection Hostname",name:"Connection Hostname",onBlur:function(){return e.updateNetworkHostname(t)},variant:"outlined",fullWidth:!0}))}})),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:e.state.inputs.networkConnections.Tooltip,title:e.state.inputs.networkConnections.description},r.a.createElement(be.a,{id:"input-network-ports",options:e.state.networkList[e.state.assetNumToModel[e.state.selectedConnection[t]]],includeInputInList:!0,renderInput:function(a){return r.a.createElement(f.a,Object.assign({},a,{label:"Connection Port",name:"Connection Port",onBlur:function(){return e.updateNetworkPort(t)},variant:"outlined",fullWidth:!0}))}}))))})):null),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(g.a,{container:!0,spacing:3},this.state.powerPortList&&this.state.powerPortList[this.state.model]?Array.from({length:this.state.powerPortList[this.state.model]},(function(t,a){return r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:e.state.inputs.networkConnections.Tooltip,title:e.state.inputs.networkConnections.description},r.a.createElement(f.a,{id:"starting-num-selector",type:"number",value:1,InputProps:{inputProps:{min:0,max:24}}}),r.a.createElement(ct.a,{checked:!0,value:"checkedB",color:"primary",inputProps:{"aria-label":"primary checkbox"}})))})):null)),r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.comment.Tooltip,title:this.state.inputs.comment.description},r.a.createElement(f.a,{id:"input-comment",variant:"outlined",label:this.state.inputs.comment.label,name:this.state.inputs.comment.name,onChange:this.updateComment,multiline:!0,fullWidth:!0}))),r.a.createElement(g.a,{item:!0,xs:6}),r.a.createElement(g.a,{item:!0,xs:1},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",onClick:function(){return e.createAsset()}},"Create")),r.a.createElement(g.a,{item:!0,xs:9},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",onClick:function(){return e.cancelCreation()}},"Cancel")))))))))}}]),t}(r.a.Component),ht=Object(ee.a)((function(e){return{root:{flexGrow:1},modal:{display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"80%",margin:"0 auto"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},progress:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}}))(pt),gt=a(417);function Et(e,t,a,n){return{label:t,name:e,showTooltip:a,description:n}}var ft=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getNextAssetNum=function(){v.a.get(x(nt,Ge.GET_NEXT_ASSET_NUM)).then((function(e){return a.setState({loadingAssetNumber:!1,asset_number:e.asset_number})}))},a.getModelList=function(){v.a.get(x(nt,Ge.GET_ALL_MODELS)).then((function(e){return a.setState({loadingModels:!1,modelList:e.data.results})}))},a.getOwnerList=function(){v.a.get(x(nt,Ge.GET_ALL_OWNERS)).then((function(e){return a.setState({loadingOwners:!1,ownerList:e.data.results})}))},a.getDatacenterList=function(){v.a.get(x(nt,Ge.GET_ALL_DATACENTERS)).then((function(e){return a.setState({loadingDatacenters:!1,datacenterList:e.data.results})}))},a.getHostnameList=function(){v.a.get(x(nt,Ge.GET_ALL_HOSTNAME)).then((function(e){return a.setState({loadingHostnames:!1,hostnameList:e.data.results})}))},a.updateModel=function(e,t){a.setState({model:t})},a.updateHostname=function(e,t){a.setState({hostname:t})},a.updateRack=function(e,t){a.setState({rack:t})},a.updateRackU=function(e,t){a.setState({rackU:t})},a.updateOwner=function(e,t){a.setState({owner:t})},a.updateComment=function(e,t){a.setState({comment:t})},a.updateDatacenter=function(e,t){a.setState({datacenter_id:t})},a.updateTags=function(e,t){a.setState({tags:t})},a.updateNetworkConnections=function(e,t){a.setState({network_connections:t})},a.updatePowerConnections=function(e,t){a.setState({power_connections:t})},a.updateAssetNumber=function(e,t){a.setState({asset_number:t})},a.createJSON=function(){return{model:a.state.model,hostname:a.state.hostname,rack:a.state.rack,rackU:a.state.rackU,owner:a.state.owner,comment:a.state.comment,datacenter_id:a.state.datacenter_id,tags:a.state.tags,network_connections:a.state.network_connections,power_connections:a.state.power_connections,asset_number:a.state.asset_number}},a.createAsset=function(){v.a.post(x(nt,Ge.create),a.createJSON()).then((function(e){e.data.message===st?a.setState({statusOpen:!0,statusMessage:"Successfully created asset",statusSeverity:st,showModal:!1,model:"",hostname:"",rack:"",rackU:-1,owner:"",comment:"",datacenter_id:"",tags:[],network_connections:[],power_connections:[],asset_number:-1},a.props.search()):a.setState({statusOpen:!0,statusMessage:e.data.message,statusSeverity:rt})}))},a.showModal=function(){a.setState({showModal:!0})},a.closeModal=function(){a.setState({showModal:!1})},a.state={loadingAssetNumber:!0,loadingModels:!0,modelList:[],loadingOwners:!0,ownerList:[],loadingDatacenters:!0,datacenterList:[],loadingHostnames:!0,hostnameList:[],model:"",hostname:"",rack:"",rackU:-1,owner:"",comment:"",datacenter_id:"",tags:[],network_connections:[],power_connections:[],asset_number:1,statusOpen:!1,statusMessage:"",statusSeverity:"",showModal:!1,inputs:{model:Et(at.MODEL,"Model",!1,"A reference to an existing model"),hostname:Et(at.HOSTNAME,"Hostname",!1,"A short string compliant with RFC 1034\u2019s definition of 'label'"),rack:Et(at.RACK,"Rack",!1,"The rack the equipment is installed in, written as a row letter and rack number, e.g. 'B12'"),rackU:Et(at.RACK_U,"Rack U",!1,"An integer indicating the vertical location of the bottom of the equipment (e.g. '5')"),owner:Et(at.OWNER,"Owner",!1,"A reference to an existing user on the system who owns this equipment"),comment:Et(at.COMMENT,"Comment",!1,"Any additional information associated with this asset"),datacenter:Et(at.DATACENTER,"Datacenter",!1,"A reference to an existing datacenter"),macAddress:Et(at.MAC_ADDRESS,"Mac Address",!1,"A 6-byte hexadecimal string per network port shown canonically in lower case with colon delimiters (e.g., '00:1e:c9:ac:78:aa')"),networkConnections:Et(at.NETWORK_CONNECTIONS,"Port Name",!1,"For each network port, a reference to another network port on another piece of gear"),powerConnections:Et(at.POWER_CONNECTIONS,"Power Connections",!1,"Choice of PDU port number (0 means not plugged in)"),assetNum:Et(at.ASSET_NUMBER,"Asset Number",!1,"A six-digit serial number unique associated with an asset.")}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getNextAssetNum(),this.getModelList(),this.getOwnerList()}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("span",null,r.a.createElement(T,{open:this.statusOpen,severity:this.statusSeverity,closeStatus:this.statusClose,message:this.statusMessage}),r.a.createElement(ke.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:this.props.open,onClose:this.props.close,closeAfterTransition:!0,BackdropComponent:Me.a,BackdropProps:{timeout:500}},r.a.createElement(Oe.a,{in:this.props.open},r.a.createElement("div",{className:t.paper},r.a.createElement("form",null,r.a.createElement(g.a,{container:!0,spacing:3},r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.model.Tooltip,title:this.state.inputs.model.description},r.a.createElement(be.a,{id:"select-model",options:this.state.modelList,includeInputInList:!0,renderInput:function(t){return r.a.createElement(f.a,Object.assign({},t,{label:e.state.inputs.model.label,name:e.state.inputs.model.name,onChange:e.updateModel,onBlur:e.updateModel,variant:"outlined",fullWidth:!0,required:!0}))}}))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.owner.Tooltip,title:this.state.inputs.owner.description},r.a.createElement(be.a,{id:"select-owner",options:this.state.ownerList,includeInputInList:!0,renderInput:function(t){return r.a.createElement(f.a,Object.assign({},t,{label:e.state.inputs.owner.label,name:e.state.inputs.owner.name,onChange:e.updateOwner,onBlur:e.updateOwner,variant:"outlined",fullWidth:!0,required:!0}))}}))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.datacenter.Tooltip,title:this.state.inputs.datacenter.description},r.a.createElement(be.a,{id:"input-datacenter",options:this.state.datacenterList,includeInputInList:!0,renderInput:function(t){return r.a.createElement(f.a,Object.assign({},t,{label:e.state.inputs.datacenter.label,name:e.state.inputs.datacenter.name,onChange:e.updateDatacenter,onBlur:e.updateDatacenter,required:!0,variant:"outlined",fullWidth:!0}))}}))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.rack.Tooltip,title:this.state.inputs.rack.description},r.a.createElement(f.a,{id:"input-rack",variant:"outlined",label:this.state.inputs.rack.label,name:this.state.inputs.rack.name,onChange:this.updateRack,required:!0,fullWidth:!0}))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.rackU.Tooltip,title:this.state.inputs.rackU.description},r.a.createElement(f.a,{id:"input-rackU",variant:"outlined",label:this.state.inputs.rackU.label,name:this.state.inputs.rackU.name,onChange:this.updateRackU,required:!0,fullWidth:!0}))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.assetNum.Tooltip,title:this.state.inputs.assetNum.description},r.a.createElement(f.a,{id:"input-asset-number",variant:"outlined",label:this.state.inputs.assetNum.label,name:this.state.inputs.assetNum.name,onChange:this.updateAssetNumber,value:this.state.nextAssetNum,required:!0,fullWidth:!0}))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.hostname.Tooltip,title:this.state.inputs.hostname.description},r.a.createElement(f.a,{id:"input-hostname",variant:"outlined",label:this.state.inputs.hostname.label,name:this.state.inputs.hostname.name,onChange:this.updateHostname,fullWidth:!0}))),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(g.a,{container:!0,spacing:3},r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.networkConnections.Tooltip,title:this.state.inputs.networkConnections.description},r.a.createElement(f.a,{id:"input-network-ports",variant:"outlined",label:"Network Port Name",name:"Network Port Name",onChange:this.props.updateAssetCreator,fullWidth:!0}))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.macAddress.Tooltip,title:this.state.inputs.macAddress.description},r.a.createElement(f.a,{id:"input-mac-address",variant:"outlined",label:this.state.inputs.macAddress.label,name:this.state.inputs.macAddress.name,onChange:this.props.updateAssetCreator,fullWidth:!0}))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.networkConnections.Tooltip,title:this.state.inputs.networkConnections.description},r.a.createElement(f.a,{id:"input-network-ports",variant:"outlined",label:"Connection Hostname",name:"Connection Hostname",onChange:this.props.updateAssetCreator,fullWidth:!0}))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.networkConnections.Tooltip,title:this.state.inputs.networkConnections.description},r.a.createElement(f.a,{id:"input-network-ports",variant:"outlined",label:"Connection Port",name:"Connection Port",onChange:this.props.updateAssetCreator,fullWidth:!0}))))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.networkConnections.Tooltip,title:this.state.inputs.networkConnections.description},r.a.createElement(ze.a,null,r.a.createElement(f.a,{id:"starting-num-selector",type:"number",value:1,InputProps:{inputProps:{min:0}}}),r.a.createElement(gt.a,null,"Left Power Port")))),r.a.createElement(g.a,{item:!0,xs:9},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.macAddress.Tooltip,title:this.state.inputs.macAddress.description},r.a.createElement(ze.a,null,r.a.createElement(f.a,{id:"starting-num-selector",type:"number",value:1,InputProps:{inputProps:{min:0}}}),r.a.createElement(gt.a,null,"Right Power Port")))),r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(lt.a,{placement:"top",open:this.state.inputs.comment.Tooltip,title:this.state.inputs.comment.description},r.a.createElement(f.a,{id:"input-comment",variant:"outlined",label:this.state.inputs.comment.label,name:this.state.inputs.comment.name,onChange:this.updateComment,multiline:!0,fullWidth:!0}))),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",onClick:function(){return e.createAsset()}},"Create"))))))))}}]),t}(r.a.Component),bt=Object(ee.a)((function(e){return{root:{flexGrow:1},modal:{display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"80%",margin:"0 auto"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(ft),vt=a(10);var wt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).updateModel=function(e,t){a.setState({model:t})},a.updateHostname=function(e,t){a.setState({hostname:t})},a.updateRack=function(e,t){a.setState({rack:t})},a.updateRackU=function(e,t){a.setState({rackU:t})},a.updateOwner=function(e,t){a.setState({owner:t})},a.updateComment=function(e,t){a.setState({comment:t})},a.updateDatacenter=function(e,t){a.setState({datacenter_id:t})},a.updateTags=function(e,t){a.setState({tags:t})},a.updateNetworkConnections=function(e,t){a.setState({network_connections:t})},a.updatePowerConnections=function(e,t){a.setState({power_connections:t})},a.updateAssetNumber=function(e,t){a.setState({asset_number:t})},a.search=function(){var e,t,n,s,r,i,o,l,c,u,d;v.a.post(x(nt,Ge.search),{filter:{model:e,hostname:t,rack:n,rackU:s,owner:r,comment:i,datacenter_id:o,tags:l,network_connections:c,power_connections:u,asset_number:d}}).then((function(e){a.props.updateSearchItems(e.data.assets)}))},a.state={model:"",hostname:"",rack:"",rackU:-1,owner:"",comment:"",datacenter_id:"",tags:[],network_connections:"",power_connections:"",asset_number:-1,startingRackNumber:1,endingRackNumber:1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.search()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{container:!0,spacing:3},r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(ze.a,null,r.a.createElement("div",null,r.a.createElement(f.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement(gt.a,null,"Filter by Datacenter"))),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(ze.a,null,r.a.createElement("div",null,r.a.createElement(f.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement(gt.a,null,"Filter by model"))),r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(ze.a,null,r.a.createElement("div",null,r.a.createElement(f.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement(gt.a,null,"Filter by hostname"))),r.a.createElement(g.a,{item:!0,xs:1},r.a.createElement(ze.a,null,r.a.createElement(Ke.a,{id:"starting-letter-selector",value:this.state.startingRackLetter,onChange:this.changeStartingLetter,defaultValue:S[0]},S.map((function(e){return r.a.createElement(Q.a,{value:e},e)}))),r.a.createElement(gt.a,null,"Starting Letter"))),r.a.createElement(g.a,{item:!0,xs:1},r.a.createElement(ze.a,null,r.a.createElement(Ke.a,{id:"ending-letter-selector",value:this.state.endingRackLetter,onChange:this.changeEndingLetter,defaultValue:S[0]},S.map((function(e){return r.a.createElement(Q.a,{value:e},e)}))),r.a.createElement(gt.a,null,"Ending Letter"))),r.a.createElement(g.a,{item:!0,xs:1},r.a.createElement(ze.a,null,r.a.createElement(f.a,{id:"starting-num-selector",type:"number",value:this.state.startingRackNumber,onChange:this.changeStartingNum,InputProps:{inputProps:{min:1}}}),r.a.createElement(gt.a,null,"Starting Number"))),r.a.createElement(g.a,{item:!0,xs:1},r.a.createElement(ze.a,null,r.a.createElement(f.a,{id:"ending-num-selector",type:"number",value:this.state.endingRackNumber,onChange:this.changeEndingNum,InputProps:{inputProps:{min:1}}}),r.a.createElement(gt.a,null,"Ending Number")))))}}]),t}(r.a.Component),St=Object(ee.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(h.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(h.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(vt.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(vt.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"left",justifyContent:"left"},inputRoot:{color:"inherit"},inputInput:Object(h.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(h.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(h.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}))(wt);function Ct(e,t,a,n,s,r,i){return{model:e,hostname:t,datacenter:a,rack:n,rackU:s,owner:r,assetNum:i}}var yt,kt=[Ct("Frozen yoghurt",159,6,24,4),Ct("Ice cream sandwich",237,9,37,4.3),Ct("Eclair",262,16,24,6),Ct("Cupcake",305,3.7,67,4.3),Ct("Gingerbread",356,16,49,3.9)],Mt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).editAsset=function(){var e=a.state.detailedValues.getAssetAsJSON();e[at.RACK_ORIGINAL]=a.state.originalRack,e[at.RACK_U_ORIGINAL]=a.state.originalrack_position,v.a.post(x(nt,Ge.edit),e).then((function(e){e.data.message===st?a.setState({showStatus:!0,statusMessage:"Successfully edited asset",statusSeverity:st,detailedValues:null,showDetailedView:!1}):a.setState({detailStatusOpen:!0,detailStatusMessage:e.data.message,detailStatusSeverity:rt})}))},a.deleteAsset=function(){var e={};e[at.RACK]=a.state.originalRack,e[at.RACK_U]=a.state.originalrack_position,v.a.post(x(nt,Ge.delete),e).then((function(e){e.data.message===st?a.setState({showStatus:!0,statusMessage:"Successfully deleted asset",statusSeverity:st,originalRack:"",originalrack_position:"",showDetailedView:!1}):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:rt})}))},a.getAssetDetails=function(e,t){a.setState({detailViewLoading:!0});var n={};n[at.RACK]=e,n[at.RACK_U]=t,v.a.post(x(nt,Ge.detailView),n).then((function(e){return a.setState({detailedValues:e.data.assets[0],detailViewLoading:!1})}))},a.closeDetailedView=function(){a.setState({showDetailedView:!1})},a.closeShowStatus=function(){a.setState({showStatus:!1})},a.state={tableItems:[],detailStatusOpen:!1,detailStatusSeverity:"",detailStatusMessage:"",deleteAssetRack:"",deleteAssetrack_position:"",showDetailedView:!1,detailViewLoading:!1,originalRack:"",originalrack_position:"",order:"asc",orderBy:"model"},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{container:!0,spacing:3},r.a.createElement(g.a,{item:!0,xs:6},r.a.createElement(St,null)),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(Te.a,{component:ye.a},r.a.createElement(Ue.a,{className:t.table,"aria-label":"customized table"},r.a.createElement(Ve.a,null,r.a.createElement(Re.a,{className:t.styledTableRow},r.a.createElement(Le.a,{className:t.tableCellHead},"Model"),r.a.createElement(Le.a,{align:"right",className:t.tableCellHead},"Hostname"),r.a.createElement(Le.a,{align:"right",className:t.tableCellHead},"Datacenter"),r.a.createElement(Le.a,{align:"right",className:t.tableCellHead},"Rack"),r.a.createElement(Le.a,{align:"right",className:t.tableCellHead},"Rack U"),r.a.createElement(Le.a,{align:"right",className:t.tableCellHead},"Owner"),r.a.createElement(Le.a,{align:"right",className:t.tableCellHead},"Asset Number"),r.a.createElement(Le.a,{align:"right",className:t.tableCellHead}))),r.a.createElement(De.a,null,kt.map((function(t){return r.a.createElement(Re.a,{key:t.name},r.a.createElement(Le.a,{component:"th",scope:"row"},t.model),r.a.createElement(Le.a,{align:"right"},t.hostname),r.a.createElement(Le.a,{align:"right"},t.datacenter),r.a.createElement(Le.a,{align:"right"},t.rack),r.a.createElement(Le.a,{align:"right"},t.rackU),r.a.createElement(Le.a,{align:"right"},t.owner),r.a.createElement(Le.a,{align:"right"},t.assetNum),r.a.createElement(Le.a,{align:"center"},r.a.createElement(E.a,{color:"primary",variant:"contained",onClick:function(){return e.setState({showDetailedView:!0})}},"More Details")))}))))))),r.a.createElement(bt,{open:this.state.showDetailedView,close:this.closeDetailedView,search:this.props.search}))}}]),t}(r.a.Component),Ot=Object(ee.a)((function(e){return{styledTableRow:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},tableCellHead:{backgroundColor:e.palette.primary.main,color:e.palette.common.white},styledTableCell:{fontSize:14},table:{minWidth:700},paper:{width:"100%",marginBottom:e.spacing(2)}}}))(Mt),_t=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={hasError:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return"An unforseen error occurred. Please refresh the page and try again later."}}]),t}(r.a.Component),xt=(a(407),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={statusSeverity:"",statusMessage:"",showStatus:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_t,null,r.a.createElement(T,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),r.a.createElement(g.a,{container:!0,spacing:3},r.a.createElement(g.a,{item:!0,xs:3},this.props.privilege===n.ADMIN?r.a.createElement(ht,{search:this.search}):null),r.a.createElement(g.a,{item:!0,xs:6},this.props.privilege===n.ADMIN?r.a.createElement(ot,{downloadTable:this.downloadTable}):null),r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(Ot,null)))))}}]),t}(r.a.Component)),Nt=a(488),jt=a(476);!function(e){e.GET_ALL_RACKS="all",e.CREATE_RACKS="create",e.DELETE_RACKS="delete",e.GET_RACK_DETAILS="details"}(yt||(yt={}));a(408);var It,At="racks/",Ut=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleFormat=function(e,t){console.log(t),t.length&&a.setState({formats:t})},a.getAllRacks=function(){v.a.get(x(At,yt.GET_ALL_RACKS)).then((function(e){"success"===e.data.message?a.setState({showStatus:!0,statusMessage:"Success",statusSeverity:"success",racksList:e.data.racks}):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})}))},a.createRacks=function(){a.updateRacks(yt.CREATE_RACKS)},a.deleteRacks=function(){a.updateRacks(yt.DELETE_RACKS)},a.viewRacks=function(){a.updateRacks(yt.GET_RACK_DETAILS)},a.changeStartingRack=function(e){a.setState({firstRack:e.target.value})},a.changeEndingRack=function(e){a.setState({secondRack:e.target.value})},a.closeShowStatus=function(){a.setState({showStatus:!1})},a.changeRackType=function(e){a.setState({rackType:e})},a.state={items:[],firstRack:"A1",secondRack:"A1",showStatus:!1,statusMessage:"",statusSeverity:"info",showConfirmationBox:!1,racksList:[],formats:["single"]},v.a.defaults.headers.common.token=a.props.token,v.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getAllRacks()}},{key:"updateRacks",value:function(e){var t=this;v.a.post(x(At,e),{startRack:this.state.firstRack,endRack:this.state.secondRack}).then((function(a){if(console.log(a),"success"===a.data.message){if(t.setState({showStatus:!0,statusMessage:"Success",statusSeverity:"success",showConfirmationBox:!1}),e===yt.GET_RACK_DETAILS){var n=window.open(a.data.link,"_blank");null!=n&&n.focus()}}else t.setState({showStatus:!0,statusMessage:a.data.message,statusSeverity:"error"})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(_t,null,r.a.createElement(ye.a,{elevation:3},r.a.createElement(T,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),r.a.createElement(g.a,{container:!0,spacing:1,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(Nt.a,{value:this.state.formats,onChange:this.handleFormat,"aria-label":"rackType",exclusive:!0},r.a.createElement(jt.a,{value:"single","aria-label":"single"},"Single"),r.a.createElement(jt.a,{value:"range","aria-label":"range"},"Range")),r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:"Username",name:"username",onChange:this.props.updateModelCreator})),r.a.createElement(g.a,{item:!0,xs:3},r.a.createElement(f.a,{id:"standard-basic",variant:"outlined",label:"Username",name:"username",onChange:this.props.updateModelCreator}))),r.a.createElement(ze.a,null,r.a.createElement("div",{class:"select-letter"},r.a.createElement(Ke.a,{id:"starting-letter-selector",value:this.state.startingRackLetter,onChange:this.changeStartingLetter},S.map((function(e){return r.a.createElement(Q.a,{value:e},e)}))),r.a.createElement(gt.a,null,"Starting Letter"))),r.a.createElement(ze.a,null,r.a.createElement("div",{class:"select-letter"},r.a.createElement(Ke.a,{id:"ending-letter-selector",value:this.state.endingRackLetter,onChange:this.changeEndingLetter},S.map((function(e){return r.a.createElement(Q.a,{value:e},e)}))),r.a.createElement(gt.a,null,"Ending Letter"))),r.a.createElement(ze.a,null,r.a.createElement("div",{class:"select-number"},r.a.createElement(f.a,{id:"starting-num-selector",type:"number",value:this.state.startingRackNumber,onChange:this.changeStartingNum,InputProps:{inputProps:{min:1}}}),r.a.createElement(gt.a,null,"Starting Number"))),r.a.createElement(ze.a,null,r.a.createElement("div",{class:"select-number"},r.a.createElement(f.a,{id:"ending-num-selector",type:"number",value:this.state.endingRackNumber,onChange:this.changeEndingNum,InputProps:{inputProps:{min:1}}}),r.a.createElement(gt.a,null,"Ending Number"))),r.a.createElement("div",{class:"buttons"},r.a.createElement("span",{class:"button"},r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.viewRacks,disabled:this.state.showConfirmationBox},"View")),r.a.createElement("span",{class:"button"},this.props.privilege===n.ADMIN?r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.createRacks,disabled:this.state.showConfirmationBox},"Create"):null),r.a.createElement("span",{class:"button"},this.props.privilege===n.ADMIN?r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(){return e.setState({showConfirmationBox:!0})},disabled:this.state.showConfirmationBox},"Delete"):null)),this.state.showConfirmationBox?r.a.createElement("div",null,"Are you sure you wish to delete?",r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.deleteRacks},"Yes"),r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(){return e.setState({showConfirmationBox:!1})}},"No")):null)))}}]),t}(r.a.Component);function Dt(e){var t={};try{t=JSON.parse(e)}catch(n){t=e}if(0===Object.entries(t).length&&t.constructor===Object)return[];var a=[];return Object.keys(t).map((function(e){var n=[];return n.push(e),n.push(t[e]),a.push(n),e})),a}!function(e){e.GENERATE_REPORT="generate-report",e.TEST="test"}(It||(It={}));var Lt={totalUsage:"Total Usage",spaceUsage:"Space Usage",vendorUsage:"Vendor Usage",modelUsage:"Model Usage",ownerUsage:"Owner Usage"},Tt={totalUsage:["Total","Usage"],spaceUsage:["Rack","Usage"],vendorUsage:["Vendor","Usage"],modelUsage:["Model","Usage"],ownerUsage:["Ownder","Usage"]},Vt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={tableValues:{totalUsage:[],spaceUsage:[],vendorUsage:[],modelUsage:[],ownerUsage:[]},totalUsage:[],spaceUsage:[],vendorUsage:[],modelUsage:[],ownerUsage:[],showStatus:!1,statusMessage:"",statusSeverity:""},a.closeShowStatus=a.closeShowStatus.bind(Object(m.a)(a)),a.generateReport=a.generateReport.bind(Object(m.a)(a)),v.a.defaults.headers.common.token=a.props.token,v.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"generateReport",value:function(){var e=this;v.a.get(x("stats/",It.GENERATE_REPORT)).then((function(t){try{var a=t.data,n=[],s=["Total Usage"];s.push(a.totalUsage),n.push(s);var r=Dt(a.spaceUsage);0===r.length&&r.push(["No space is currently being used",[]]);var i=Dt(a.vendorUsage);0===i.length&&i.push(["No vendors currently using space",[]]);var o=Dt(a.modelUsage);0===o.length&&o.push(["No models currently using space",[]]);var l=Dt(a.ownerUsage);0===l.length&&l.push(["No owners currently using space",[]]),e.setState({showStatus:!0,statusSeverity:"success",statusMessage:"Success",tableValues:{totalUsage:n,spaceUsage:r,vendorUsage:i,modelUsage:o,ownerUsage:l}})}catch(c){e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}}))}},{key:"closeShowStatus",value:function(){this.setState({showStatus:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(_t,null,r.a.createElement(T,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),r.a.createElement("div",null,r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.generateReport},"Generate New Report")),Object.keys(Lt).map((function(t){return r.a.createElement(pe.a,null,r.a.createElement(he.a,{expandIcon:r.a.createElement(fe.a,null)},r.a.createElement(P.a,null,Lt[t])),r.a.createElement(ge.a,null,r.a.createElement(Te.a,{component:ye.a},r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,null,r.a.createElement(Re.a,null,Tt[t].map((function(e){return r.a.createElement(Le.a,null,r.a.createElement("span",{id:e},e))})))),r.a.createElement(De.a,null,e.state.tableValues[t].map((function(e){return r.a.createElement(Re.a,null,e.map((function(e){return r.a.createElement(Le.a,null,r.a.createElement("span",{id:e},e+(isNaN(e)?"":"%")))})))})))))))}))))}}]),t}(r.a.Component),Rt=(a(409),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleProfileMenuOpen=function(e){a.setState({anchorEl:e.currentTarget,isMenuOpen:!0})},a.handleMenuClose=function(){a.setState({anchorEl:null,isMenuOpen:!1})},a.state={currentTabID:0,anchorEl:null,isMenuOpen:!1},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e,t){this.setState({currentTabID:t})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(_t,null,r.a.createElement(q.a,{position:"static"},r.a.createElement(J.a,null,r.a.createElement(P.a,{variant:"h6",className:e.title},"Hyposoft Server Management"),r.a.createElement("div",null,r.a.createElement(I.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:this.handleProfileMenuOpen},r.a.createElement($.a,null)),r.a.createElement(Y.a,{anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:this.state.isMenuOpen,onClose:this.handleMenuClose},r.a.createElement(Q.a,null,"Username: "+this.props.username),r.a.createElement(Q.a,null,"Privilege: "+this.props.privilege),r.a.createElement(Q.a,{onClick:this.props.logout},"LOGOUT"))))),r.a.createElement(z.a,{value:this.state.currentTabID,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(X.a,{value:0,style:{flexGrow:1},label:"Models"}," "),r.a.createElement(X.a,{value:1,style:{flexGrow:1},label:"Assets"}),this.props.privilege===n.ADMIN?r.a.createElement(X.a,{value:2,style:{flexGrow:1},label:"Users"}):null,r.a.createElement(X.a,{value:3,style:{flexGrow:1},label:"Racks"}),r.a.createElement(X.a,{value:4,style:{flexGrow:1},label:"Statistics"})),r.a.createElement(P.a,{component:"div",role:"tabpanel",hidden:0!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},r.a.createElement(te.a,{className:e.tab},r.a.createElement(Fe,{token:this.props.token,privilege:this.props.privilege}))),r.a.createElement(P.a,{component:"div",role:"tabpanel",hidden:1!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},r.a.createElement(te.a,{className:e.tab},r.a.createElement(xt,{token:this.props.token,privilege:this.props.privilege}))),r.a.createElement(P.a,{component:"div",role:"tabpanel",hidden:2!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},r.a.createElement(te.a,{className:e.tab},r.a.createElement(tt,{token:this.props.token,privilege:this.props.privilege}))),r.a.createElement(P.a,{component:"div",role:"tabpanel",hidden:3!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},r.a.createElement(te.a,{className:e.tab},r.a.createElement(Ut,{token:this.props.token,privilege:this.props.privilege}))),r.a.createElement(P.a,{component:"div",role:"tabpanel",hidden:4!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},r.a.createElement(te.a,{className:e.tab},r.a.createElement(Vt,{token:this.props.token,privilege:this.props.privilege})))))}}]),t}(r.a.Component)),Pt=Object(ee.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},tab:{flexGrow:"flex",alignItems:"center",justifyContent:"center",maxWidth:"100%",width:"100%",margin:"0 auto"}}}))(Rt),Bt="token",Wt="privilege",Ht="loggedIn",Ft="username",Gt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={token:sessionStorage.getItem(Bt)||"",privilege:sessionStorage.getItem(Wt)||"",loggedIn:sessionStorage.getItem(Ht)||"",username:sessionStorage.getItem(Ft)||""},a.login=a.login.bind(Object(m.a)(a)),a.logout=a.logout.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"login",value:function(e,t,a){sessionStorage.setItem(Bt,e),sessionStorage.setItem(Wt,a),sessionStorage.setItem(Ht,!0),sessionStorage.setItem(Ft,t),v.a.defaults.headers.common.token=this.props.token,v.a.defaults.headers.common.privilege=this.props.privilege,this.setState({token:e,privilege:a,loggedIn:!0,username:t})}},{key:"logout",value:function(){v.a.get(x("users/","logout")),this.setState({token:"",privilege:"",loggedIn:!1,username:""}),sessionStorage.removeItem(Bt),sessionStorage.removeItem(Wt),sessionStorage.removeItem(Ht),sessionStorage.removeItem(Ft),window.location.reload()}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.loggedIn?r.a.createElement(Pt,{token:this.state.token,username:this.state.username,privilege:this.state.privilege,logout:this.logout}):r.a.createElement(K,{loginFunc:this.login,shib:this.props.redirected}))}}]),t}(r.a.Component);o.a.render(r.a.createElement(Gt,{redirected:document.referrer}),document.getElementById("root"))}},[[211,1,2]]]);
//# sourceMappingURL=main.f190193f.chunk.js.map
