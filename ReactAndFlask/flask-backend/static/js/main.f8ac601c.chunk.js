(this.webpackJsonpreactfrontend=this.webpackJsonpreactfrontend||[]).push([[0],{208:function(e,t,a){e.exports=a(407)},213:function(e,t,a){},402:function(e,t,a){},403:function(e,t,a){},404:function(e,t,a){},405:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){"use strict";a.r(t);var s,n=a(0),i=a.n(n),r=a(17),o=a.n(r),l=(a(213),a(8)),c=a(6),u=a(9),d=a(10),p=a(18),m=a(11),h=a(13),g=a(452),v=a(457),E=a(456),f=a(12),w=a.n(f),b="http://localhost:4010/",S=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","W","X","Y","Z"],C="ParselTonguesUserAuth",y="https://oauth.oit.duke.edu/oauth/authorize.php?client_id="+encodeURIComponent(C)+"&client_secret="+encodeURIComponent("LpUwB*eiK4Iw#1gaCu5jYp1u5uRF3ERsdmuNUGoKYNzn7rHm7b")+"&redirect_uri="+encodeURIComponent("http://localhost:3000/")+"&response_type=token&state=1129&scope="+encodeURIComponent("basic");function k(e,t){return b+e+t}!function(e){e.ADMIN="admin",e.USER="user"}(s||(s={}));var M,O,A=a(409),_=a(181),V=a.n(_),U=a(474),j=a(472),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(U.a,{open:this.props.open,autoHideDuration:12e3,onClose:this.props.closeStatus},i.a.createElement(j.a,{elevation:6,variant:"filled",severity:this.props.severity},i.a.createElement("div",null,this.props.message,i.a.createElement(A.a,{"aria-label":"close",color:"inherit",size:"small",onClick:this.props.closeStatus},i.a.createElement(V.a,{fontSize:"inherit"}))))))}}]),t}(i.a.Component),D=a(453),N=a(454),x=a(455),R=a(94),T=a.n(R),L=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={username:"",password:"",statusMessage:"",showStatus:!1,statusSeverity:"info"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this;return i.a.createElement(g.a,{container:!0,spacing:5,direction:"column",justify:"flex-start",alignItems:"center",onKeyDown:function(e){return t.onKeyPressed(e)},style:(e={minHeight:"102vh",background:"#56ab2f"},Object(h.a)(e,"background","-webkit-linear-gradient(to top, #a8e063, #56ab2f)"),Object(h.a)(e,"background","linear-gradient(to top, #a8e063, #56ab2f)"),e)},i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement("img",{src:T.a,style:{height:"200px",marginTop:"50px"}})),i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(D.a,{style:{minWidth:"20vw"}},i.a.createElement(N.a,null,i.a.createElement(g.a,{container:!0,spacing:1,direction:"column",justify:"center",alignItems:"center"},i.a.createElement(g.a,{container:!0,item:!0,alignItems:"flex-start",xs:12},i.a.createElement(x.a,{variant:"h6",color:"textPrimary",fontWeight:"fontWeightBold",gutterBottom:!0},"Please wait while we log you in...")))))),i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage})))}}]),t}(i.a.Component),P="users/",B=a(235),F=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getDukeCredentials=function(e){w.a.get("https://api.colab.duke.edu/identity/v1/",{headers:{"x-api-key":C,Authorization:"Bearer ".concat(e)}}).then((function(t){console.log(t),w.a.post(k(P,"oauth"),{username:t.data.netid,email:t.data.mail,display_name:t.data.displayName,client_id:C,token:e}).then((function(e){"success"==e.data.message?(a.setState({message:""}),a.props.loginFunc(e.data.token,a.state.username,e.data.privilege)):a.setState({showStatus:!0,statusMessage:e.data.message})}))}))},a.loginWithOAuth=function(){window.location=y},a.initialize=function(){console.log(a.props.shib);try{var e=B.parse(window.location.hash.substring(1));null!=e.access_token&&(a.getDukeCredentials(e.access_token),a.setState({oauth:!0})),console.log(e)}catch(t){console.log("tried:")}a.setState({initialized:!0})},a.state={username:"",password:"",statusMessage:"",showStatus:!1,statusSeverity:"info",initialized:!1,oauth:!1},a.closeShowStatus=a.closeShowStatus.bind(Object(p.a)(a)),a.submitCredentials=a.submitCredentials.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"submitCredentials",value:function(){var e=this;w.a.post(k(P,"authenticate"),{usernameKey:this.state.username,passwordKey:this.state.password}).then((function(t){"success"==t.data.message?(e.setState({message:""}),e.props.loginFunc(t.data.token,e.state.username,t.data.privilege)):e.setState({showStatus:!0,statusMessage:t.data.message})})),this.props.loginFunc("token","Administrator",s.ADMIN)}},{key:"updateUsername",value:function(e){this.setState({username:e.target.value})}},{key:"updatePassword",value:function(e){this.setState({password:e.target.value})}},{key:"closeShowStatus",value:function(){this.setState({showStatus:!1})}},{key:"onKeyPressed",value:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),this.submitCredentials())}},{key:"render",value:function(){var e,t=this;return this.state.initialized||this.initialize(),i.a.createElement("div",null,this.state.oauth?i.a.createElement(L,null):i.a.createElement(g.a,{container:!0,spacing:5,direction:"column",justify:"flex-start",alignItems:"center",onKeyDown:function(e){return t.onKeyPressed(e)},style:(e={minHeight:"102vh",background:"#56ab2f"},Object(h.a)(e,"background","-webkit-linear-gradient(to top, #a8e063, #56ab2f)"),Object(h.a)(e,"background","linear-gradient(to top, #a8e063, #56ab2f)"),e)},i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement("img",{src:T.a,style:{height:"200px",marginTop:"50px"}})),i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(D.a,{style:{minWidth:"20vw"}},i.a.createElement(N.a,null,i.a.createElement(g.a,{container:!0,spacing:1,direction:"column",justify:"center",alignItems:"center"},i.a.createElement(g.a,{container:!0,item:!0,alignItems:"flex-start",xs:12},i.a.createElement(x.a,{variant:"h4",color:"textPrimary",fontWeight:"fontWeightBold",gutterBottom:!0},"Login")),i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(E.a,{id:"username-input",label:"Username",variant:"outlined",required:!0,ref:"username",onChange:this.updateUsername.bind(this),style:{minWidth:"15vw"}})),i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(E.a,{id:"password-input",label:"Password",variant:"outlined",required:!0,ref:"password",type:"password",onChange:this.updatePassword.bind(this),style:{minWidth:"15vw"}})),i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(v.a,{onClick:this.submitCredentials,variant:"contained",color:"primary",style:{minWidth:"15vw"}},"Sign In")),i.a.createElement(g.a,{container:!0,item:!0,direciton:"row",justify:"center",alignItems:"center",xs:12},i.a.createElement("hr",{style:{width:"5vw"}}),i.a.createElement(x.a,{color:"textSecondary"},"Or"),i.a.createElement("hr",{style:{width:"5vw"}})),i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(v.a,{onClick:this.loginWithOAuth,variant:"contained",color:"primary"},"Sign In with NetID")))))),i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}))))}}]),t}(i.a.Component),K=a(468),W=a(470),H=a(469),G=a(184),q=a(476),z=a(183),Q=a.n(z),J=a(98);!function(e){e.create="create/",e.delete="delete/",e.edit="edit/",e.view="view/",e.detailView="detailView/",e.search="search/",e.VENDOR_VALUES="assistedvendor/",e.UPLOAD_FILE="import/",e.EXPORT_FILE="export/"}(M||(M={})),function(e){e.Vendor="vendor",e.model_number="model_number",e.Height="height",e.display_color="display_color",e.ethernet_ports="ethernet_ports",e.power_ports="power_ports",e.CPU="cpu",e.Memory="memory",e.Storage="storage",e.Comment="comment"}(O||(O={}));var Y=a(99),X=a.n(Y),Z=a(100),$=a.n(Z),ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(v.a,{variant:"contained",color:"primary",startIcon:i.a.createElement(X.a,null),onClick:this.props.openImportModal},"Import"),i.a.createElement(v.a,{variant:"contained",color:"primary",startIcon:i.a.createElement($.a,null),onClick:this.props.downloadTable},"Export"))}}]),t}(i.a.Component),te=a(75),ae=a.n(te),se=a(186),ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={filters:{}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"updateSearchText",value:function(e){this.state.filters.hasOwnProperty(e.target.id),this.state.filters[e.target.id]=e.target.value,this.forceUpdate()}},{key:"search",value:function(){this.props.search(this.state.filters)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.filters.map((function(t,a){return i.a.createElement("div",null,i.a.createElement(ae.a,null),i.a.createElement(se.a,{placeholder:t+" filter",inputProps:{"aria-label":"search"},onChange:e.updateSearchText.bind(e),id:t}))})),i.a.createElement("div",null,i.a.createElement(v.a,{onClick:this.search.bind(this)},"Search")),"Click the search button to populate table. Searching with empty filters searches over all values. Click on row values to see detailed view.")}}]),t}(i.a.Component),ie=a(460),re=a(475),oe=a(458),le=a(459),ce=a(23),ue=a.n(ce),de=a(471),pe=a(101);function me(e,t){return{label:t,name:e}}var he={vendor:me("vendor","Vendor"),modelNumber:me("model_number","Model Number"),height:me("height","Height"),displayColor:me("display_color","Display Color"),powerPorts:me("power_ports","Power Ports"),cpu:me("cpu","CPU"),memory:me("memory","Memory"),storage:me("storage","Storage"),comments:me("comments","Comments")},ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).updateColor=function(e){a.setState({color:e}),a.props.updateModelColorDetails(e.hex)},a.state={showConfirmationBox:!1,color:null},a.closeModal=a.closeModal.bind(Object(p.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(p.a)(a)),a.deleteItem=a.deleteItem.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"confirmDelete",value:function(){this.setState({showConfirmationBox:!0})}},{key:"closeModal",value:function(){this.setState({showConfirmationBox:!1})}},{key:"deleteItem",value:function(){this.setState({showConfirmationBox:!1}),this.props.delete()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.showDetailedView?i.a.createElement(re.a,null,i.a.createElement(oe.a,{expandIcon:i.a.createElement(ue.a,null)},i.a.createElement(x.a,null,"Model Details")),i.a.createElement(le.a,null,i.a.createElement(I,{open:this.props.statusOpen,severity:this.props.statusSeverity,closeStatus:this.props.statusClose,message:this.props.statusMessage,autoHideDuration:6e3}),this.props.loading?i.a.createElement(ie.a,null):i.a.createElement("div",null,i.a.createElement(de.a,{id:"select-vendor",options:this.props.options,includeInputInList:!0,freeSolo:!0,defaultValue:this.props.defaultValues[he.vendor.name],renderInput:function(t){return i.a.createElement(E.a,Object.assign({},t,{label:he.vendor.label,name:he.vendor.name,onChange:e.props.updateModelCreator,onBlur:e.props.updateModelCreator,variant:"outlined",fullWidth:!0,disabled:e.props.disabled}))}}),i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:he.modelNumber.label,name:he.modelNumber.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[he.modelNumber.name]}),i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:he.height.label,name:he.height.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[he.height.name]}),i.a.createElement(pe.CompactPicker,{color:this.state.color||this.props.defaultValues.display_color,onChange:this.updateColor}),i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:he.powerPorts.label,name:he.powerPorts.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[he.powerPorts.name]}),i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:he.cpu.label,name:he.cpu.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[he.cpu.name]}),i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:he.memory.label,name:he.memory.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[he.memory.name]}),i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:he.storage.label,name:he.storage.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[he.storage.name]}),i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:he.comments.label,name:he.comments.name,onChange:this.props.updateModelCreator,disabled:this.props.disabled,defaultValue:this.props.defaultValues[he.comments.name]}),this.props.disabled?null:i.a.createElement("div",null,i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.props.edit,disabled:this.state.showConfirmationBox},"Save"),i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.confirmDelete,disabled:this.state.showConfirmationBox},"Delete")),this.state.showConfirmationBox?i.a.createElement("div",null,"Are you sure you wish to delete?",i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.deleteItem},"Yes"),i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.closeModal},"No")):null))):null)}}]),t}(i.a.Component);a(402);function ve(e,t){return{label:t,name:e}}var Ee,fe,we={vendor:ve("vendor","Vendor"),modelNumber:ve("model_number","Model Number"),height:ve("height","Height"),displayColor:ve("display_color","Display Color"),powerPorts:ve("power_ports","Power Ports"),cpu:ve("cpu","CPU"),memory:ve("memory","Memory"),storage:ve("storage","Storage"),comments:ve("comments","Comments")},be=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).updateColor=function(e){console.log(e),a.setState({color:e}),a.props.updateModelColor(e.hex),console.log("state: "+a.state.color)},a.state={color:"#000"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(re.a,null,i.a.createElement(oe.a,{expandIcon:i.a.createElement(ue.a,null)},i.a.createElement(x.a,null,"Create Model")),i.a.createElement(le.a,null,i.a.createElement(I,{open:this.props.statusOpen,severity:this.props.statusSeverity,closeStatus:this.props.statusClose,message:this.props.statusMessage}),i.a.createElement("div",null,i.a.createElement(de.a,{id:"select-vendor",options:this.props.options,includeInputInList:!0,freeSolo:!0,renderInput:function(t){return i.a.createElement(E.a,Object.assign({},t,{label:we.vendor.label,name:we.vendor.name,onChange:e.props.updateModelCreator,onBlur:e.props.updateModelCreator,variant:"outlined",fullWidth:!0}))}}),i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:we.modelNumber.label,name:we.modelNumber.name,onChange:this.props.updateModelCreator}),i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:we.height.label,name:we.height.name,onChange:this.props.updateModelCreator}),i.a.createElement(pe.CompactPicker,{color:this.state.color,onChange:this.updateColor}),i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:we.powerPorts.label,name:we.powerPorts.name,onChange:this.props.updateModelCreator}),i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:we.cpu.label,name:we.cpu.name,onChange:this.props.updateModelCreator}),i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:we.memory.label,name:we.memory.name,onChange:this.props.updateModelCreator}),i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:we.storage.label,name:we.storage.name,onChange:this.props.updateModelCreator}),i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:we.comments.label,name:we.comments.name,onChange:this.props.updateModelCreator}),i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.props.createModel},"Create")))))}}]),t}(i.a.Component),Se=a(473),Ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(Se.a,{style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"#AAAAAA"},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.props.showImportModal,onClose:this.props.closeImportModal},i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("input",{type:"file",accept:".csv",onChange:this.props.chooseFile}),i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.props.uploadFile},"Upload")),i.a.createElement("p",{style:{color:"white"}},this.props.textDescription)))}}]),t}(i.a.Component),ye=a(462),ke=a(466),Me=a(465),Oe=a(461),Ae=a(463),_e=a(464),Ve=a(185),Ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"showDetailedView",value:function(e){this.props.showDetailedView(e.target.id)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(Oe.a,{component:Ve.a},i.a.createElement(ye.a,{className:{minWidth:650},"aria-label":"simple table"},i.a.createElement(Ae.a,null,i.a.createElement(_e.a,null,this.props.columns.map((function(e){return i.a.createElement(Me.a,null,i.a.createElement("span",{id:e},e))})))),i.a.createElement(ke.a,null,this.props.vals.map((function(t,a){return i.a.createElement(_e.a,null,e.props.keys.map((function(s){return i.a.createElement(Me.a,{scope:"row"},i.a.createElement("span",{id:a,onClick:e.showDetailedView.bind(e)},t[s]))})))}))))))}}]),t}(i.a.Component),je=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={hasError:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?i.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return"An unforseen error occurred. Please refresh the page and try again later."}}]),t}(i.a.Component),Ie="There was an error in the backend. Could not perform the given model operation at this time.",De=["vendor","model_number","height"],Ne="models/",xe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).createModel=function(){w.a.post(k(Ne,M.create),{vendor:a.state.createdModel[O.Vendor],model_number:a.state.createdModel[O.model_number],height:a.state.createdModel[O.Height],display_color:a.state.createdModel[O.display_color],ethernet_ports:a.state.createdModel[O.ethernet_ports],power_ports:a.state.createdModel[O.power_ports],cpu:a.state.createdModel[O.CPU],memory:a.state.createdModel[O.Memory],storage:a.state.createdModel[O.Storage],comment:a.state.createdModel[O.Comment]}).then((function(e){"success"===e.data.message?(a.setState({showStatus:!0,statusMessage:"Successfully created model",statusSeverity:"success",createdModel:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},showCreateModal:!1}),a.getVendorList(),a.searchModels()):a.setState({createStatusOpen:!0,createStatusMessage:e.data.message,createStatusSeverity:"error"})})).catch(a.setState({createStatusOpen:!0,createStatusMessage:Ie,createStatusSeverity:"error"}))},a.editModel=function(){w.a.post(k(Ne,M.edit),{vendorOriginal:a.state.originalVendor,model_numberOriginal:a.state.originalModelNumber,heightOriginal:a.state.originalHeight,vendor:a.state.detailedValues[O.Vendor],model_number:a.state.detailedValues[O.model_number],height:a.state.detailedValues[O.Height],display_color:a.state.detailedValues[O.display_color],ethernet_ports:a.state.detailedValues[O.ethernet_ports],power_ports:a.state.detailedValues[O.power_ports],cpu:a.state.detailedValues[O.CPU],memory:a.state.detailedValues[O.Memory],storage:a.state.detailedValues[O.Storage],comment:a.state.detailedValues[O.Comment]}).then((function(e){"success"===e.data.message?(a.setState({showStatus:!0,statusSeverity:"success",statusMessage:"Successfully edited model",originalVendor:"",originalModelNumber:"",originalHeight:"",detailedValues:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},showDetailedView:!1}),a.getVendorList(),a.searchModels()):a.setState({detailStatusOpen:!0,detailStatusMessage:e.data.message,detailStatusSeverity:"error"})})).catch(a.setState({detailStatusOpen:!0,detailStatusMessage:Ie,detailStatusSeverity:"error"}))},a.deleteModel=function(){w.a.post(k(Ne,M.delete),{vendor:a.state.originalVendor,model_number:a.state.originalModelNumber}).then((function(e){"success"===e.data.message?(a.setState({showStatus:!0,statusSeverity:"success",statusMessage:"Successfully deleted model",detailedValues:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},showDetailedView:!1}),a.getVendorList(),a.searchModels()):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})})).catch(a.setState({showStatus:!0,statusMessage:Ie,statusSeverity:"error"}))},a.detailViewModel=function(e,t){w.a.post(k(Ne,M.detailView),{vendor:e,model_number:t}).then((function(e){a.setState({detailedValues:e.data.models[0],detailViewLoading:!1})})).catch((function(e){console.log(e),this.setState({showStatus:!0,statusMessage:Ie,statusSeverity:"error"})})),a.setState({viewVendor:"",viewModel:""})},a.searchModels=function(){w.a.post(k(Ne,M.search),{filter:{vendor:a.state.searchVendor,model_number:a.state.searchModelNum,height:a.state.searchHeight}}).then((function(e){a.setState({items:e.data.models})})),a.setState({searchText:""})},a.getVendorList=function(){w.a.get(k(Ne,M.VENDOR_VALUES),{}).then((function(e){return a.setState({vendorsList:e.data.results})})),a.setState({madeVendorQuery:!0})},a.sendUploadedFile=function(e){w.a.post(k(Ne,M.UPLOAD_FILE),e).then((function(e){"success"===e.data.message?(a.setState({showStatus:!0,statusMessage:e.data.summary,statusSeverity:"success",showImportModal:!1}),a.searchModels()):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})}))},a.downloadTable=function(){w.a.post(k(Ne,M.EXPORT_FILE),{filter:{vendor:a.state.searchVendor,model_number:a.state.searchModelNum,height:a.state.searchHeight}}).then((function(e){a.setState({csvData:e.data.csvData}),a.csvLink.link.click()}))},a.search=function(e){a.setState({searchVendor:e.vendor,searchModelNum:e.model_number,searchHeight:e.height},a.searchModels)},a.openCreateModal=function(){a.setState({showCreateModal:!0})},a.openImportModal=function(){a.setState({showImportModal:!0})},a.showDetailedView=function(e){a.setState({showDetailedView:!0,detailViewLoading:!0,originalHeight:a.state.items[e].height,originalModelNumber:a.state.items[e].model_number,originalVendor:a.state.items[e].vendor});var t=a.state.items[e].vendor,s=a.state.items[e].model_number;a.detailViewModel(t,s)},a.closeCreateModal=function(){a.setState({showCreateModal:!1})},a.closeImportModal=function(){a.setState({showImportModal:!1})},a.closeDetailedView=function(){a.setState({showDetailedView:!1})},a.updateModelCreator=function(e){a.state.createdModel[e.target.name]=e.target.value,a.forceUpdate()},a.updateModelColor=function(e){console.log("updating color to "+e),a.state.createdModel.display_color=e,a.forceUpdate()},a.updateModelColorDetails=function(e){console.log("updating color to "+e),a.state.detailedValues.display_color=e,a.forceUpdate()},a.updateModelEdited=function(e){a.state.detailedValues[e.target.name]=e.target.value,a.forceUpdate()},a.updateSearchText=function(e){a.setState({searchText:e.target.value})},a.closeShowStatus=function(e,t){"clickaway"!==t&&a.setState({showStatus:!1})},a.createStatusClose=function(e,t){"clickaway"!==t&&a.setState({createStatusOpen:!1})},a.detailStatusClose=function(e,t){"clickaway"!==t&&a.setState({detailStatusOpen:!1})},a.uploadFile=function(){var e=new FormData;e.append("file",a.state.importedFile),a.sendUploadedFile(e)},a.chooseFile=function(e){a.setState({importedFile:e.target.files[0]})},a.state={showCreateModal:!1,showImportModal:!1,items:[],createdModel:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},createdVendor:"",createdModelNum:"",createdHeight:"",createdDispClr:"",createdEthPorts:"",createdPwrPorts:"",createdCPU:"",createdMem:"",createdStorage:"",createdComments:"",deleteVendor:"",deleteModel:"",viewVendor:"",viewModel:"",searchText:"",searchVendor:"",searchModelNum:"",searchHeight:"",csvData:"",importedFile:null,showDetailedView:!1,detailViewLoading:!1,detailedValues:{vendor:"",model_number:"",height:"",display_color:"",ethernet_ports:"",power_ports:"",cpu:"",memory:"",storage:"",comment:""},originalVendor:"",originalModelNumber:"",originalHeight:"",statusOpen:!1,statusSeverity:"",statusMessage:"",detailStatusOpen:!1,detailStatusSeverity:"",detailStatusMessage:"",createStatusOpen:!1,createStatusSeverity:"",createStatusMessage:"",vendorsList:[],madeVendorQuery:!1},w.a.defaults.headers.common.token=a.props.token,w.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.searchModels(),this.getVendorList()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(je,null,i.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage,autoHideDuration:6e3}),this.props.privilege===s.ADMIN?i.a.createElement("div",null,i.a.createElement(ee,{openCreateModal:this.openCreateModal,openImportModal:this.openImportModal,downloadTable:this.downloadTable}),i.a.createElement(J.CSVLink,{data:this.state.csvData,filename:"models.csv",className:"hidden",ref:function(t){return e.csvLink=t},target:"_blank"}),i.a.createElement(be,{statusOpen:this.state.createStatusOpen,statusSeverity:this.state.createStatusSeverity,statusClose:this.createStatusClose,statusMessage:this.state.createStatusMessage,showCreateModal:this.state.showCreateModal,closeCreateModal:this.closeCreateModal,createModel:this.createModel,updateModelCreator:this.updateModelCreator,options:this.state.vendorsList,useAutocomplete:!0,updateModelColor:this.updateModelColor}),i.a.createElement(Ce,{showImportModal:this.state.showImportModal,closeImportModal:this.closeImportModal,uploadFile:this.uploadFile,chooseFile:this.chooseFile,textDescription:"The following format should be used for each row: vendor,model_number,height,display_color,ethernet_ports,power_ports,cpu,memory,storage,comment"})):null,i.a.createElement(ne,{updateSearchText:this.updateSearchText,search:this.search,filters:De}),i.a.createElement(Ue,{columns:De,vals:this.state.items,keys:De,showDetailedView:this.showDetailedView,filters:De}),i.a.createElement(ge,{statusOpen:this.state.detailStatusOpen,statusSeverity:this.state.detailStatusSeverity,statusClose:this.detailStatusClose,statusMessage:this.state.detailStatusMessage,showDetailedView:this.state.showDetailedView,closeDetailedView:this.closeDetailedView,updateModelEdited:this.updateModelEdited,defaultValues:this.state.detailedValues,loading:this.state.detailViewLoading,edit:this.editModel,delete:this.deleteModel,disabled:this.props.privilege===s.USER,options:this.state.vendorsList,useAutocomplete:!0,updateModelColorDetails:this.updateModelColorDetails})))}}]),t}(i.a.Component);!function(e){e.create="create/",e.delete="delete/",e.edit="edit/",e.view="view/",e.detailView="detailView/",e.search="search/"}(Ee||(Ee={})),function(e){e.Username="username",e.Password="password",e.Email="email",e.display_name="display_name",e.Privilege="privilege"}(fe||(fe={}));var Re,Te,Le=a(416),Pe=a(418),Be=a(412),Fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={filters:{}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"updateSearchText",value:function(e){this.state.filters.hasOwnProperty(e.target.id),this.state.filters[e.target.id]=e.target.value,this.forceUpdate()}},{key:"search",value:function(){this.props.search(this.state.filters)}},{key:"render",value:function(){return i.a.createElement(re.a,null,i.a.createElement(oe.a,{expandIcon:i.a.createElement(ue.a,null)},i.a.createElement(x.a,null,"Filter")),i.a.createElement(le.a,null,i.a.createElement(g.a,{container:!0,spacing:1,direction:"row",justify:"flex-start",alignItems:"center"},i.a.createElement(g.a,{item:!0,xs:6},i.a.createElement(E.a,{id:"username",inputProps:{"aria-label":"search"},variant:"outlined",label:"Username",placeholder:"Username",name:"username",onChange:this.updateSearchText.bind(this)})),i.a.createElement(g.a,{item:!0,xs:6},i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:"Display Name",name:"display_name",onChange:this.props.updateModelCreator})),i.a.createElement(g.a,{item:!0,xs:6},i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:"Password",name:"password",onChange:this.props.updateModelCreator})),i.a.createElement(g.a,{item:!0,xs:6},i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:"Email",name:"email",onChange:this.props.updateModelCreator})),i.a.createElement(g.a,{item:!0,xs:6},i.a.createElement(Be.a,{style:{minWidth:"200px"}},i.a.createElement(Pe.a,{id:"privilege-select"},"Privilege"),i.a.createElement(Le.a,{id:"privilege-select",onChange:this.props.updateModelCreator},i.a.createElement(q.a,{value:"admin"},"Administrator"),i.a.createElement(q.a,{value:"user"},"User")))),i.a.createElement(g.a,{container:!0,item:!0,direction:"column",justify:"center",alignItems:"center",xs:12},i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.search.bind(this),style:{width:"100%",marginTop:"20px"}},"Search")))))}}]),t}(i.a.Component),Ke=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={showConfirmationBox:!1},a.closeModal=a.closeModal.bind(Object(p.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(p.a)(a)),a.deleteItem=a.deleteItem.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"confirmDelete",value:function(){this.setState({showConfirmationBox:!0})}},{key:"closeModal",value:function(){this.setState({showConfirmationBox:!1})}},{key:"deleteItem",value:function(){this.setState({showConfirmationBox:!1}),this.props.delete()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.showDetailedView?i.a.createElement(re.a,null,i.a.createElement(oe.a,{expandIcon:i.a.createElement(ue.a,null)},i.a.createElement(x.a,null,"Create")),i.a.createElement(le.a,null,i.a.createElement(I,{open:this.props.statusOpen,severity:this.props.statusSeverity,closeStatus:this.props.statusClose,message:this.props.statusMessage}),this.props.loading?i.a.createElement(ie.a,null):i.a.createElement("div",null,this.props.inputs.map((function(t){return i.a.createElement(E.a,{name:t,disabled:e.props.disabled,id:"standard-basic",label:t,onChange:e.props.updateModelEdited,defaultValue:e.props.defaultValues[t]})})),this.props.disabled?null:i.a.createElement("div",null,i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.props.edit,disabled:this.state.showConfirmationBox},"Save"),i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.confirmDelete,disabled:this.state.showConfirmationBox},"Delete")),i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.props.closeDetailedView,disabled:this.state.showConfirmationBox},"Close"),this.state.showConfirmationBox?i.a.createElement("div",null,"Are you sure you wish to delete?",i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.deleteItem},"Yes"),i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.closeModal},"No")):null))):null)}}]),t}(i.a.Component),We=(a(403),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(re.a,null,i.a.createElement(oe.a,{expandIcon:i.a.createElement(ue.a,null)},i.a.createElement(x.a,null,"Create User")),i.a.createElement(le.a,null,i.a.createElement(g.a,{container:!0,spacing:1,direction:"row",justify:"flex-start",alignItems:"center"},i.a.createElement(g.a,{item:!0,xs:6},i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:"Username",name:"username",onChange:this.props.updateModelCreator})),i.a.createElement(g.a,{item:!0,xs:6},i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:"Display Name",name:"display_name",onChange:this.props.updateModelCreator})),i.a.createElement(g.a,{item:!0,xs:6},i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:"Password",name:"password",type:"password",onChange:this.props.updateModelCreator})),i.a.createElement(g.a,{item:!0,xs:6},i.a.createElement(E.a,{id:"standard-basic",variant:"outlined",label:"Email",name:"email",type:"email",onChange:this.props.updateModelCreator})),i.a.createElement(g.a,{item:!0,xs:6},i.a.createElement(Be.a,{style:{minWidth:"200px"},gutterbottom:"true"},i.a.createElement(Pe.a,{id:"privilege-select"},"Privilege"),i.a.createElement(Le.a,{id:"privilege-select",onChange:this.props.updateModelCreator},i.a.createElement(q.a,{value:"admin"},"Administrator"),i.a.createElement(q.a,{value:"user"},"User")))),i.a.createElement(g.a,{container:!0,item:!0,direction:"column",justify:"center",alignItems:"center",xs:12},i.a.createElement(v.a,{variant:"contained",onClick:this.props.createModel,style:{width:"100%",marginTop:"20px",backgroundColor:"green",color:"white"}},"Create")))))}}]),t}(i.a.Component)),He="There was an error in the backend. Could not perform the given user operation at this time.",Ge=["username","email","display_name","privilege","password"],qe=["Username","Email","Display Name","Privilege"],ze="users/",Qe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).createUser=function(){w.a.post(k(ze,Ee.create),{username:a.state.createdUser[fe.Username],password:a.state.createdUser[fe.Password],display_name:a.state.createdUser[fe.display_name],email:a.state.createdUser[fe.Email],privilege:a.state.createdUser[fe.Privilege]}).then((function(e){"success"===e.data.message?(a.setState({createStatusOpen:!0,createStatusMessage:"Successfully created user",createStatusSeverity:"success",createdUser:{username:"",password:"",display_name:"",email:"",privilege:""},showCreateModal:!1}),a.searchUsers()):a.setState({createStatusOpen:!0,createStatusMessage:e.data.message,createStatusSeverity:"error"})})).catch(a.setState({createStatusOpen:!0,createStatusMessage:He,createStatusSeverity:"error"}))},a.editUser=function(){w.a.post(k(ze,Ee.edit),{username_original:a.state.originalUsername,username:a.state.detailedValues[fe.Username],display_name:a.state.detailedValues[fe.display_name],email:a.state.detailedValues[fe.Email],privilege:a.state.detailedValues[fe.Privilege]}).then((function(e){"success"===e.data.message?(a.setState({detailStatusOpen:!0,detailStatusMessage:"Successfully edited user",detailStatusSeverity:"success",originalUsername:"",detailedValues:{username:"",display_name:"",email:"",privilege:""},showDetailedView:!1}),a.searchUsers()):a.setState({detailStatusOpen:!0,detailStatusMessage:e.data.message,detailStatusSeverity:"error"})})).catch(a.setState({detailStatusOpen:!0,detailStatusMessage:He,detailStatusSeverity:"error"}))},a.deleteUser=function(){w.a.post(k(ze,Ee.delete),{username:a.state.originalUsername}).then((function(e){"success"===e.data.message?(a.setState({statusOpen:!0,statusMessage:"Successfully deleted user",statusSeverity:"success",deleteUsername:"",showDetailedView:!1}),a.searchUsers()):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})})).catch(a.setState({showStatus:!0,statusMessage:He,statusSeverity:"error"}))},a.detailViewUser=function(e){w.a.post(k(ze,Ee.detailView),{username:e}).then((function(e){return a.setState({detailedValues:e.data.user,detailViewLoading:!1})})).catch(a.setState({showStatus:!0,statusMessage:He,statusSeverity:"error"})),a.setState({viewUser:""})},a.searchUsers=function(){w.a.post(k(ze,Ee.search),{filter:{username:a.state.searchUsernm,email:a.state.searchEml,display_name:a.state.searchDspNm,privilege:a.state.searchPriv}}).then((function(e){return a.setState({items:null==e.data.users?[]:e.data.users})})),a.setState({initialized:!0})},a.search=function(e){a.setState({searchUsernm:e.username,searchEml:e.email,searchDspNm:e.display_name,searchPriv:e.privilege},a.searchUsers)},a.downloadTable=function(){a.csvLink.link.click()},a.openCreateModal=function(){a.setState({showCreateModal:!0})},a.openImportModal=function(){a.setState({showImportModal:!0})},a.showDetailedView=function(e){a.setState({showDetailedView:!0,detailViewLoading:!0,originalUsername:a.state.items[e].username});var t=a.state.items[e].username;a.detailViewUser(t)},a.closeCreateModal=function(){a.setState({showCreateModal:!1})},a.closeImportModal=function(){a.setState({showImportModal:!1})},a.closeDetailedView=function(){a.setState({showDetailedView:!1})},a.updateUserCreator=function(e){a.state.createdUser[e.target.name]=e.target.value,a.forceUpdate()},a.updateUserEdited=function(e){a.state.detailedValues[e.target.name]=e.target.value,a.forceUpdate()},a.closeShowStatus=function(){a.setState({showStatus:!1})},a.createStatusClose=function(){a.setState({createStatusOpen:!1})},a.detailStatusClose=function(){a.setState({detailStatusOpen:!1})},a.initialized=function(){a.searchUsers()},a.state={showCreateModal:!1,showImportModal:!1,items:[],createdUser:{username:"",password:"",display_name:"",email:"",privilege:""},statusOpen:!1,statusSeverity:"",statusMessage:"",detailStatusOpen:!1,detailStatusSeverity:"",detailStatusMessage:"",createStatusOpen:!1,createStatusSeverity:"",createStatusMessage:"",searchUsernm:"",searchEml:"",searchDspNm:"",searchPriv:"",deleteUsername:"",viewUser:"",csvData:[],showDetailedView:!1,detailViewLoading:!1,detailedValues:{username:"",display_name:"",email:"",privilege:""},originalUsername:"",initialized:!1},w.a.defaults.headers.common.token=a.props.token,w.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,this.state.initialized?null:this.initialized(),i.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),i.a.createElement(g.a,{container:!0,spacing:5,direction:"row",justify:"flex-start",alignItems:"center",style:{margin:"0px",maxWidth:"100vw"}},i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(x.a,{variant:"h4"},"Users")),i.a.createElement(g.a,{item:!0,xs:12,sm:6,md:4,lg:3},this.props.privilege==s.ADMIN?i.a.createElement("div",null,i.a.createElement(We,{showCreateModal:this.state.showCreateModal,closeCreateModal:this.closeCreateModal,createModel:this.createUser,updateModelCreator:this.updateUserCreator,inputs:Ge,options:[],useAutocomplete:!1,style:{width:"100vw"}})):null),i.a.createElement(g.a,{item:!0,xs:12,sm:6,md:4,lg:3},i.a.createElement(Fe,{updateSearchText:this.updateSearchText,search:this.search,filters:qe})),i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(Ue,{columns:qe,vals:this.state.items,keys:qe,showDetailedView:this.showDetailedView,filters:qe})),i.a.createElement(g.a,{item:!0,xs:12},i.a.createElement(Ke,{showDetailedView:this.state.showDetailedView,closeDetailedView:this.closeDetailedView,inputs:qe,updateModelEdited:this.updateUserEdited,defaultValues:this.state.detailedValues,loading:this.state.detailViewLoading,edit:this.editUser,delete:this.deleteUser,disabled:this.props.privilege==s.USER}))))}}]),t}(i.a.Component);!function(e){e.create="create/",e.delete="delete/",e.edit="edit/",e.view="view/",e.detailView="detailView/",e.search="search/",e.GET_ALL_MODELS="assistedmodel/",e.GET_ALL_OWNERS="assistedowner/",e.UPLOAD_FILE="import/",e.EXPORT_FILE="export/",e.GET_NEXT_ASSET_NUM="nextAssetNumber/"}(Re||(Re={})),function(e){e.MODEL="model",e.HOSTNAME="hostname",e.RACK="rack",e.RACK_U="rack_position",e.RACK_ORIGINAL="rackOriginal",e.RACK_U_ORIGINAL="rack_positionOriginal",e.OWNER="owner",e.COMMENT="comment",e.DATACENTER="datacenter_id",e.TAGS="tags",e.MAC_ADDRESS="mac_address",e.NETWORK_CONNECTIONS="network_connections",e.POWER_CONNECTIONS="power_connections",e.ASSET_NUMBER="asset_number"}(Te||(Te={}));var Je=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(v.a,{variant:"contained",color:"primary",startIcon:i.a.createElement(X.a,null),onClick:function(){e.props.openImportModal()}},"Import"),i.a.createElement(v.a,{variant:"contained",color:"primary",startIcon:i.a.createElement($.a,null),onClick:function(){e.props.downloadTable()}},"Export"))}}]),t}(i.a.Component),Ye=(i.a.Component,a(467));function Xe(e,t,a,s){return{label:t,name:e,showTooltip:a,description:s}}var Ze=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).confirmDelete=function(){a.setState({showConfirmationBox:!0})},a.closeModal=function(){a.setState({showConfirmationBox:!1})},a.deleteItem=function(){a.setState({showConfirmationBox:!1}),a.props.delete()},a.state={showConfirmationBox:!1,inputs:{model:Xe(Te.MODEL,"Model",!1,"A reference to an existing model"),hostname:Xe(Te.HOSTNAME,"Hostname",!1,"A short string compliant with RFC 1034\u2019s definition of 'label'"),rack:Xe(Te.RACK,"Rack",!1,"The rack the equipment is installed in, written as a row letter and rack number, e.g. 'B12'"),rackU:Xe(Te.RACK_U,"Rack U",!1,"An integer indicating the vertical location of the bottom of the equipment (e.g. '5')"),owner:Xe(Te.OWNER,"Owner",!1,"A reference to an existing user on the system who owns this equipment"),comment:Xe(Te.COMMENT,"Comment",!1,"Any additional information associated with this asset"),datacenter:Xe(Te.DATACENTER,"Datacenter",!1,"A reference to a datacenter in which the chosen rack resides"),macAddress:Xe(Te.MAC_ADDRESS,"Mac Address",!1,"A 6-byte hexadecimal string per network port shown canonically in lower case with colon delimiters (e.g., '00:1e:c9:ac:78:aa')"),networkConnections:Xe(Te.NETWORK_CONNECTIONS,"Network Connections",!1,"For each network port, a reference to another network port on another piece of gear"),powerConnections:Xe(Te.POWER_CONNECTIONS,"Power Connections",!1,"For each power port, a choice of PDU in the rack (left or right) and a PDU port number (1..24)"),assetNum:Xe(Te.ASSET_NUMBER,"Asset Number",!1,"A six-digit serial number unique associated with an asset.")}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.showDetailedView?i.a.createElement(re.a,null,i.a.createElement(oe.a,{expandIcon:i.a.createElement(ue.a,null)},i.a.createElement(x.a,null,"Asset Details")),i.a.createElement(le.a,null,i.a.createElement(I,{open:this.props.statusOpen,severity:this.props.statusSeverity,closeStatus:this.props.statusClose,message:this.props.statusMessage,autoHideDuration:6e3}),this.props.loading?i.a.createElement(ie.a,null):i.a.createElement("div",null,i.a.createElement(re.a,null,i.a.createElement(oe.a,{expandIcon:i.a.createElement(ue.a,null)},i.a.createElement(x.a,null,"Create Asset")),i.a.createElement(le.a,null,this.state.loading?i.a.createElement(ie.a,null):i.a.createElement("span",null,i.a.createElement(I,{open:this.props.statusOpen,severity:this.props.statusSeverity,closeStatus:this.props.statusClose,message:this.props.statusMessage}),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.model.Tooltip,title:this.state.inputs.model.description},i.a.createElement(de.a,{id:"select-model",options:this.props.options,includeInputInList:!0,defaultValue:this.props.defaultValues.getModel(),renderInput:function(t){return i.a.createElement(E.a,Object.assign({},t,{label:e.state.inputs.model.label,name:e.state.inputs.model.name,onChange:e.props.updateModelEdited,onBlur:e.props.updateModelEdited,variant:"outlined",fullWidth:!0,required:!0}))}})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.hostname.Tooltip,title:this.state.inputs.hostname.description},i.a.createElement(E.a,{id:"input-hostname",variant:"outlined",label:this.state.inputs.hostname.label,name:this.state.inputs.hostname.name,onChange:this.props.updateModelEdited,defaultValue:this.props.defaultValues.getHostname()})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.datacenter.Tooltip,title:this.state.inputs.datacenter.description},i.a.createElement(E.a,{id:"input-datacenter",variant:"outlined",label:this.state.inputs.datacenter.label,name:this.state.inputs.datacenter.name,onChange:this.props.updateModelEdited,onBlur:this.updateTooltip,required:!0,defaultValue:this.props.defaultValues.getDatacenter()})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.rack.Tooltip,title:this.state.inputs.rack.description},i.a.createElement(E.a,{id:"input-rack",variant:"outlined",label:this.state.inputs.rack.label,name:this.state.inputs.rack.name,onChange:this.props.updateModelEdited,required:!0,defaultValue:this.props.defaultValues.getRack()})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.rackU.Tooltip,title:this.state.inputs.rackU.description},i.a.createElement(E.a,{id:"input-rackU",variant:"outlined",label:this.state.inputs.rackU.label,name:this.state.inputs.rackU.name,onChange:this.props.updateModelEdited,required:!0,defaultValue:this.props.defaultValues.getRackU()})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.owner.Tooltip,title:this.state.inputs.owner.description},i.a.createElement(de.a,{id:"select-owner",options:this.props.options,includeInputInList:!0,defaultValue:this.props.defaultValues.getOwner(),renderInput:function(t){return i.a.createElement(E.a,Object.assign({},t,{label:e.state.inputs.owner.label,name:e.state.inputs.owner.name,onChange:e.props.updateModelEdited,onBlur:e.props.updateModelEdited,variant:"outlined",fullWidth:!0,required:!0}))}})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.macAddress.Tooltip,title:this.state.inputs.macAddress.description},i.a.createElement(E.a,{id:"input-mac-address",variant:"outlined",label:this.state.inputs.macAddress.label,name:this.state.inputs.macAddress.name,onChange:this.props.updateModelEdited,defaultValue:this.props.defaultValues.getMacAddr()})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.networkConnections.Tooltip,title:this.state.inputs.networkConnections.description},i.a.createElement(E.a,{id:"input-network-ports",variant:"outlined",label:this.state.inputs.networkConnections.label,name:this.state.inputs.networkConnections.name,onChange:this.props.updateModelEdited,defaultValue:this.props.defaultValues.getNetworkConn()})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.powerConnections.Tooltip,title:this.state.inputs.powerConnections.description},i.a.createElement(E.a,{id:"input-power-ports",variant:"outlined",label:this.state.inputs.powerConnections.label,name:this.state.inputs.powerConnections.name,onChange:this.props.updateModelEdited,defaultValue:this.props.defaultValues.getPwrConn()})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.assetNum.Tooltip,title:this.state.inputs.assetNum.description},i.a.createElement(E.a,{id:"input-asset-number",variant:"outlined",label:this.state.inputs.assetNum.label,name:this.state.inputs.assetNum.name,onChange:this.props.updateModelEdited,value:this.state.nextAssetNum,required:!0,defaultValue:this.props.defaultValues.getAssetNum()})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.comment.Tooltip,title:this.state.inputs.comment.description},i.a.createElement(E.a,{id:"input-comment",variant:"outlined",label:this.state.inputs.comment.label,name:this.state.inputs.comment.name,onChange:this.props.updateModelEdited,multiline:!0,defaultValue:this.props.defaultValues.getComment()})),i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:function(){return e.create()}},"Create")))),this.props.disabled?null:i.a.createElement("div",null,i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.props.edit,disabled:this.state.showConfirmationBox},"Save"),i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.confirmDelete,disabled:this.state.showConfirmationBox},"Delete")),this.state.showConfirmationBox?i.a.createElement("div",null,"Are you sure you wish to delete?",i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.deleteItem},"Yes"),i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.closeModal},"No")):null))):null)}}]),t}(i.a.Component);function $e(e,t,a,s){return{label:t,name:e,showTooltip:a,description:s}}var et,tt="instances/",at=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getNextAssetNum=function(){w.a.get(k(tt,Re.ASSET_NUMBER)).then((function(e){console.log(e),a.setState({loading:!1,nextAssetNum:e.asset_number})})).catch(a.setState({loading:!1}))},a.updateTooltip=function(e){a.state.inputs.showTooltip=!a.state.inputs.showTooltip,a.forceUpdate()},a.create=function(){a.props.createAsset()},a.state={loading:!0,nextAssetNum:null,inputs:{model:$e(Te.MODEL,"Model",!1,"A reference to an existing model"),hostname:$e(Te.HOSTNAME,"Hostname",!1,"A short string compliant with RFC 1034\u2019s definition of 'label'"),rack:$e(Te.RACK,"Rack",!1,"The rack the equipment is installed in, written as a row letter and rack number, e.g. 'B12'"),rackU:$e(Te.RACK_U,"Rack U",!1,"An integer indicating the vertical location of the bottom of the equipment (e.g. '5')"),owner:$e(Te.OWNER,"Owner",!1,"A reference to an existing user on the system who owns this equipment"),comment:$e(Te.COMMENT,"Comment",!1,"Any additional information associated with this asset"),datacenter:$e(Te.DATACENTER,"Datacenter",!1,"A reference to a datacenter in which the chosen rack resides"),macAddress:$e(Te.MAC_ADDRESS,"Mac Address",!1,"A 6-byte hexadecimal string per network port shown canonically in lower case with colon delimiters (e.g., '00:1e:c9:ac:78:aa')"),networkConnections:$e(Te.NETWORK_CONNECTIONS,"Network Connections",!1,"For each network port, a reference to another network port on another piece of gear"),powerConnections:$e(Te.POWER_CONNECTIONS,"Power Connections",!1,"For each power port, a choice of PDU in the rack (left or right) and a PDU port number (1..24)"),assetNum:$e(Te.ASSET_NUMBER,"Asset Number",!1,"A six-digit serial number unique associated with an asset.")}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getNextAssetNum()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(re.a,null,i.a.createElement(oe.a,{expandIcon:i.a.createElement(ue.a,null)},i.a.createElement(x.a,null,"Create Asset")),i.a.createElement(le.a,null,this.state.loading?i.a.createElement(ie.a,null):i.a.createElement("span",null,i.a.createElement(I,{open:this.props.statusOpen,severity:this.props.statusSeverity,closeStatus:this.props.statusClose,message:this.props.statusMessage}),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.model.Tooltip,title:this.state.inputs.model.description},i.a.createElement(de.a,{id:"select-model",options:this.props.options,includeInputInList:!0,renderInput:function(t){return i.a.createElement(E.a,Object.assign({},t,{label:e.state.inputs.model.label,name:e.state.inputs.model.name,onChange:e.props.updateAssetCreator,onBlur:e.props.updateAssetCreator,variant:"outlined",fullWidth:!0,required:!0}))}})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.hostname.Tooltip,title:this.state.inputs.hostname.description},i.a.createElement(E.a,{id:"input-hostname",variant:"outlined",label:this.state.inputs.hostname.label,name:this.state.inputs.hostname.name,onChange:this.props.updateAssetCreator})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.datacenter.Tooltip,title:this.state.inputs.datacenter.description},i.a.createElement(E.a,{id:"input-datacenter",variant:"outlined",label:this.state.inputs.datacenter.label,name:this.state.inputs.datacenter.name,onChange:this.props.updateAssetCreator,onBlur:this.updateTooltip,required:!0})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.rack.Tooltip,title:this.state.inputs.rack.description},i.a.createElement(E.a,{id:"input-rack",variant:"outlined",label:this.state.inputs.rack.label,name:this.state.inputs.rack.name,onChange:this.props.updateAssetCreator,required:!0})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.rackU.Tooltip,title:this.state.inputs.rackU.description},i.a.createElement(E.a,{id:"input-rackU",variant:"outlined",label:this.state.inputs.rackU.label,name:this.state.inputs.rackU.name,onChange:this.props.updateAssetCreator,required:!0})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.owner.Tooltip,title:this.state.inputs.owner.description},i.a.createElement(de.a,{id:"select-owner",options:this.props.options,includeInputInList:!0,renderInput:function(t){return i.a.createElement(E.a,Object.assign({},t,{label:e.state.inputs.owner.label,name:e.state.inputs.owner.name,onChange:e.props.updateAssetCreator,onBlur:e.props.updateAssetCreator,variant:"outlined",fullWidth:!0,required:!0}))}})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.macAddress.Tooltip,title:this.state.inputs.macAddress.description},i.a.createElement(E.a,{id:"input-mac-address",variant:"outlined",label:this.state.inputs.macAddress.label,name:this.state.inputs.macAddress.name,onChange:this.props.updateAssetCreator})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.networkConnections.Tooltip,title:this.state.inputs.networkConnections.description},i.a.createElement(E.a,{id:"input-network-ports",variant:"outlined",label:this.state.inputs.networkConnections.label,name:this.state.inputs.networkConnections.name,onChange:this.props.updateAssetCreator})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.powerConnections.Tooltip,title:this.state.inputs.powerConnections.description},i.a.createElement(E.a,{id:"input-power-ports",variant:"outlined",label:this.state.inputs.powerConnections.label,name:this.state.inputs.powerConnections.name,onChange:this.props.updateAssetCreator})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.assetNum.Tooltip,title:this.state.inputs.assetNum.description},i.a.createElement(E.a,{id:"input-asset-number",variant:"outlined",label:this.state.inputs.assetNum.label,name:this.state.inputs.assetNum.name,onChange:this.props.updateAssetCreator,value:this.state.nextAssetNum,required:!0})),i.a.createElement(Ye.a,{placement:"top",open:this.state.inputs.comment.Tooltip,title:this.state.inputs.comment.description},i.a.createElement(E.a,{id:"input-comment",variant:"outlined",label:this.state.inputs.comment.label,name:this.state.inputs.comment.name,onChange:this.props.updateAssetCreator,multiline:!0})),i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:function(){return e.create()}},"Create")))))}}]),t}(i.a.Component),st=function(){function e(){Object(l.a)(this,e),this.model=void 0,this.hostname=void 0,this.rack=void 0,this.rackU=void 0,this.owner=void 0,this.comment=void 0,this.datacenter_id=void 0,this.tags=void 0,this.mac_address=void 0,this.network_connections=void 0,this.power_connections=void 0,this.asset_number=void 0,this.json=void 0,this.model="",this.hostname="",this.rack="",this.rackU=-1,this.owner="",this.comment="",this.datacenter_id="",this.tags=[],this.mac_address="",this.network_connections=[],this.power_connections=[],this.asset_number=-1,this.json={model:this.model,hostname:this.hostname,rack:this.rack,rackU:this.rackU,owner:this.owner,comment:this.comment,datacenter_id:this.datacenter_id,tags:this.tags,mac_address:this.mac_address,network_connections:this.network_connections,power_connections:this.power_connections,asset_number:this.asset_number}}return Object(c.a)(e,[{key:"updateVal",value:function(e,t){this.json[e]=t}},{key:"getAssetAsJSON",value:function(){return this.json}},{key:"getModel",value:function(){return this.json.model}},{key:"getHostname",value:function(){return this.json.hostname}},{key:"getRack",value:function(){return this.json.rack}},{key:"getRackU",value:function(){return this.json.getRackU}},{key:"getOwner",value:function(){return this.json.owner}},{key:"getComment",value:function(){return this.json.comment}},{key:"getDatacenter",value:function(){return this.json.datacenter_id}},{key:"getTags",value:function(){return this.json.tags}},{key:"getMacAddr",value:function(){return this.json.mac_address}},{key:"getNetworkConn",value:function(){return this.json.network_connections}},{key:"getPwrConn",value:function(){return this.json.power_connections}},{key:"getAssetNum",value:function(){return this.json.asset_number}}]),e}(),nt=(a(404),["model","hostname","rack","rack_position"]),it="instances/",rt="success",ot="error",lt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).createAsset=function(){w.a.post(k(it,Re.create),a.state.createdAsset.getAssetAsJSON()).then((function(e){e.data.message===rt?(a.setState({showStatus:!0,statusMessage:"Successfully created asset",statusSeverity:rt,createdAsset:new st,showCreate:!1}),a.searchAssets()):a.setState({createStatusOpen:!0,createStatusMessage:e.data.message,createStatusSeverity:ot})}))},a.editAsset=function(){var e=a.state.detailedValues.getAssetAsJSON();e[Te.RACK_ORIGINAL]=a.state.originalRack,e[Te.RACK_U_ORIGINAL]=a.state.originalrack_position,w.a.post(k(it,Re.edit),e).then((function(e){e.data.message===rt?(a.setState({showStatus:!0,statusMessage:"Successfully edited asset",statusSeverity:rt,detailedValues:new st,showDetailedView:!1}),a.searchAssets()):a.setState({detailStatusOpen:!0,detailStatusMessage:e.data.message,detailStatusSeverity:ot})}))},a.deleteAsset=function(){var e={};e[Te.RACK]=a.state.originalRack,e[Te.RACK_U]=a.state.originalrack_position,w.a.post(k(it,Re.delete),e).then((function(e){e.data.message===rt?(a.setState({showStatus:!0,statusMessage:"Successfully deleted asset",statusSeverity:rt,originalRack:"",originalrack_position:"",showDetailedView:!1}),a.searchAssets()):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:ot})}))},a.detailViewAsset=function(e,t){var s={};s[Te.RACK]=e,s[Te.RACK_U]=t,w.a.post(k(it,Re.detailView),s).then((function(e){return a.setState({detailedValues:e.data.assets[0],detailViewLoading:!1})})),a.setState({viewAssetRack:""})},a.searchAssets=function(){w.a.post(k(it,Re.search),{filter:a.state.searchedAsset.getAssetAsJSON()}).then((function(e){a.setState({items:e.data.assets})}))},a.getModelList=function(){a.setState({madeModelQuery:!0}),w.a.get(k(it,Re.GET_ALL_MODELS),{}).then((function(e){return a.setState({modelList:e.data.results})}))},a.getUserList=function(){a.setState({madeOwnerQuery:!0}),w.a.get(k(it,Re.GET_ALL_OWNERS)).then((function(e){return a.setState({ownerList:e.data.results})}))},a.sendUploadedFile=function(e){w.a.post(k(it,Re.UPLOAD_FILE),e).then((function(e){e.data.message===rt?(a.setState({showStatus:!0,statusMessage:e.data.summary,statusSeverity:rt,showImport:!1}),a.searchAssets()):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:ot})}))},a.search=function(e){Object.keys(e).map((function(t){this.state.searchedAsset.updateVal(t,e[t])})),a.searchAssets()},a.downloadTable=function(){w.a.post(k(it,Re.EXPORT_FILE),{filter:a.state.searchedAsset.getAssetAsJSON()}).then((function(e){a.setState({csvData:e.data.csvData}),a.csvLink.link.click()}))},a.openCreateModal=function(){a.getModelList(),a.setState({showCreate:!0})},a.openImportModal=function(){a.setState({showImport:!0})},a.showDetailedView=function(e){a.setState({showDetailedView:!0,detailViewLoading:!0,originalRack:a.state.items[e][Te.RACK],originalrack_position:a.state.items[e][Te.RACK_U]});var t=a.state.items[e][Te.RACK],s=a.state.items[e][Te.RACK_U];a.detailViewAsset(t,s)},a.closeCreateModal=function(){a.setState({showCreate:!1})},a.closeImportModal=function(){a.setState({showImport:!1})},a.closeDetailedView=function(){a.setState({showDetailedView:!1})},a.updateAssetCreator=function(e){a.state.createdAsset.updateVal(e.target.value),a.forceUpdate()},a.updateAssetEdited=function(e){a.state.detailedValues.updateVal(e.target.value),a.forceUpdate()},a.closeShowStatus=function(){a.setState({showStatus:!1})},a.createStatusClose=function(){a.setState({createStatusOpen:!1})},a.detailStatusClose=function(){a.setState({detailStatusOpen:!1})},a.uploadFile=function(){var e=new FormData;e.append("file",a.state.importedFile),a.sendUploadedFile(e)},a.chooseFile=function(e){a.setState({importedFile:e.target.files[0]})},a.state={showCreate:!1,showImport:!1,items:[],createdAsset:new st,searchedAsset:new st,statusOpen:!1,statusSeverity:"",statusMessage:"",detailStatusOpen:!1,detailStatusSeverity:"",detailStatusMessage:"",createStatusOpen:!1,createStatusSeverity:"",createStatusMessage:"",deleteAssetRack:"",deleteAssetrack_position:"",viewAssetRack:"",viewAssetrack_position:"",csvData:"",importedFile:null,showDetailedView:!1,detailViewLoading:!1,detailedValues:new st,originalRack:"",originalrack_position:"",modelList:[],madeModelQuery:!1,ownerList:[],madeOwnerQuery:!1},w.a.defaults.headers.common.token=a.props.token,w.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){console.log(this.state.madeModelQuery),console.log(this.state.madeOwnerQuery),this.searchAssets(),this.getModelList(),this.getUserList()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{class:"root"},i.a.createElement(je,null,i.a.createElement(Ve.a,{elevation:3},i.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),this.props.privilege===s.ADMIN?i.a.createElement("div",null,i.a.createElement(Je,{openCreateModal:this.openCreateModal,openImportModal:this.openImportModal,downloadTable:this.downloadTable}),i.a.createElement(J.CSVLink,{data:this.state.csvData,filename:"assets.csv",className:"hidden",ref:function(t){return e.csvLink=t},target:"_blank"}),i.a.createElement(at,{statusOpen:this.state.createStatusOpen,statusSeverity:this.state.createStatusSeverity,statusClose:this.createStatusClose,statusMessage:this.state.createStatusMessage,showCreate:this.state.showCreate,closeCreateModal:this.closeCreateModal,createAsset:this.createAsset,updateAssetCreator:this.updateAssetCreator,options:this.state.modelList,useAutocomplete:!0}),i.a.createElement(Ce,{showImport:this.state.showImport,closeImportModal:this.closeImportModal,uploadFile:this.uploadFile,chooseFile:this.chooseFile,textDescription:"The following format should be used for each row: hostname,rack,rack_position,vendor,model_number,owner,comment"})):null,i.a.createElement(Ue,{columns:nt,vals:this.state.items,keys:nt,showDetailedView:this.showDetailedView,filters:nt}),i.a.createElement(Ze,{statusOpen:this.state.detailStatusOpen,statusSeverity:this.state.detailStatusSeverity,statusClose:this.detailStatusClose,statusMessage:this.state.detailStatusMessage,showDetailedView:this.state.showDetailedView,closeDetailedView:this.closeDetailedView,updateModelEdited:this.updateAssetEdited,defaultValues:this.state.detailedValues,loading:this.state.detailViewLoading,edit:this.editAsset,delete:this.deleteAsset,disabled:this.props.privilege===s.USER}))))}}]),t}(i.a.Component),ct=a(414);!function(e){e.GET_ALL_RACKS="all",e.CREATE_RACKS="create",e.DELETE_RACKS="delete",e.GET_RACK_DETAILS="details"}(et||(et={}));a(405);var ut,dt="racks/",pt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getAllRacks=function(){w.a.get(k(dt,et.GET_ALL_RACKS)).then((function(e){"success"===e.data.message?a.setState({showStatus:!0,statusMessage:"Success",statusSeverity:"success",racksList:e.data.racks}):a.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})}))},a.createRacks=function(){a.updateRacks(et.CREATE_RACKS)},a.deleteRacks=function(){a.updateRacks(et.DELETE_RACKS)},a.viewRacks=function(){a.updateRacks(et.GET_RACK_DETAILS)},a.changeStartingLetter=function(e){a.setState({startingRackLetter:e.target.value})},a.changeEndingLetter=function(e){a.setState({endingRackLetter:e.target.value})},a.changeStartingNum=function(e){a.setState({startingRackNumber:e.target.value})},a.changeEndingNum=function(e){a.setState({endingRackNumber:e.target.value})},a.closeShowStatus=function(){a.setState({showStatus:!1})},a.initialize=function(){a.getAllRacks(),a.setState({madeRacksQuery:!0})},a.state={items:[],startingRackLetter:"A",endingRackLetter:"A",startingRackNumber:1,endingRackNumber:1,showStatus:!1,statusMessage:"",statusSeverity:"",showConfirmationBox:!1,racksList:[],madeRacksQuery:!1},w.a.defaults.headers.common.token=a.props.token,w.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"updateRacks",value:function(e){var t=this;w.a.post(k(dt,e),{start_letter:this.state.startingRackLetter,stop_letter:this.state.endingRackLetter,start_number:this.state.startingRackNumber,stop_number:this.state.endingRackNumber}).then((function(a){if(console.log(a),"success"===a.data.message){if(t.setState({showStatus:!0,statusMessage:"Success",statusSeverity:"success",showConfirmationBox:!1}),e===et.GET_RACK_DETAILS){var s=window.open(a.data.link,"_blank");null!=s&&s.focus()}}else t.setState({showStatus:!0,statusMessage:a.data.message,statusSeverity:"error"})}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{class:"root"},i.a.createElement(je,null,i.a.createElement(Ve.a,{elevation:3},this.state.madeRacksQuery?null:this.initialize(),i.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),i.a.createElement(Be.a,null,i.a.createElement("div",{class:"select-letter"},i.a.createElement(Le.a,{id:"starting-letter-selector",value:this.state.startingRackLetter,onChange:this.changeStartingLetter},S.map((function(e){return i.a.createElement(q.a,{value:e},e)}))),i.a.createElement(ct.a,null,"Starting Letter"))),i.a.createElement(Be.a,null,i.a.createElement("div",{class:"select-letter"},i.a.createElement(Le.a,{id:"ending-letter-selector",value:this.state.endingRackLetter,onChange:this.changeEndingLetter},S.map((function(e){return i.a.createElement(q.a,{value:e},e)}))),i.a.createElement(ct.a,null,"Ending Letter"))),i.a.createElement(Be.a,null,i.a.createElement("div",{class:"select-number"},i.a.createElement(E.a,{id:"starting-num-selector",type:"number",value:this.state.startingRackNumber,onChange:this.changeStartingNum,InputProps:{inputProps:{min:1}}}),i.a.createElement(ct.a,null,"Starting Number"))),i.a.createElement(Be.a,null,i.a.createElement("div",{class:"select-number"},i.a.createElement(E.a,{id:"ending-num-selector",type:"number",value:this.state.endingRackNumber,onChange:this.changeEndingNum,InputProps:{inputProps:{min:1}}}),i.a.createElement(ct.a,null,"Ending Number"))),i.a.createElement("div",{class:"buttons"},i.a.createElement("span",{class:"button"},i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.viewRacks,disabled:this.state.showConfirmationBox},"View")),i.a.createElement("span",{class:"button"},this.props.privilege===s.ADMIN?i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.createRacks,disabled:this.state.showConfirmationBox},"Create"):null),i.a.createElement("span",{class:"button"},this.props.privilege===s.ADMIN?i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:function(){return e.setState({showConfirmationBox:!0})},disabled:this.state.showConfirmationBox},"Delete"):null)),this.state.showConfirmationBox?i.a.createElement("div",null,"Are you sure you wish to delete?",i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.deleteRacks},"Yes"),i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:function(){return e.setState({showConfirmationBox:!1})}},"No")):null)))}}]),t}(i.a.Component);function mt(e){var t={};try{t=JSON.parse(e)}catch(s){t=e}if(0===Object.entries(t).length&&t.constructor===Object)return[];var a=[];return Object.keys(t).map((function(e){var s=[];s.push(e),s.push(t[e]),a.push(s)})),a}!function(e){e.GENERATE_REPORT="generate-report",e.TEST="test"}(ut||(ut={}));var ht={totalUsage:"Total Usage",spaceUsage:"Space Usage",vendorUsage:"Vendor Usage",modelUsage:"Model Usage",ownerUsage:"Owner Usage"},gt={totalUsage:["Total","Usage"],spaceUsage:["Rack","Usage"],vendorUsage:["Vendor","Usage"],modelUsage:["Model","Usage"],ownerUsage:["Ownder","Usage"]},vt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={tableValues:{totalUsage:[],spaceUsage:[],vendorUsage:[],modelUsage:[],ownerUsage:[]},totalUsage:[],spaceUsage:[],vendorUsage:[],modelUsage:[],ownerUsage:[],showStatus:!1,statusMessage:"",statusSeverity:""},a.closeShowStatus=a.closeShowStatus.bind(Object(p.a)(a)),a.generateReport=a.generateReport.bind(Object(p.a)(a)),w.a.defaults.headers.common.token=a.props.token,w.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"generateReport",value:function(){var e=this;w.a.get(k("stats/",ut.GENERATE_REPORT)).then((function(t){try{var a=t.data,s=[],n=["Total Usage"];n.push(a.totalUsage),s.push(n);var i=mt(a.spaceUsage);0==i.length&&i.push(["No space is currently being used",[]]);var r=mt(a.vendorUsage);0==r.length&&r.push(["No vendors currently using space",[]]);var o=mt(a.modelUsage);0==o.length&&o.push(["No models currently using space",[]]);var l=mt(a.ownerUsage);0==l.length&&l.push(["No owners currently using space",[]]),e.setState({showStatus:!0,statusSeverity:"success",statusMessage:"Success",tableValues:{totalUsage:s,spaceUsage:i,vendorUsage:r,modelUsage:o,ownerUsage:l}})}catch(c){e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}}))}},{key:"closeShowStatus",value:function(){this.setState({showStatus:!1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(je,null,i.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),i.a.createElement("div",null,i.a.createElement(v.a,{variant:"contained",color:"primary",onClick:this.generateReport},"Generate New Report")),Object.keys(ht).map((function(t){return i.a.createElement(re.a,null,i.a.createElement(oe.a,{expandIcon:i.a.createElement(ue.a,null)},i.a.createElement(x.a,null,ht[t])),i.a.createElement(le.a,null,i.a.createElement(Oe.a,{component:Ve.a},i.a.createElement(ye.a,null,i.a.createElement(Ae.a,null,i.a.createElement(_e.a,null,gt[t].map((function(e){return i.a.createElement(Me.a,null,i.a.createElement("span",{id:e},e))})))),i.a.createElement(ke.a,null,e.state.tableValues[t].map((function(e){return i.a.createElement(_e.a,null,e.map((function(e){return i.a.createElement(Me.a,null,i.a.createElement("span",{id:e},e+(isNaN(e)?"":"%")))})))})))))))}))))}}]),t}(i.a.Component),Et=(a(406),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleProfileMenuOpen=function(e){a.setState({anchorEl:e.currentTarget,isMenuOpen:!0})},a.handleMenuClose=function(){a.setState({anchorEl:null,isMenuOpen:!1})},a.state={currentTabID:0,anchorEl:null,isMenuOpen:!1},a.handleChange=a.handleChange.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e,t){this.setState({currentTabID:t})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(je,null,i.a.createElement(K.a,{position:"static"},i.a.createElement("div",{class:"root"},i.a.createElement(x.a,{class:"title",variant:"h3"},"Hyposoft Server Management"),i.a.createElement("span",{class:"grow"}),i.a.createElement(A.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",onClick:this.handleProfileMenuOpen},i.a.createElement(Q.a,null)),i.a.createElement(G.a,{anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:this.state.isMenuOpen,onClose:this.handleMenuClose},i.a.createElement(q.a,null,"Username: "+this.props.username),i.a.createElement(q.a,null,"Privilege: "+this.props.privilege),i.a.createElement(q.a,{onClick:this.props.logout},"LOGOUT")))),i.a.createElement(W.a,{value:this.state.currentTabID,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",centered:!0},i.a.createElement(H.a,{value:0,style:{flexGrow:1},label:"Models"}," "),i.a.createElement(H.a,{value:1,style:{flexGrow:1},label:"Assets"}),this.props.privilege===s.ADMIN?i.a.createElement(H.a,{value:2,style:{flexGrow:1},label:"Users"}):null,i.a.createElement(H.a,{value:3,style:{flexGrow:1},label:"Racks"}),i.a.createElement(H.a,{value:4,style:{flexGrow:1},label:"Statistics"})),i.a.createElement(x.a,{component:"div",role:"tabpanel",hidden:0!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},i.a.createElement(xe,{token:this.props.token,privilege:this.props.privilege})),i.a.createElement(x.a,{component:"div",role:"tabpanel",hidden:1!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},i.a.createElement(lt,{token:this.props.token,privilege:this.props.privilege})),i.a.createElement(x.a,{component:"div",role:"tabpanel",hidden:2!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},i.a.createElement(Qe,{token:this.props.token,privilege:this.props.privilege})),i.a.createElement(x.a,{component:"div",role:"tabpanel",hidden:3!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},i.a.createElement(pt,{token:this.props.token,privilege:this.props.privilege})),i.a.createElement(x.a,{component:"div",role:"tabpanel",hidden:4!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},i.a.createElement(vt,{token:this.props.token,privilege:this.props.privilege}))))}}]),t}(i.a.Component)),ft="token",wt="privilege",bt="loggedIn",St="username",Ct=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={token:sessionStorage.getItem(ft)||"",privilege:sessionStorage.getItem(wt)||"",loggedIn:sessionStorage.getItem(bt)||"",username:sessionStorage.getItem(St)||""},a.login=a.login.bind(Object(p.a)(a)),a.logout=a.logout.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"login",value:function(e,t,a){sessionStorage.setItem(ft,e),sessionStorage.setItem(wt,a),sessionStorage.setItem(bt,!0),sessionStorage.setItem(St,t),this.setState({token:e,privilege:a,loggedIn:!0,username:t})}},{key:"logout",value:function(){w.a.get(k("users/","logout")),this.setState({token:"",privilege:"",loggedIn:!1,username:""}),sessionStorage.removeItem(ft),sessionStorage.removeItem(wt),sessionStorage.removeItem(bt),sessionStorage.removeItem(St),window.location.reload()}},{key:"render",value:function(){return i.a.createElement("div",null,this.state.loggedIn?i.a.createElement(Et,{token:this.state.token,username:this.state.username,privilege:this.state.privilege,logout:this.logout}):i.a.createElement(F,{loginFunc:this.login,shib:this.props.redirected}))}}]),t}(i.a.Component);o.a.render(i.a.createElement(Ct,{redirected:document.referrer}),document.getElementById("root"))},94:function(e,t,a){e.exports=a.p+"static/media/logo.df79d0ea.png"}},[[208,1,2]]]);
//# sourceMappingURL=main.f8ac601c.chunk.js.map
