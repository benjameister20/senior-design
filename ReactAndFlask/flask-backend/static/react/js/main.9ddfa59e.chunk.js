(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{125:function(e,t,a){"use strict";a.r(t);var s,i=a(0),n=a.n(i),r=a(15),l=a.n(r),o=(a(97),a(9)),c=a(10),d=a(12),u=a(11),h=a(5),m=a(13),p=a(171),v=a(185),b=a(8),w=a.n(b),g="https://parseltongue-dev.herokuapp.com/",k=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","W","X","Y","Z"],f=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60];function M(e,t){return g+e+t}!function(e){e.ADMIN="admin",e.USER="user"}(s||(s={}));var y,E,S=a(182),C=a(166),V=a(162),O=a(77),j=a.n(O),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(V.a,{in:this.props.open},n.a.createElement(S.a,{severity:this.props.severity,action:n.a.createElement(C.a,{"aria-label":"close",color:"inherit",size:"small",onClick:this.props.closeStatus},n.a.createElement(j.a,{fontSize:"inherit"}))},this.props.message)))}}]),t}(n.a.Component),D=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:"",statusMessage:"",showStatus:!1,statusSeverity:""},a.closeShowStatus=a.closeShowStatus.bind(Object(h.a)(a)),a.submitCredentials=a.submitCredentials.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"submitCredentials",value:function(){var e=this;w.a.post(M("users/","authenticate"),{username:this.state.username,password:this.state.password}).then((function(t){"success"==t.data.message?(e.setState({message:""}),e.props.loginFunc(t.data.token,t.data.privilege)):e.setState({showStatus:!0,statusMessage:t.data.message})})),this.props.loginFunc("token",s.ADMIN)}},{key:"updateUsername",value:function(e){this.setState({username:e.target.value})}},{key:"updatePassword",value:function(e){this.setState({password:e.target.value})}},{key:"closeShowStatus",value:function(){this.setState({showStatus:!1})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),n.a.createElement(v.a,{id:"outlined-basic",label:"Username",variant:"outlined",required:"true",ref:"username",onChange:this.updateUsername.bind(this)}),n.a.createElement(v.a,{id:"outlined-basic",label:"Password",variant:"outlined",required:"true",ref:"password",type:"password",onChange:this.updatePassword.bind(this)}),n.a.createElement(p.a,{onClick:this.submitCredentials,variant:"contained",color:"primary"},"Sign In"))}}]),t}(n.a.Component),U=a(178),N=a(183),R=a(179);!function(e){e.create="create/",e.delete="delete/",e.edit="edit/",e.view="view/",e.detailView="detailView/",e.search="search/"}(y||(y={})),function(e){e.Vendor="vendor",e.ModelNumber="modelNumber",e.Height="height",e.DisplayColor="displayColor",e.EthernetPorts="ethernetPorts",e.PowerPorts="powerPorts",e.CPU="cpu",e.Memory="memory",e.Storage="storage",e.Comment="comments"}(E||(E={}));var L,P,T=a(173),x=a(177),A=a(176),_=a(172),G=a(174),K=a(175),H=a(126),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"showDetailedView",value:function(e){this.props.showDetailedView(e.target.id)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(_.a,{component:H.a},n.a.createElement(T.a,{className:{minWidth:650},"aria-label":"simple table"},n.a.createElement(G.a,null,n.a.createElement(K.a,null,this.props.columns.map((function(e){return n.a.createElement(A.a,null,n.a.createElement("span",{id:e},e))})))),n.a.createElement(x.a,null,this.props.vals.map((function(t,a){return n.a.createElement(K.a,null,e.props.keys.map((function(s){return n.a.createElement(A.a,{scope:"row"},n.a.createElement("span",{id:a,onClick:e.showDetailedView.bind(e)},t[s]))})))}))))))}}]),t}(n.a.Component),F=a(38),J=a(80),q=a.n(J),z=a(81),W=a.n(z),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(p.a,{variant:"contained",color:"primary",onClick:this.props.openCreateModal},"Create"),n.a.createElement(p.a,{variant:"contained",color:"primary",startIcon:n.a.createElement(q.a,null),onClick:this.props.openImportModal},"Import"),n.a.createElement(p.a,{variant:"contained",color:"primary",startIcon:n.a.createElement(W.a,null),onClick:this.props.downloadTable},"Export"))}}]),t}(n.a.Component),X=a(82),Y=a.n(X),Z=a(83),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={filters:{}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"updateSearchText",value:function(e){if(this.state.filters.hasOwnProperty(e.target.id))this.state.filters[e.target.id]=e.target.value,this.forceUpdate();else{null==e.target.value||e.target.value;this.state.filters[e.target.id]=e.target.value,this.forceUpdate()}}},{key:"search",value:function(){this.props.search(this.state.filters)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.props.filters.map((function(t,a){return n.a.createElement("div",null,n.a.createElement(Y.a,null),n.a.createElement(Z.a,{placeholder:t+" filter",inputProps:{"aria-label":"search"},onChange:e.updateSearchText.bind(e),id:t}))})),n.a.createElement("div",null,n.a.createElement(p.a,{onClick:this.search.bind(this)},"Search")))}}]),t}(n.a.Component),ee=a(184),te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(ee.a,{style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"text.secondary"},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.props.showImportModal,onClose:this.props.closeImportModal},n.a.createElement("div",null,n.a.createElement("input",{type:"file",accept:".csv"}),n.a.createElement(p.a,{variant:"contained",color:"primary"},"Upload")))}}]),t}(n.a.Component),ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={showConfirmationBox:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"closeModal",value:function(){this.setState({showConfirmationBox:!1})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(ee.a,{style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"text.secondary"},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.props.showDetailedView,onClose:this.props.closeDetailedView},n.a.createElement("div",null,this.props.inputs.map((function(t){return n.a.createElement(v.a,{disabled:e.props.disabled,id:"standard-basic",label:t,onChange:e.props.updateModelEdited,defaultValue:e.props.defaultValues[t]})})),this.props.disabled?null:n.a.createElement("div",null,n.a.createElement(p.a,{variant:"contained",color:"primary",onClick:this.props.edit},"Save"),n.a.createElement(p.a,{variant:"contained",color:"primary",onClick:this.props.delete},"Delete")),n.a.createElement(p.a,{variant:"contained",color:"primary",onClick:this.props.closeDetailedView},"Close"))))}}]),t}(n.a.Component),se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(ee.a,{style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"text.secondary"},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.props.showCreateModal,onClose:this.props.closeCreateModal},n.a.createElement("div",null,this.props.inputs.map((function(t){return n.a.createElement(v.a,{id:"standard-basic",label:t,name:t,onChange:e.props.updateModelCreator})})),n.a.createElement(p.a,{variant:"contained",color:"primary",onClick:this.props.createModel},"Create"))))}}]),t}(n.a.Component),ie=["vendor","modelNumber","height","displayColor","ethernetPorts","powerPorts","cpu","memory","storage","comments"],ne=["vendor","modelNumber","height"],re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={showCreateModal:!1,showImportModal:!1,items:[],createdModel:{vendor:"",modelNumber:"",height:"",displayColor:"",ethernetPorts:"",powerPorts:"",cpu:"",memory:"",storage:"",comments:""},createdVendor:"",createdModelNum:"",createdHeight:"",createdDispClr:"",createdEthPorts:"",createdPwrPorts:"",createdCPU:"",createdMem:"",createdStorage:"",createdComments:"",deleteVendor:"",deleteModel:"",viewVendor:"",viewModel:"",searchText:"",csvData:[],showDetailedView:!1,detailViewLoading:!1,detailedValues:{vendor:"",modelNumber:"",height:"",displayColor:"",ethernetPorts:"",powerPorts:"",cpu:"",memory:"",storage:"",comments:""}},a.openCreateModal=a.openCreateModal.bind(Object(h.a)(a)),a.openImportModal=a.openImportModal.bind(Object(h.a)(a)),a.downloadTable=a.downloadTable.bind(Object(h.a)(a)),a.updateSearchText=a.updateSearchText.bind(Object(h.a)(a)),a.search=a.search.bind(Object(h.a)(a)),a.closeImportModal=a.closeImportModal.bind(Object(h.a)(a)),a.closeCreateModal=a.closeCreateModal.bind(Object(h.a)(a)),a.showDetailedView=a.showDetailedView.bind(Object(h.a)(a)),a.editModel=a.editModel.bind(Object(h.a)(a)),a.closeDetailedView=a.closeDetailedView.bind(Object(h.a)(a)),a.updateModelEdited=a.updateModelEdited.bind(Object(h.a)(a)),a.closeCreateModal=a.closeCreateModal.bind(Object(h.a)(a)),a.createModel=a.createModel.bind(Object(h.a)(a)),a.updateModelCreator=a.updateModelCreator.bind(Object(h.a)(a)),a.deleteModel=a.deleteModel.bind(Object(h.a)(a)),w.a.defaults.headers.common.token=a.props.token,w.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"createModel",value:function(){var e=this;w.a.post(M("models/",y.create),{vendor:this.state.createdModel[E.Vendor],modelNumber:this.state.createdModel[E.ModelNumber],height:this.state.createdModel[E.Height],displayColor:this.state.createdModel[E.DisplayColor],ethernetPorts:this.state.createdModel[E.EthernetPorts],powerPorts:this.state.createdModel[E.PowerPorts],cpu:this.state.createdModel[E.CPU],memory:this.state.createdModel[E.Memory],storage:this.state.createdModel[E.Storage],comments:this.state.createdModel[E.Comment]}).then((function(t){"success"===t.data.message?e.setState({showStatus:!0,statusMessage:"Successfully created model",statusSeverity:"success",createdModel:{vendor:"",modelNumber:"",height:"",displayColor:"",ethernetPorts:"",powerPorts:"",cpu:"",memory:"",storage:"",comments:""},showCreateModal:!1}):e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})})),this.setState({createdModel:{vendor:"",modelNumber:"",height:"",displayColor:"",ethernetPorts:"",powerPorts:"",cpu:"",memory:"",storage:"",comments:""},showCreateModal:!1})}},{key:"editModel",value:function(){w.a.post(M("models/",y.edit),{vendor:this.state.detailedValues[E.Vendor],modelNumber:this.state.detailedValues[E.ModelNumber],height:this.state.detailedValues[E.Height],displayColor:this.state.detailedValues[E.DisplayColor],ethernetPorts:this.state.detailedValues[E.EthernetPorts],powerPorts:this.state.detailedValues[E.PowerPorts],cpu:this.state.detailedValues[E.CPU],memory:this.state.detailedValues[E.Memory],storage:this.state.detailedValues[E.Storage],comments:this.state.detailedValues[E.Comment]}).then((function(e){return console.log(e)})),this.setState({detailedValues:{vendor:"",modelNumber:"",height:"",displayColor:"",ethernetPorts:"",powerPorts:"",cpu:"",memory:"",storage:"",comments:""},showDetailedView:!1})}},{key:"deleteModel",value:function(){w.a.post(M("models/",y.delete),{vendor:this.state.detailedValues[E.Vendor],modelNumber:this.state.detailedValues[E.ModelNumber]}).then((function(e){return console.log(e)})),this.setState({detailedValues:{vendor:"",modelNumber:"",height:"",displayColor:"",ethernetPorts:"",powerPorts:"",cpu:"",memory:"",storage:"",comments:""},showDetailedView:!1})}},{key:"detailViewModel",value:function(e,t){var a=this;w.a.post(M("models/",y.detailView),{vendor:e,modelNumber:t},this.props.headers).then((function(e){return a.setState({detailedValues:e.data.models[0],detailViewLoading:!1})})),this.setState({viewVendor:"",viewModel:""})}},{key:"searchModels",value:function(e,t,a){var s=this;w.a.post(M("models/",y.search),{filters:{vendor:e,modelNumber:t,height:a}}).then((function(e){return s.setState({items:e.data.models})})),this.setState({searchText:""})}},{key:"search",value:function(e){this.searchModels(e.vendor,e.modelNumber,e.height)}},{key:"downloadTable",value:function(){this.csvLink.link.click()}},{key:"openCreateModal",value:function(){this.setState({showCreateModal:!0})}},{key:"openImportModal",value:function(){this.setState({showImportModal:!0})}},{key:"showDetailedView",value:function(e){this.setState({showDetailedView:!0,detailViewLoading:!0});var t=this.state.items[e].vendor,a=this.state.items[e].modelNumber;this.detailViewModel(t,a)}},{key:"closeCreateModal",value:function(){this.setState({showCreateModal:!1})}},{key:"closeImportModal",value:function(){this.setState({showImportModal:!1})}},{key:"closeDetailedView",value:function(){this.setState({showDetailedView:!1})}},{key:"updateModelCreator",value:function(e){this.state.createdModel[e.target.name]=e.target.value,this.forceUpdate()}},{key:"updateModelEdited",value:function(e){this.state.detailedValues[e.target.label]=e.target.value,this.forceUpdate()}},{key:"updateSearchText",value:function(e){this.setState({searchText:e.target.value})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.props.privilege==s.ADMIN?n.a.createElement("div",null,n.a.createElement(Q,{openCreateModal:this.openCreateModal,openImportModal:this.openImportModal,downloadTable:this.downloadTable}),n.a.createElement(F.CSVLink,{data:this.state.csvData,filename:"models.csv",className:"hidden",ref:function(t){return e.csvLink=t},target:"_blank"}),n.a.createElement(se,{showCreateModal:this.state.showCreateModal,closeCreateModal:this.closeCreateModal,createModel:this.createModel,updateModelCreator:this.updateModelCreator,inputs:ie}),n.a.createElement(te,{showImportModal:this.state.showImportModal,closeImportModal:this.closeImportModal})):null,n.a.createElement($,{updateSearchText:this.updateSearchText,search:this.search,filters:ne}),n.a.createElement(B,{columns:ne,vals:this.state.items,keys:ne,showDetailedView:this.showDetailedView,filters:ne}),n.a.createElement(ae,{showDetailedView:this.state.showDetailedView,closeDetailedView:this.closeDetailedView,inputs:ie,updateModelEdited:this.updateModelEdited,defaultValues:this.state.detailedValues,loading:this.state.detailViewLoading,edit:this.editModel,delete:this.deleteModel,disabled:this.props.privilege==s.USER}))}}]),t}(n.a.Component);!function(e){e.create="create/",e.delete="delete/",e.edit="edit/",e.view="view/",e.detailView="detailView/",e.search="search/"}(L||(L={})),function(e){e.Username="username",e.Password="password",e.Email="email",e.DisplayName="displayName",e.Privilege="privilege"}(P||(P={}));var le,oe,ce=["username","email","displayName","privilege","password"],de=["username","email","displayName","privilege"],ue=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={showCreateModal:!1,showImportModal:!1,items:[],createdUser:{username:"",password:"",displayName:"",email:"",privilege:""},showStatus:!1,statusMessage:"",statusSeverity:"",deleteUsername:"",viewUser:"",csvData:[],showDetailedView:!1,detailViewLoading:!1,detailedValues:{username:"",displayName:"",email:"",privilege:""}},a.createUser=a.createUser.bind(Object(h.a)(a)),a.editUser=a.editUser.bind(Object(h.a)(a)),a.deleteUser=a.deleteUser.bind(Object(h.a)(a)),a.detailViewUser=a.detailViewUser.bind(Object(h.a)(a)),a.searchUsers=a.searchUsers.bind(Object(h.a)(a)),a.search=a.search.bind(Object(h.a)(a)),a.openCreateModal=a.openCreateModal.bind(Object(h.a)(a)),a.openImportModal=a.openImportModal.bind(Object(h.a)(a)),a.showDetailedView=a.showDetailedView.bind(Object(h.a)(a)),a.closeCreateModal=a.closeCreateModal.bind(Object(h.a)(a)),a.closeImportModal=a.closeImportModal.bind(Object(h.a)(a)),a.closeDetailedView=a.closeDetailedView.bind(Object(h.a)(a)),a.updateUserCreator=a.updateUserCreator.bind(Object(h.a)(a)),a.updateUserEdited=a.updateUserEdited.bind(Object(h.a)(a)),a.closeShowStatus=a.closeShowStatus.bind(Object(h.a)(a)),w.a.defaults.headers.common.token=a.props.token,w.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"createUser",value:function(){var e=this;w.a.post(M("users/",L.create),{username:this.state.createdUser[P.Username],password:this.state.createdUser[P.Password],displayName:this.state.createdUser[P.DisplayName],email:this.state.createdUser[P.Email],privilege:this.state.createdUser[P.Privilege]}).then((function(t){"success"===t.data.message?e.setState({showStatus:!0,statusMessage:"Successfully created user",statusSeverity:"success",createdUser:{username:"",password:"",displayName:"",email:"",privilege:""},showCreateModal:!1}):e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}))}},{key:"editUser",value:function(){w.a.post(M("users/",L.edit),{username:this.state.detailedValues[P.Username],displayName:this.state.detailedValues[P.DisplayName],email:this.state.detailedValues[P.Email],privilege:this.state.detailedValues[P.Privilege]}).then((function(e){return console.log(e)})),this.setState({detailedValues:{username:"",displayName:"",email:"",privilege:""},showDetailedView:!1})}},{key:"deleteUser",value:function(){w.a.post(M("users/",L.delete),{username:this.state.deleteUsername}).then((function(e){return console.log(e)})),this.setState({deleteUsername:"",showDetailedView:!1})}},{key:"detailViewUser",value:function(e){var t=this;w.a.post(M("users/",L.detailView),{username:e}).then((function(e){return t.setState({detailedValues:e.data.users[0],detailViewLoading:!1})})),this.setState({viewUser:""})}},{key:"searchUsers",value:function(e,t,a,s){var i=this;w.a.post(M("users/",L.search),{filters:{username:e,email:t,displayName:a,privilege:s}}).then((function(e){return i.setState({items:e.data.users})}))}},{key:"search",value:function(e){this.searchUsers(e.username,e.email,e.displayName,e.privilege)}},{key:"downloadTable",value:function(){this.csvLink.link.click()}},{key:"openCreateModal",value:function(){this.setState({showCreateModal:!0})}},{key:"openImportModal",value:function(){this.setState({showImportModal:!0})}},{key:"showDetailedView",value:function(e){this.setState({showDetailedView:!0,detailViewLoading:!0});var t=this.state.items[e].username,a=this.state.items[e].email,s=this.state.items[e].displayName,i=this.state.items[e].privilege;this.detailViewUser(t,a,s,i)}},{key:"closeCreateModal",value:function(){this.setState({showCreateModal:!1})}},{key:"closeImportModal",value:function(){this.setState({showImportModal:!1})}},{key:"closeDetailedView",value:function(){this.setState({showDetailedView:!1})}},{key:"updateUserCreator",value:function(e){this.state.createdUser[e.target.name]=e.target.value,this.forceUpdate()}},{key:"updateUserEdited",value:function(e){this.state.detailedValues[e.target.name]=e.target.value,this.forceUpdate()}},{key:"closeShowStatus",value:function(){this.setState({showStatus:!1})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),this.props.privilege==s.ADMIN?n.a.createElement("div",null,n.a.createElement(Q,{openCreateModal:this.openCreateModal,openImportModal:this.openImportModal,downloadTable:this.downloadTable}),n.a.createElement(F.CSVLink,{data:this.state.csvData,filename:"users.csv",className:"hidden",ref:function(t){return e.csvLink=t},target:"_blank"}),n.a.createElement(se,{showCreateModal:this.state.showCreateModal,closeCreateModal:this.closeCreateModal,createModel:this.createUser,updateModelCreator:this.updateUserCreator,inputs:ce}),n.a.createElement(te,{showImportModal:this.state.showImportModal,closeImportModal:this.closeImportModal})):null,n.a.createElement($,{updateSearchText:this.updateSearchText,search:this.search,filters:de}),n.a.createElement(B,{columns:de,vals:this.state.items,keys:de,showDetailedView:this.showDetailedView,filters:de}),n.a.createElement(ae,{showDetailedView:this.state.showDetailedView,closeDetailedView:this.closeDetailedView,inputs:ce,updateModelEdited:this.updateUserEdited,defaultValues:this.state.detailedValues,loading:this.state.detailViewLoading,edit:this.editUser,delete:this.deleteUser}))}}]),t}(n.a.Component);!function(e){e.create="create/",e.delete="delete/",e.edit="edit/",e.view="view/",e.detailView="detailView/",e.search="search/"}(le||(le={})),function(e){e.Model="model",e.Hostname="hostname",e.Rack="rack",e.RackU="rackU",e.Owner="owner",e.Comment="comment"}(oe||(oe={}));var he,me=["model","hostname","rack","rackU","owner","comment"],pe=["model","hostname","rack","rackU"],ve=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={showCreateModal:!1,showImportModal:!1,items:[],createdInstance:{model:"",hostname:"",rack:"",rackU:"",owner:"",comment:""},showStatus:!1,statusMessage:"",statusSeverity:"",deleteInstanceRack:"",deleteInstanceRackU:"",viewInstanceRack:"",viewInstanceRackU:"",csvData:[],showDetailedView:!1,detailViewLoading:!1,detailedValues:{model:"",hostname:"",rack:"",rackU:"",owner:"",comment:""}},a.createInstance=a.createInstance.bind(Object(h.a)(a)),a.editInstance=a.editInstance.bind(Object(h.a)(a)),a.deleteInstance=a.deleteInstance.bind(Object(h.a)(a)),a.detailViewInstance=a.detailViewInstance.bind(Object(h.a)(a)),a.searchInstances=a.searchInstances.bind(Object(h.a)(a)),a.search=a.search.bind(Object(h.a)(a)),a.openCreateModal=a.openCreateModal.bind(Object(h.a)(a)),a.openImportModal=a.openImportModal.bind(Object(h.a)(a)),a.showDetailedView=a.showDetailedView.bind(Object(h.a)(a)),a.closeCreateModal=a.closeCreateModal.bind(Object(h.a)(a)),a.closeImportModal=a.closeImportModal.bind(Object(h.a)(a)),a.closeDetailedView=a.closeDetailedView.bind(Object(h.a)(a)),a.updateInstanceCreator=a.updateInstanceCreator.bind(Object(h.a)(a)),a.updateInstanceEdited=a.updateInstanceEdited.bind(Object(h.a)(a)),a.closeShowStatus=a.closeShowStatus.bind(Object(h.a)(a)),w.a.defaults.headers.common.token=a.props.token,w.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"createInstance",value:function(){var e=this;w.a.post(M("instances/",le.create),{model:this.state.createdInstance[oe.Model],hostname:this.state.createdInstance[oe.Hostname],rack:this.state.createdInstance[oe.Rack],rackU:this.state.createdInstance[oe.RackU],owner:this.state.createdInstance[oe.Owner],comment:this.state.createdInstance[oe.Comment]}).then((function(t){"success"===t.data.message?e.setState({showStatus:!0,statusMessage:"Successfully created instance",statusSeverity:"success",createdInstance:{model:"",hostname:"",rack:"",rackU:"",owner:"",comment:""},showCreateModal:!1}):e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}))}},{key:"editInstance",value:function(){w.a.post(M("instances/",le.edit),{model:this.state.detailedValues[oe.Model],hostname:this.state.detailedValues[oe.Hostname],rack:this.state.detailedValues[oe.Rack],rackU:this.state.detailedValues[oe.RackU],owner:this.state.detailedValues[oe.Owner],comment:this.state.detailedValues[oe.Comment]}).then((function(e){return console.log(e)})),this.setState({detailedValues:{model:"",hostname:"",rack:"",rackU:"",owner:"",comment:""},showDetailedView:!1})}},{key:"deleteInstance",value:function(){w.a.post(M("instances/",le.delete),{rack:this.state.deleteInstanceRack,rackU:this.state.deleteInstanceRackU}).then((function(e){return console.log(e)})),this.setState({deleteInstanceRack:"",deleteInstanceRackU:"",showDetailedView:!1})}},{key:"detailViewInstance",value:function(e,t){var a=this;w.a.post(M("instances/",le.detailView),{rack:e,rackU:t}).then((function(e){return a.setState({detailedValues:e.data.instances[0],detailViewLoading:!1})})),this.setState({viewInstanceRack:""})}},{key:"searchInstances",value:function(e,t,a,s){var i=this;w.a.post(M("instances/",le.search),{filters:{model:e,hostname:t,rack:a,rackU:s}}).then((function(e){return i.setState({items:e.data.instances})}))}},{key:"search",value:function(e){this.searchInstances(e.model,e.hostname,e.rack,e.rackU)}},{key:"downloadTable",value:function(){this.csvLink.link.click()}},{key:"openCreateModal",value:function(){this.setState({showCreateModal:!0})}},{key:"openImportModal",value:function(){this.setState({showImportModal:!0})}},{key:"showDetailedView",value:function(e){this.setState({showDetailedView:!0,detailViewLoading:!0});var t=this.state.items[e].model,a=this.state.items[e].hostname,s=this.state.items[e].rack,i=this.state.items[e].rackU;this.detailViewInstance(t,a,s,i)}},{key:"closeCreateModal",value:function(){this.setState({showCreateModal:!1})}},{key:"closeImportModal",value:function(){this.setState({showImportModal:!1})}},{key:"closeDetailedView",value:function(){this.setState({showDetailedView:!1})}},{key:"updateInstanceCreator",value:function(e){this.state.createdInstance[e.target.name]=e.target.value,this.forceUpdate()}},{key:"updateInstanceEdited",value:function(e){this.state.detailedValues[e.target.name]=e.target.value,this.forceUpdate()}},{key:"closeShowStatus",value:function(){this.setState({showStatus:!1})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),this.props.privilege==s.ADMIN?n.a.createElement("div",null,n.a.createElement(Q,{openCreateModal:this.openCreateModal,openImportModal:this.openImportModal,downloadTable:this.downloadTable}),n.a.createElement(F.CSVLink,{data:this.state.csvData,filename:"instances.csv",className:"hidden",ref:function(t){return e.csvLink=t},target:"_blank"}),n.a.createElement(se,{showCreateModal:this.state.showCreateModal,closeCreateModal:this.closeCreateModal,createModel:this.createInstance,updateModelCreator:this.updateInstanceCreator,inputs:me}),n.a.createElement(te,{showImportModal:this.state.showImportModal,closeImportModal:this.closeImportModal})):null,n.a.createElement($,{updateSearchText:this.updateSearchText,search:this.search,filters:pe}),n.a.createElement(B,{columns:pe,vals:this.state.items,keys:pe,showDetailedView:this.showDetailedView,filters:pe}),n.a.createElement(ae,{showDetailedView:this.state.showDetailedView,closeDetailedView:this.closeDetailedView,inputs:me,updateModelEdited:this.updateInstanceEdited,defaultValues:this.state.detailedValues,loading:this.state.detailViewLoading,edit:this.editInstance,delete:this.deleteInstance}))}}]),t}(n.a.Component),be=a(181),we=a(170),ge=a(169),ke=a(186);!function(e){e.GET_ALL_RACKS="all",e.CREATE_RACKS="create",e.DELETE_RACKS="delete",e.GET_RACK_DETAILS="details"}(he||(he={}));var fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={items:[],startingRackLetter:"",endingRackLetter:"",startingRackNumber:-1,endingRackNumber:-1,showStatus:!1,statusMessage:"",statusSeverity:""},a.getAllRacks=a.getAllRacks.bind(Object(h.a)(a)),a.updateRacks=a.updateRacks.bind(Object(h.a)(a)),a.createRacks=a.createRacks.bind(Object(h.a)(a)),a.deleteRacks=a.deleteRacks.bind(Object(h.a)(a)),a.showDetailedView=a.showDetailedView.bind(Object(h.a)(a)),a.changeStartingLetter=a.changeStartingLetter.bind(Object(h.a)(a)),a.changeEndingLetter=a.changeEndingLetter.bind(Object(h.a)(a)),a.changeStartingNum=a.changeStartingNum.bind(Object(h.a)(a)),a.changeEndingNum=a.changeEndingNum.bind(Object(h.a)(a)),w.a.defaults.headers.common.token=a.props.token,w.a.defaults.headers.common.privilege=a.props.privilege,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getAllRacks",value:function(){var e=this;w.a.get(M("racks/",he.GET_ALL_RACKS)).then((function(t){"success"===t.data.message?e.setState({showStatus:!0,statusMessage:"Success"}):e.setState({showStatus:!0,statusMessage:t.data.message,statusSeverity:"error"})}))}},{key:"updateRacks",value:function(e){var t=this;w.a.post(M("racks/",e),{start_letter:this.state.startingRackLetter,stop_letter:this.state.endingRackLetter,start_number:this.state.startingRackNumber,stop_number:this.state.endingRackNumber}).then((function(e){"success"===e.data.message?t.setState({showStatus:!0,statusMessage:"Success"}):t.setState({showStatus:!0,statusMessage:e.data.message,statusSeverity:"error"})}))}},{key:"createRacks",value:function(){this.updateRacks(he.CREATE_RACKS)}},{key:"deleteRacks",value:function(){this.updateRacks(he.DELETE_RACKS)}},{key:"showDetailedView",value:function(){this.updateRacks(he.GET_RACK_DETAILS)}},{key:"changeStartingLetter",value:function(e){this.setState({startingRackLetter:e.target.value})}},{key:"changeEndingLetter",value:function(e){this.setState({endingRackLetter:e.target.value})}},{key:"changeStartingNum",value:function(e){this.setState({startingRackNumber:e.target.value})}},{key:"changeEndingNum",value:function(e){this.setState({endingRackNumber:e.target.value})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(I,{open:this.state.showStatus,severity:this.state.statusSeverity,closeStatus:this.closeShowStatus,message:this.state.statusMessage}),n.a.createElement(ge.a,null,n.a.createElement(be.a,{id:"starting-letter-selector",value:this.state.startingRackLetter,onChange:this.changeStartingLetter},k.map((function(e){return n.a.createElement(ke.a,{value:e},e)}))),n.a.createElement(we.a,null,"Starting Letter")),n.a.createElement(ge.a,null,n.a.createElement(be.a,{id:"ending-letter-selector",value:this.state.endingRackLetter,onChange:this.changeEndingLetter},k.map((function(e){return n.a.createElement(ke.a,{value:e},e)}))),n.a.createElement(we.a,null,"Ending Letter")),n.a.createElement(ge.a,null,n.a.createElement(be.a,{id:"starting-num-selector",value:this.state.startingRackNumber,onChange:this.changeStartingNum},f.map((function(e){return n.a.createElement(ke.a,{value:e},e)}))),n.a.createElement(we.a,null,"Starting Number")),n.a.createElement(ge.a,null,n.a.createElement(be.a,{id:"ending-num-selector",value:this.state.endingRackNumber,onChange:this.changeEndingNum},f.map((function(e){return n.a.createElement(ke.a,{value:e},e)}))),n.a.createElement(we.a,null,"Ending Number")),n.a.createElement(p.a,{variant:"contained",color:"primary",onClick:this.viewRacks},"View"),this.props.privilege==s.ADMIN?n.a.createElement("div",null,n.a.createElement(p.a,{variant:"contained",color:"primary",onClick:this.createRacks},"Create"),n.a.createElement(p.a,{variant:"contained",color:"primary",onClick:this.deleteRacks},"Delete")):null)}}]),t}(n.a.Component);function Me(e){return n.a.createElement("div",null)}var ye=a(180),Ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={currentTabID:0},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e,t){this.setState({currentTabID:t})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(U.a,{position:"static"},n.a.createElement(N.a,{value:this.state.currentTabID,onChange:this.handleChange},n.a.createElement(R.a,{value:0,style:{flexGrow:1},label:"Models"}," "),n.a.createElement(R.a,{value:1,style:{flexGrow:1},label:"Instances"}),this.props.privilege==s.ADMIN?n.a.createElement(R.a,{value:2,style:{flexGrow:1},label:"Users"}):null,n.a.createElement(R.a,{value:3,style:{flexGrow:1},label:"Racks"}),n.a.createElement(R.a,{value:4,style:{flexGrow:1},label:"Statistics"}),n.a.createElement(p.a,{style:{flexGrow:1},variant:"contained",color:"secondary",onClick:this.props.logout},"Logout"))),n.a.createElement(ye.a,{component:"div",role:"tabpanel",hidden:0!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},n.a.createElement(re,{token:this.props.token,privilege:this.props.privilege})),n.a.createElement(ye.a,{component:"div",role:"tabpanel",hidden:1!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},n.a.createElement(ve,{token:this.props.token,privilege:this.props.privilege})),n.a.createElement(ye.a,{component:"div",role:"tabpanel",hidden:2!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},n.a.createElement(ue,{token:this.props.token,privilege:this.props.privilege})),n.a.createElement(ye.a,{component:"div",role:"tabpanel",hidden:3!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},n.a.createElement(fe,{token:this.props.token,privilege:this.props.privilege})),n.a.createElement(ye.a,{component:"div",role:"tabpanel",hidden:4!==this.state.currentTabID,id:"simple-tabpanel-0","aria-labelledby":"simple-tab-0"},n.a.createElement(Me,{token:this.props.token,privilege:this.props.privilege})))}}]),t}(n.a.Component),Se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={token:"",privilege:"",loggedIn:!1},a.login=a.login.bind(Object(h.a)(a)),a.logout=a.logout.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"login",value:function(e,t){this.setState({token:e,privilege:t,loggedIn:!0})}},{key:"logout",value:function(){w.a.get(M("users/","logout")),this.setState({token:"",privilege:"",loggedIn:!1})}},{key:"render",value:function(){return n.a.createElement("div",null,this.state.loggedIn?n.a.createElement(Ee,{token:this.state.token,privilege:this.state.privilege,logout:this.logout}):n.a.createElement(D,{loginFunc:this.login}))}}]),t}(n.a.Component);l.a.render(n.a.createElement(Se,null),document.getElementById("root"))},92:function(e,t,a){e.exports=a(125)},97:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.9ddfa59e.chunk.js.map
